function II(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function D_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O_={exports:{}},$u={},M_={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),bI=Symbol.for("react.portal"),CI=Symbol.for("react.fragment"),AI=Symbol.for("react.strict_mode"),RI=Symbol.for("react.profiler"),PI=Symbol.for("react.provider"),kI=Symbol.for("react.context"),NI=Symbol.for("react.forward_ref"),DI=Symbol.for("react.suspense"),OI=Symbol.for("react.memo"),MI=Symbol.for("react.lazy"),hv=Symbol.iterator;function LI(t){return t===null||typeof t!="object"?null:(t=hv&&t[hv]||t["@@iterator"],typeof t=="function"?t:null)}var L_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V_=Object.assign,$_={};function ws(t,e,n){this.props=t,this.context=e,this.refs=$_,this.updater=n||L_}ws.prototype.isReactComponent={};ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F_(){}F_.prototype=ws.prototype;function Tp(t,e,n){this.props=t,this.context=e,this.refs=$_,this.updater=n||L_}var Sp=Tp.prototype=new F_;Sp.constructor=Tp;V_(Sp,ws.prototype);Sp.isPureReactComponent=!0;var fv=Array.isArray,j_=Object.prototype.hasOwnProperty,Ip={current:null},U_={key:!0,ref:!0,__self:!0,__source:!0};function B_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)j_.call(e,r)&&!U_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sl,type:t,key:o,ref:s,props:i,_owner:Ip.current}}function VI(t,e){return{$$typeof:sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===sl}function $I(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pv=/\/+/g;function Gd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$I(""+t.key):e.toString(36)}function Sc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sl:case bI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Gd(s,0):r,fv(i)?(n="",t!=null&&(n=t.replace(pv,"$&/")+"/"),Sc(i,e,n,"",function(u){return u})):i!=null&&(bp(i)&&(i=VI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(pv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",fv(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+Gd(o,a);s+=Sc(o,e,n,c,i)}else if(c=LI(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+Gd(o,a++),s+=Sc(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hl(t,e,n){if(t==null)return t;var r=[],i=0;return Sc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function FI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Ic={transition:null},jI={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Ic,ReactCurrentOwner:Ip};function z_(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Hl,forEach:function(t,e,n){Hl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hl(t,function(){e++}),e},toArray:function(t){return Hl(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=ws;de.Fragment=CI;de.Profiler=RI;de.PureComponent=Tp;de.StrictMode=AI;de.Suspense=DI;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jI;de.act=z_;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ip.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)j_.call(e,c)&&!U_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:sl,type:t.type,key:i,ref:o,props:r,_owner:s}};de.createContext=function(t){return t={$$typeof:kI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PI,_context:t},t.Consumer=t};de.createElement=B_;de.createFactory=function(t){var e=B_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:NI,render:t}};de.isValidElement=bp;de.lazy=function(t){return{$$typeof:MI,_payload:{_status:-1,_result:t},_init:FI}};de.memo=function(t,e){return{$$typeof:OI,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Ic.transition;Ic.transition={};try{t()}finally{Ic.transition=e}};de.unstable_act=z_;de.useCallback=function(t,e){return Mt.current.useCallback(t,e)};de.useContext=function(t){return Mt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Mt.current.useEffect(t,e)};de.useId=function(){return Mt.current.useId()};de.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Mt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};de.useRef=function(t){return Mt.current.useRef(t)};de.useState=function(t){return Mt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Mt.current.useTransition()};de.version="18.3.1";M_.exports=de;var y=M_.exports;const z=D_(y),Cp=II({__proto__:null,default:z},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI=y,BI=Symbol.for("react.element"),zI=Symbol.for("react.fragment"),WI=Object.prototype.hasOwnProperty,HI=UI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qI={key:!0,ref:!0,__self:!0,__source:!0};function W_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)WI.call(e,r)&&!qI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BI,type:t,key:o,ref:s,props:i,_owner:HI.current}}$u.Fragment=zI;$u.jsx=W_;$u.jsxs=W_;O_.exports=$u;var T=O_.exports,Hh={},H_={exports:{}},nn={},q_={exports:{}},G_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,F){var q=$.length;$.push(F);e:for(;0<q;){var ce=q-1>>>1,G=$[ce];if(0<i(G,F))$[ce]=F,$[q]=G,q=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var F=$[0],q=$.pop();if(q!==F){$[0]=q;e:for(var ce=0,G=$.length,K=G>>>1;ce<K;){var se=2*(ce+1)-1,he=$[se],Pe=se+1,H=$[Pe];if(0>i(he,q))Pe<G&&0>i(H,he)?($[ce]=H,$[Pe]=q,ce=Pe):($[ce]=he,$[se]=q,ce=se);else if(Pe<G&&0>i(H,q))$[ce]=H,$[Pe]=q,ce=Pe;else break e}}return F}function i($,F){var q=$.sortIndex-F.sortIndex;return q!==0?q:$.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,g=3,p=!1,S=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=$)r(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function k($){if(w=!1,E($),!S)if(n(c)!==null)S=!0,te(O);else{var F=n(u);F!==null&&ne(k,F.startTime-$)}}function O($,F){S=!1,w&&(w=!1,_(x),x=-1),p=!0;var q=g;try{for(E(F),f=n(c);f!==null&&(!(f.expirationTime>F)||$&&!D());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,g=f.priorityLevel;var G=ce(f.expirationTime<=F);F=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),E(F)}else r(c);f=n(c)}if(f!==null)var K=!0;else{var se=n(u);se!==null&&ne(k,se.startTime-F),K=!1}return K}finally{f=null,g=q,p=!1}}var L=!1,I=null,x=-1,A=5,R=-1;function D(){return!(t.unstable_now()-R<A)}function N(){if(I!==null){var $=t.unstable_now();R=$;var F=!0;try{F=I(!0,$)}finally{F?P():(L=!1,I=null)}}else L=!1}var P;if(typeof v=="function")P=function(){v(N)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,oe=J.port2;J.port1.onmessage=N,P=function(){oe.postMessage(null)}}else P=function(){C(N,0)};function te($){I=$,L||(L=!0,P())}function ne($,F){x=C(function(){$(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,te(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var q=g;g=F;try{return $()}finally{g=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,F){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=g;g=$;try{return F()}finally{g=q}},t.unstable_scheduleCallback=function($,F,q){var ce=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ce+q:ce):q=ce,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=q+G,$={id:d++,callback:F,priorityLevel:$,startTime:q,expirationTime:G,sortIndex:-1},q>ce?($.sortIndex=q,e(u,$),n(c)===null&&$===n(u)&&(w?(_(x),x=-1):w=!0,ne(k,q-ce))):($.sortIndex=G,e(c,$),S||p||(S=!0,te(O))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var F=g;return function(){var q=g;g=F;try{return $.apply(this,arguments)}finally{g=q}}}})(G_);q_.exports=G_;var GI=q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=y,tn=GI;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K_=new Set,Ra={};function io(t,e){ts(t,e),ts(t+"Capture",e)}function ts(t,e){for(Ra[t]=e,t=0;t<e.length;t++)K_.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qh=Object.prototype.hasOwnProperty,QI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mv={},gv={};function YI(t){return qh.call(gv,t)?!0:qh.call(mv,t)?!1:QI.test(t)?gv[t]=!0:(mv[t]=!0,!1)}function XI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JI(t,e,n,r){if(e===null||typeof e>"u"||XI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ap=/[\-:]([a-z])/g;function Rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ap,Rp);gt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ap,Rp);gt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ap,Rp);gt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pp(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JI(e,n,i,r)&&(n=null),r||i===null?YI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=KI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ql=Symbol.for("react.element"),Po=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),kp=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),Y_=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),Kh=Symbol.for("react.suspense"),Qh=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),X_=Symbol.for("react.offscreen"),vv=Symbol.iterator;function Ks(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Kd;function oa(t){if(Kd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kd=e&&e[1]||""}return`
`+Kd+t}var Qd=!1;function Yd(t,e){if(!t||Qd)return"";Qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{Qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oa(t):""}function ZI(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=Yd(t.type,!1),t;case 11:return t=Yd(t.type.render,!1),t;case 1:return t=Yd(t.type,!0),t;default:return""}}function Yh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case Po:return"Portal";case Gh:return"Profiler";case kp:return"StrictMode";case Kh:return"Suspense";case Qh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y_:return(t.displayName||"Context")+".Consumer";case Q_:return(t._context.displayName||"Context")+".Provider";case Np:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dp:return e=t.displayName||null,e!==null?e:Yh(t.type)||"Memo";case Br:e=t._payload,t=t._init;try{return Yh(t(e))}catch{}}return null}function eb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yh(e);case 8:return e===kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tb(t){var e=J_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gl(t){t._valueTracker||(t._valueTracker=tb(t))}function Z_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xh(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ew(t,e){e=e.checked,e!=null&&Pp(t,"checked",e,!1)}function Jh(t,e){ew(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zh(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _v(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zh(t,e,n){(e!=="number"||qc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sa=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(sa(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function tw(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ev(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kl,rw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kl=Kl||document.createElement("div"),Kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nb=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){nb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function iw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function ow(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rb=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nf(t,e){if(e){if(rb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function rf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=null;function Op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sf=null,Wo=null,Ho=null;function xv(t){if(t=cl(t)){if(typeof sf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=zu(e),sf(t.stateNode,t.type,e))}}function sw(t){Wo?Ho?Ho.push(t):Ho=[t]:Wo=t}function aw(){if(Wo){var t=Wo,e=Ho;if(Ho=Wo=null,xv(t),e)for(t=0;t<e.length;t++)xv(e[t])}}function lw(t,e){return t(e)}function cw(){}var Xd=!1;function uw(t,e,n){if(Xd)return t(e,n);Xd=!0;try{return lw(t,e,n)}finally{Xd=!1,(Wo!==null||Ho!==null)&&(cw(),aw())}}function ka(t,e){var n=t.stateNode;if(n===null)return null;var r=zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var af=!1;if(_r)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){af=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{af=!1}function ib(t,e,n,r,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var pa=!1,Gc=null,Kc=!1,lf=null,ob={onError:function(t){pa=!0,Gc=t}};function sb(t,e,n,r,i,o,s,a,c){pa=!1,Gc=null,ib.apply(ob,arguments)}function ab(t,e,n,r,i,o,s,a,c){if(sb.apply(this,arguments),pa){if(pa){var u=Gc;pa=!1,Gc=null}else throw Error(B(198));Kc||(Kc=!0,lf=u)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tv(t){if(oo(t)!==t)throw Error(B(188))}function lb(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Tv(i),t;if(o===r)return Tv(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function hw(t){return t=lb(t),t!==null?fw(t):null}function fw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fw(t);if(e!==null)return e;t=t.sibling}return null}var pw=tn.unstable_scheduleCallback,Sv=tn.unstable_cancelCallback,cb=tn.unstable_shouldYield,ub=tn.unstable_requestPaint,Qe=tn.unstable_now,db=tn.unstable_getCurrentPriorityLevel,Mp=tn.unstable_ImmediatePriority,mw=tn.unstable_UserBlockingPriority,Qc=tn.unstable_NormalPriority,hb=tn.unstable_LowPriority,gw=tn.unstable_IdlePriority,Fu=null,zn=null;function fb(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Fu,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:gb,pb=Math.log,mb=Math.LN2;function gb(t){return t>>>=0,t===0?32:31-(pb(t)/mb|0)|0}var Ql=64,Yl=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=aa(a):(o&=s,o!==0&&(r=aa(o)))}else s=n&~i,s!==0?r=aa(s):o!==0&&(r=aa(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function vb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-An(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=vb(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function cf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vw(){var t=Ql;return Ql<<=1,!(Ql&4194240)&&(Ql=64),t}function Jd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function al(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function _b(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _w,Vp,ww,Ew,xw,uf=!1,Xl=[],ei=null,ti=null,ni=null,Na=new Map,Da=new Map,Wr=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iv(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(e.pointerId)}}function Ys(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=cl(e),e!==null&&Vp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Eb(t,e,n,r,i){switch(e){case"focusin":return ei=Ys(ei,t,e,n,r,i),!0;case"dragenter":return ti=Ys(ti,t,e,n,r,i),!0;case"mouseover":return ni=Ys(ni,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Na.set(o,Ys(Na.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Da.set(o,Ys(Da.get(o)||null,t,e,n,r,i)),!0}return!1}function Tw(t){var e=Li(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=dw(n),e!==null){t.blockedOn=e,xw(t.priority,function(){ww(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=df(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);of=r,n.target.dispatchEvent(r),of=null}else return e=cl(n),e!==null&&Vp(e),t.blockedOn=n,!1;e.shift()}return!0}function bv(t,e,n){bc(t)&&n.delete(e)}function xb(){uf=!1,ei!==null&&bc(ei)&&(ei=null),ti!==null&&bc(ti)&&(ti=null),ni!==null&&bc(ni)&&(ni=null),Na.forEach(bv),Da.forEach(bv)}function Xs(t,e){t.blockedOn===e&&(t.blockedOn=null,uf||(uf=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,xb)))}function Oa(t){function e(i){return Xs(i,t)}if(0<Xl.length){Xs(Xl[0],t);for(var n=1;n<Xl.length;n++){var r=Xl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&Xs(ei,t),ti!==null&&Xs(ti,t),ni!==null&&Xs(ni,t),Na.forEach(e),Da.forEach(e),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)Tw(n),n.blockedOn===null&&Wr.shift()}var qo=kr.ReactCurrentBatchConfig,Xc=!0;function Tb(t,e,n,r){var i=Ie,o=qo.transition;qo.transition=null;try{Ie=1,$p(t,e,n,r)}finally{Ie=i,qo.transition=o}}function Sb(t,e,n,r){var i=Ie,o=qo.transition;qo.transition=null;try{Ie=4,$p(t,e,n,r)}finally{Ie=i,qo.transition=o}}function $p(t,e,n,r){if(Xc){var i=df(t,e,n,r);if(i===null)lh(t,e,r,Jc,n),Iv(t,r);else if(Eb(i,t,e,n,r))r.stopPropagation();else if(Iv(t,r),e&4&&-1<wb.indexOf(t)){for(;i!==null;){var o=cl(i);if(o!==null&&_w(o),o=df(t,e,n,r),o===null&&lh(t,e,r,Jc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else lh(t,e,r,null,n)}}var Jc=null;function df(t,e,n,r){if(Jc=null,t=Op(r),t=Li(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jc=t,null}function Sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(db()){case Mp:return 1;case mw:return 4;case Qc:case hb:return 16;case gw:return 536870912;default:return 16}default:return 16}}var Yr=null,Fp=null,Cc=null;function Iw(){if(Cc)return Cc;var t,e=Fp,n=e.length,r,i="value"in Yr?Yr.value:Yr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Cc=i.slice(t,1<r?1-r:void 0)}function Ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function Cv(){return!1}function rn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Jl:Cv,this.isPropagationStopped=Cv,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=rn(Es),ll=Be({},Es,{view:0,detail:0}),Ib=rn(ll),Zd,eh,Js,ju=Be({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Js&&(Js&&t.type==="mousemove"?(Zd=t.screenX-Js.screenX,eh=t.screenY-Js.screenY):eh=Zd=0,Js=t),Zd)},movementY:function(t){return"movementY"in t?t.movementY:eh}}),Av=rn(ju),bb=Be({},ju,{dataTransfer:0}),Cb=rn(bb),Ab=Be({},ll,{relatedTarget:0}),th=rn(Ab),Rb=Be({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Pb=rn(Rb),kb=Be({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nb=rn(kb),Db=Be({},Es,{data:0}),Rv=rn(Db),Ob={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lb[t])?!!e[t]:!1}function Up(){return Vb}var $b=Be({},ll,{key:function(t){if(t.key){var e=Ob[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Up,charCode:function(t){return t.type==="keypress"?Ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fb=rn($b),jb=Be({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pv=rn(jb),Ub=Be({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Up}),Bb=rn(Ub),zb=Be({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wb=rn(zb),Hb=Be({},ju,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qb=rn(Hb),Gb=[9,13,27,32],Bp=_r&&"CompositionEvent"in window,ma=null;_r&&"documentMode"in document&&(ma=document.documentMode);var Kb=_r&&"TextEvent"in window&&!ma,bw=_r&&(!Bp||ma&&8<ma&&11>=ma),kv=String.fromCharCode(32),Nv=!1;function Cw(t,e){switch(t){case"keyup":return Gb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var No=!1;function Qb(t,e){switch(t){case"compositionend":return Aw(e);case"keypress":return e.which!==32?null:(Nv=!0,kv);case"textInput":return t=e.data,t===kv&&Nv?null:t;default:return null}}function Yb(t,e){if(No)return t==="compositionend"||!Bp&&Cw(t,e)?(t=Iw(),Cc=Fp=Yr=null,No=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bw&&e.locale!=="ko"?null:e.data;default:return null}}var Xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xb[t.type]:e==="textarea"}function Rw(t,e,n,r){sw(r),e=Zc(e,"onChange"),0<e.length&&(n=new jp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,Ma=null;function Jb(t){jw(t,0)}function Uu(t){var e=Mo(t);if(Z_(e))return t}function Zb(t,e){if(t==="change")return e}var Pw=!1;if(_r){var nh;if(_r){var rh="oninput"in document;if(!rh){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),rh=typeof Ov.oninput=="function"}nh=rh}else nh=!1;Pw=nh&&(!document.documentMode||9<document.documentMode)}function Mv(){ga&&(ga.detachEvent("onpropertychange",kw),Ma=ga=null)}function kw(t){if(t.propertyName==="value"&&Uu(Ma)){var e=[];Rw(e,Ma,t,Op(t)),uw(Jb,e)}}function eC(t,e,n){t==="focusin"?(Mv(),ga=e,Ma=n,ga.attachEvent("onpropertychange",kw)):t==="focusout"&&Mv()}function tC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(Ma)}function nC(t,e){if(t==="click")return Uu(e)}function rC(t,e){if(t==="input"||t==="change")return Uu(e)}function iC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:iC;function La(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qh.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function Lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vv(t,e){var n=Lv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lv(n)}}function Nw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dw(){for(var t=window,e=qc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qc(t.document)}return e}function zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oC(t){var e=Dw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nw(n.ownerDocument.documentElement,n)){if(r!==null&&zp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Vv(n,o);var s=Vv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sC=_r&&"documentMode"in document&&11>=document.documentMode,Do=null,hf=null,va=null,ff=!1;function $v(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||Do==null||Do!==qc(r)||(r=Do,"selectionStart"in r&&zp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),va&&La(va,r)||(va=r,r=Zc(hf,"onSelect"),0<r.length&&(e=new jp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Do)))}function Zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oo={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},ih={},Ow={};_r&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Bu(t){if(ih[t])return ih[t];if(!Oo[t])return t;var e=Oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ow)return ih[t]=e[n];return t}var Mw=Bu("animationend"),Lw=Bu("animationiteration"),Vw=Bu("animationstart"),$w=Bu("transitionend"),Fw=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){Fw.set(t,e),io(e,[t])}for(var oh=0;oh<Fv.length;oh++){var sh=Fv[oh],aC=sh.toLowerCase(),lC=sh[0].toUpperCase()+sh.slice(1);Ti(aC,"on"+lC)}Ti(Mw,"onAnimationEnd");Ti(Lw,"onAnimationIteration");Ti(Vw,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti($w,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cC=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function jv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ab(r,e,void 0,t),t.currentTarget=null}function jw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;jv(i,a,u),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;jv(i,a,u),o=c}}}if(Kc)throw t=lf,Kc=!1,lf=null,t}function De(t,e){var n=e[yf];n===void 0&&(n=e[yf]=new Set);var r=t+"__bubble";n.has(r)||(Uw(e,t,2,!1),n.add(r))}function ah(t,e,n){var r=0;e&&(r|=4),Uw(n,t,r,e)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Va(t){if(!t[ec]){t[ec]=!0,K_.forEach(function(n){n!=="selectionchange"&&(cC.has(n)||ah(n,!1,t),ah(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ec]||(e[ec]=!0,ah("selectionchange",!1,e))}}function Uw(t,e,n,r){switch(Sw(e)){case 1:var i=Tb;break;case 4:i=Sb;break;default:i=$p}n=i.bind(null,e,n,t),i=void 0,!af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Li(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}uw(function(){var u=o,d=Op(n),f=[];e:{var g=Fw.get(t);if(g!==void 0){var p=jp,S=t;switch(t){case"keypress":if(Ac(n)===0)break e;case"keydown":case"keyup":p=Fb;break;case"focusin":S="focus",p=th;break;case"focusout":S="blur",p=th;break;case"beforeblur":case"afterblur":p=th;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bb;break;case Mw:case Lw:case Vw:p=Pb;break;case $w:p=Wb;break;case"scroll":p=Ib;break;case"wheel":p=qb;break;case"copy":case"cut":case"paste":p=Nb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pv}var w=(e&4)!==0,C=!w&&t==="scroll",_=w?g!==null?g+"Capture":null:g;w=[];for(var v=u,E;v!==null;){E=v;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,_!==null&&(k=ka(v,_),k!=null&&w.push($a(v,k,E)))),C)break;v=v.return}0<w.length&&(g=new p(g,S,null,n,d),f.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==of&&(S=n.relatedTarget||n.fromElement)&&(Li(S)||S[wr]))break e;if((p||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=u,S=S?Li(S):null,S!==null&&(C=oo(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=u),p!==S)){if(w=Av,k="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Pv,k="onPointerLeave",_="onPointerEnter",v="pointer"),C=p==null?g:Mo(p),E=S==null?g:Mo(S),g=new w(k,v+"leave",p,n,d),g.target=C,g.relatedTarget=E,k=null,Li(d)===u&&(w=new w(_,v+"enter",S,n,d),w.target=E,w.relatedTarget=C,k=w),C=k,p&&S)t:{for(w=p,_=S,v=0,E=w;E;E=Eo(E))v++;for(E=0,k=_;k;k=Eo(k))E++;for(;0<v-E;)w=Eo(w),v--;for(;0<E-v;)_=Eo(_),E--;for(;v--;){if(w===_||_!==null&&w===_.alternate)break t;w=Eo(w),_=Eo(_)}w=null}else w=null;p!==null&&Uv(f,g,p,w,!1),S!==null&&C!==null&&Uv(f,C,S,w,!0)}}e:{if(g=u?Mo(u):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var O=Zb;else if(Dv(g))if(Pw)O=rC;else{O=tC;var L=eC}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=nC);if(O&&(O=O(t,u))){Rw(f,O,n,d);break e}L&&L(t,g,u),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&Zh(g,"number",g.value)}switch(L=u?Mo(u):window,t){case"focusin":(Dv(L)||L.contentEditable==="true")&&(Do=L,hf=u,va=null);break;case"focusout":va=hf=Do=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,$v(f,n,d);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":$v(f,n,d)}var I;if(Bp)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else No?Cw(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(bw&&n.locale!=="ko"&&(No||x!=="onCompositionStart"?x==="onCompositionEnd"&&No&&(I=Iw()):(Yr=d,Fp="value"in Yr?Yr.value:Yr.textContent,No=!0)),L=Zc(u,x),0<L.length&&(x=new Rv(x,t,null,n,d),f.push({event:x,listeners:L}),I?x.data=I:(I=Aw(n),I!==null&&(x.data=I)))),(I=Kb?Qb(t,n):Yb(t,n))&&(u=Zc(u,"onBeforeInput"),0<u.length&&(d=new Rv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=I))}jw(f,e)})}function $a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ka(t,n),o!=null&&r.unshift($a(t,o,i)),o=ka(t,e),o!=null&&r.push($a(t,o,i))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=ka(n,o),c!=null&&s.unshift($a(n,c,a))):i||(c=ka(n,o),c!=null&&s.push($a(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var uC=/\r\n?/g,dC=/\u0000|\uFFFD/g;function Bv(t){return(typeof t=="string"?t:""+t).replace(uC,`
`).replace(dC,"")}function tc(t,e,n){if(e=Bv(e),Bv(t)!==e&&n)throw Error(B(425))}function eu(){}var pf=null,mf=null;function gf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vf=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(t){return zv.resolve(null).then(t).catch(pC)}:vf;function pC(t){setTimeout(function(){throw t})}function ch(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Oa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oa(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Un="__reactFiber$"+xs,Fa="__reactProps$"+xs,wr="__reactContainer$"+xs,yf="__reactEvents$"+xs,mC="__reactListeners$"+xs,gC="__reactHandles$"+xs;function Li(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wv(t);t!==null;){if(n=t[Un])return n;t=Wv(t)}return e}t=n,n=t.parentNode}return null}function cl(t){return t=t[Un]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function zu(t){return t[Fa]||null}var _f=[],Lo=-1;function Si(t){return{current:t}}function Me(t){0>Lo||(t.current=_f[Lo],_f[Lo]=null,Lo--)}function Re(t,e){Lo++,_f[Lo]=t.current,t.current=e}var gi={},Rt=Si(gi),Ht=Si(!1),Wi=gi;function ns(t,e){var n=t.type.contextTypes;if(!n)return gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function tu(){Me(Ht),Me(Rt)}function Hv(t,e,n){if(Rt.current!==gi)throw Error(B(168));Re(Rt,e),Re(Ht,n)}function Bw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,eb(t)||"Unknown",i));return Be({},n,r)}function nu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,Wi=Rt.current,Re(Rt,t),Re(Ht,Ht.current),!0}function qv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Bw(t,e,Wi),r.__reactInternalMemoizedMergedChildContext=t,Me(Ht),Me(Rt),Re(Rt,t)):Me(Ht),Re(Ht,n)}var ur=null,Wu=!1,uh=!1;function zw(t){ur===null?ur=[t]:ur.push(t)}function vC(t){Wu=!0,zw(t)}function Ii(){if(!uh&&ur!==null){uh=!0;var t=0,e=Ie;try{var n=ur;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,Wu=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),pw(Mp,Ii),i}finally{Ie=e,uh=!1}}return null}var Vo=[],$o=0,ru=null,iu=0,an=[],ln=0,Hi=null,dr=1,hr="";function Di(t,e){Vo[$o++]=iu,Vo[$o++]=ru,ru=t,iu=e}function Ww(t,e,n){an[ln++]=dr,an[ln++]=hr,an[ln++]=Hi,Hi=t;var r=dr;t=hr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var o=32-An(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,dr=1<<32-An(e)+i|n<<i|r,hr=o+t}else dr=1<<o|n<<i|r,hr=t}function Wp(t){t.return!==null&&(Di(t,1),Ww(t,1,0))}function Hp(t){for(;t===ru;)ru=Vo[--$o],Vo[$o]=null,iu=Vo[--$o],Vo[$o]=null;for(;t===Hi;)Hi=an[--ln],an[ln]=null,hr=an[--ln],an[ln]=null,dr=an[--ln],an[ln]=null}var Zt=null,Xt=null,Le=!1,bn=null;function Hw(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hi!==null?{id:dr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Xt=null,!0):!1;default:return!1}}function wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ef(t){if(Le){var e=Xt;if(e){var n=e;if(!Gv(t,e)){if(wf(t))throw Error(B(418));e=ri(n.nextSibling);var r=Zt;e&&Gv(t,e)?Hw(r,n):(t.flags=t.flags&-4097|2,Le=!1,Zt=t)}}else{if(wf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Le=!1,Zt=t}}}function Kv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function nc(t){if(t!==Zt)return!1;if(!Le)return Kv(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gf(t.type,t.memoizedProps)),e&&(e=Xt)){if(wf(t))throw qw(),Error(B(418));for(;e;)Hw(t,e),e=ri(e.nextSibling)}if(Kv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?ri(t.stateNode.nextSibling):null;return!0}function qw(){for(var t=Xt;t;)t=ri(t.nextSibling)}function rs(){Xt=Zt=null,Le=!1}function qp(t){bn===null?bn=[t]:bn.push(t)}var yC=kr.ReactCurrentBatchConfig;function Zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function rc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qv(t){var e=t._init;return e(t._payload)}function Gw(t){function e(_,v){if(t){var E=_.deletions;E===null?(_.deletions=[v],_.flags|=16):E.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=ai(_,v),_.index=0,_.sibling=null,_}function o(_,v,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<v?(_.flags|=2,v):E):(_.flags|=2,v)):(_.flags|=1048576,v)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,E,k){return v===null||v.tag!==6?(v=vh(E,_.mode,k),v.return=_,v):(v=i(v,E),v.return=_,v)}function c(_,v,E,k){var O=E.type;return O===ko?d(_,v,E.props.children,k,E.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Br&&Qv(O)===v.type)?(k=i(v,E.props),k.ref=Zs(_,v,E),k.return=_,k):(k=Mc(E.type,E.key,E.props,null,_.mode,k),k.ref=Zs(_,v,E),k.return=_,k)}function u(_,v,E,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=yh(E,_.mode,k),v.return=_,v):(v=i(v,E.children||[]),v.return=_,v)}function d(_,v,E,k,O){return v===null||v.tag!==7?(v=Bi(E,_.mode,k,O),v.return=_,v):(v=i(v,E),v.return=_,v)}function f(_,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=vh(""+v,_.mode,E),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ql:return E=Mc(v.type,v.key,v.props,null,_.mode,E),E.ref=Zs(_,null,v),E.return=_,E;case Po:return v=yh(v,_.mode,E),v.return=_,v;case Br:var k=v._init;return f(_,k(v._payload),E)}if(sa(v)||Ks(v))return v=Bi(v,_.mode,E,null),v.return=_,v;rc(_,v)}return null}function g(_,v,E,k){var O=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(_,v,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ql:return E.key===O?c(_,v,E,k):null;case Po:return E.key===O?u(_,v,E,k):null;case Br:return O=E._init,g(_,v,O(E._payload),k)}if(sa(E)||Ks(E))return O!==null?null:d(_,v,E,k,null);rc(_,E)}return null}function p(_,v,E,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(E)||null,a(v,_,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ql:return _=_.get(k.key===null?E:k.key)||null,c(v,_,k,O);case Po:return _=_.get(k.key===null?E:k.key)||null,u(v,_,k,O);case Br:var L=k._init;return p(_,v,E,L(k._payload),O)}if(sa(k)||Ks(k))return _=_.get(E)||null,d(v,_,k,O,null);rc(v,k)}return null}function S(_,v,E,k){for(var O=null,L=null,I=v,x=v=0,A=null;I!==null&&x<E.length;x++){I.index>x?(A=I,I=null):A=I.sibling;var R=g(_,I,E[x],k);if(R===null){I===null&&(I=A);break}t&&I&&R.alternate===null&&e(_,I),v=o(R,v,x),L===null?O=R:L.sibling=R,L=R,I=A}if(x===E.length)return n(_,I),Le&&Di(_,x),O;if(I===null){for(;x<E.length;x++)I=f(_,E[x],k),I!==null&&(v=o(I,v,x),L===null?O=I:L.sibling=I,L=I);return Le&&Di(_,x),O}for(I=r(_,I);x<E.length;x++)A=p(I,_,x,E[x],k),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?x:A.key),v=o(A,v,x),L===null?O=A:L.sibling=A,L=A);return t&&I.forEach(function(D){return e(_,D)}),Le&&Di(_,x),O}function w(_,v,E,k){var O=Ks(E);if(typeof O!="function")throw Error(B(150));if(E=O.call(E),E==null)throw Error(B(151));for(var L=O=null,I=v,x=v=0,A=null,R=E.next();I!==null&&!R.done;x++,R=E.next()){I.index>x?(A=I,I=null):A=I.sibling;var D=g(_,I,R.value,k);if(D===null){I===null&&(I=A);break}t&&I&&D.alternate===null&&e(_,I),v=o(D,v,x),L===null?O=D:L.sibling=D,L=D,I=A}if(R.done)return n(_,I),Le&&Di(_,x),O;if(I===null){for(;!R.done;x++,R=E.next())R=f(_,R.value,k),R!==null&&(v=o(R,v,x),L===null?O=R:L.sibling=R,L=R);return Le&&Di(_,x),O}for(I=r(_,I);!R.done;x++,R=E.next())R=p(I,_,x,R.value,k),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?x:R.key),v=o(R,v,x),L===null?O=R:L.sibling=R,L=R);return t&&I.forEach(function(N){return e(_,N)}),Le&&Di(_,x),O}function C(_,v,E,k){if(typeof E=="object"&&E!==null&&E.type===ko&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ql:e:{for(var O=E.key,L=v;L!==null;){if(L.key===O){if(O=E.type,O===ko){if(L.tag===7){n(_,L.sibling),v=i(L,E.props.children),v.return=_,_=v;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Br&&Qv(O)===L.type){n(_,L.sibling),v=i(L,E.props),v.ref=Zs(_,L,E),v.return=_,_=v;break e}n(_,L);break}else e(_,L);L=L.sibling}E.type===ko?(v=Bi(E.props.children,_.mode,k,E.key),v.return=_,_=v):(k=Mc(E.type,E.key,E.props,null,_.mode,k),k.ref=Zs(_,v,E),k.return=_,_=k)}return s(_);case Po:e:{for(L=E.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(_,v.sibling),v=i(v,E.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=yh(E,_.mode,k),v.return=_,_=v}return s(_);case Br:return L=E._init,C(_,v,L(E._payload),k)}if(sa(E))return S(_,v,E,k);if(Ks(E))return w(_,v,E,k);rc(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,E),v.return=_,_=v):(n(_,v),v=vh(E,_.mode,k),v.return=_,_=v),s(_)):n(_,v)}return C}var is=Gw(!0),Kw=Gw(!1),ou=Si(null),su=null,Fo=null,Gp=null;function Kp(){Gp=Fo=su=null}function Qp(t){var e=ou.current;Me(ou),t._currentValue=e}function xf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Go(t,e){su=t,Gp=Fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(Gp!==t)if(t={context:t,memoizedValue:e,next:null},Fo===null){if(su===null)throw Error(B(308));Fo=t,su.dependencies={lanes:0,firstContext:t}}else Fo=Fo.next=t;return e}var Vi=null;function Yp(t){Vi===null?Vi=[t]:Vi.push(t)}function Qw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function Xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Er(t,n)}return i=r.interleaved,i===null?(e.next=e,Yp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Er(t,n)}function Rc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}function Yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function au(t,e,n,r){var i=t.updateQueue;zr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=i.baseState;s=0,d=u=c=null,a=o;do{var g=a.lane,p=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,w=a;switch(g=e,p=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){f=S.call(p,f,g);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,g=typeof S=="function"?S.call(p,f,g):S,g==null)break e;f=Be({},f,g);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Gi|=s,t.lanes=s,t.memoizedState=f}}function Xv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var ul={},Wn=Si(ul),ja=Si(ul),Ua=Si(ul);function $i(t){if(t===ul)throw Error(B(174));return t}function Jp(t,e){switch(Re(Ua,e),Re(ja,t),Re(Wn,ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tf(e,t)}Me(Wn),Re(Wn,e)}function os(){Me(Wn),Me(ja),Me(Ua)}function Xw(t){$i(Ua.current);var e=$i(Wn.current),n=tf(e,t.type);e!==n&&(Re(ja,t),Re(Wn,n))}function Zp(t){ja.current===t&&(Me(Wn),Me(ja))}var je=Si(0);function lu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dh=[];function em(){for(var t=0;t<dh.length;t++)dh[t]._workInProgressVersionPrimary=null;dh.length=0}var Pc=kr.ReactCurrentDispatcher,hh=kr.ReactCurrentBatchConfig,qi=0,Ue=null,tt=null,it=null,cu=!1,ya=!1,Ba=0,_C=0;function xt(){throw Error(B(321))}function tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function nm(t,e,n,r,i,o){if(qi=o,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pc.current=t===null||t.memoizedState===null?TC:SC,t=n(r,i),ya){o=0;do{if(ya=!1,Ba=0,25<=o)throw Error(B(301));o+=1,it=tt=null,e.updateQueue=null,Pc.current=IC,t=n(r,i)}while(ya)}if(Pc.current=uu,e=tt!==null&&tt.next!==null,qi=0,it=tt=Ue=null,cu=!1,e)throw Error(B(300));return t}function rm(){var t=Ba!==0;return Ba=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ue.memoizedState=it=t:it=it.next=t,it}function mn(){if(tt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=it===null?Ue.memoizedState:it.next;if(e!==null)it=e,tt=t;else{if(t===null)throw Error(B(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?Ue.memoizedState=it=t:it=it.next=t}return it}function za(t,e){return typeof e=="function"?e(t):e}function fh(t){var e=mn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,u=o;do{var d=u.lane;if((qi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,Ue.lanes|=d,Gi|=d}u=u.next}while(u!==null&&u!==o);c===null?s=r:c.next=a,Pn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ue.lanes|=o,Gi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ph(t){var e=mn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Pn(o,e.memoizedState)||(Wt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Jw(){}function Zw(t,e){var n=Ue,r=mn(),i=e(),o=!Pn(r.memoizedState,i);if(o&&(r.memoizedState=i,Wt=!0),r=r.queue,im(nE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Wa(9,tE.bind(null,n,r,i,e),void 0,null),st===null)throw Error(B(349));qi&30||eE(n,e,i)}return i}function eE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tE(t,e,n,r){e.value=n,e.getSnapshot=r,rE(e)&&iE(t)}function nE(t,e,n){return n(function(){rE(e)&&iE(t)})}function rE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function iE(t){var e=Er(t,1);e!==null&&Rn(e,t,1,-1)}function Jv(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:t},e.queue=t,t=t.dispatch=xC.bind(null,Ue,t),[e.memoizedState,t]}function Wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oE(){return mn().memoizedState}function kc(t,e,n,r){var i=jn();Ue.flags|=t,i.memoizedState=Wa(1|e,n,void 0,r===void 0?null:r)}function Hu(t,e,n,r){var i=mn();r=r===void 0?null:r;var o=void 0;if(tt!==null){var s=tt.memoizedState;if(o=s.destroy,r!==null&&tm(r,s.deps)){i.memoizedState=Wa(e,n,o,r);return}}Ue.flags|=t,i.memoizedState=Wa(1|e,n,o,r)}function Zv(t,e){return kc(8390656,8,t,e)}function im(t,e){return Hu(2048,8,t,e)}function sE(t,e){return Hu(4,2,t,e)}function aE(t,e){return Hu(4,4,t,e)}function lE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cE(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4,4,lE.bind(null,e,t),n)}function om(){}function uE(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dE(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hE(t,e,n){return qi&21?(Pn(n,e)||(n=vw(),Ue.lanes|=n,Gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function wC(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=hh.transition;hh.transition={};try{t(!1),e()}finally{Ie=n,hh.transition=r}}function fE(){return mn().memoizedState}function EC(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pE(t))mE(e,n);else if(n=Qw(t,e,n,r),n!==null){var i=Dt();Rn(n,t,r,i),gE(n,e,r)}}function xC(t,e,n){var r=si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pE(t))mE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,s)){var c=e.interleaved;c===null?(i.next=i,Yp(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Qw(t,e,i,r),n!==null&&(i=Dt(),Rn(n,t,r,i),gE(n,e,r))}}function pE(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function mE(t,e){ya=cu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}var uu={readContext:pn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},TC={readContext:pn,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Zv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kc(4194308,4,lE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return kc(4,2,t,e)},useMemo:function(t,e){var n=jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EC.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:Jv,useDebugValue:om,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=Jv(!1),e=t[0];return t=wC.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=jn();if(Le){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),st===null)throw Error(B(349));qi&30||eE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Zv(nE.bind(null,r,o,t),[t]),r.flags|=2048,Wa(9,tE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=jn(),e=st.identifierPrefix;if(Le){var n=hr,r=dr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_C++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SC={readContext:pn,useCallback:uE,useContext:pn,useEffect:im,useImperativeHandle:cE,useInsertionEffect:sE,useLayoutEffect:aE,useMemo:dE,useReducer:fh,useRef:oE,useState:function(){return fh(za)},useDebugValue:om,useDeferredValue:function(t){var e=mn();return hE(e,tt.memoizedState,t)},useTransition:function(){var t=fh(za)[0],e=mn().memoizedState;return[t,e]},useMutableSource:Jw,useSyncExternalStore:Zw,useId:fE,unstable_isNewReconciler:!1},IC={readContext:pn,useCallback:uE,useContext:pn,useEffect:im,useImperativeHandle:cE,useInsertionEffect:sE,useLayoutEffect:aE,useMemo:dE,useReducer:ph,useRef:oE,useState:function(){return ph(za)},useDebugValue:om,useDeferredValue:function(t){var e=mn();return tt===null?e.memoizedState=t:hE(e,tt.memoizedState,t)},useTransition:function(){var t=ph(za)[0],e=mn().memoizedState;return[t,e]},useMutableSource:Jw,useSyncExternalStore:Zw,useId:fE,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qu={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=si(t),o=vr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ii(t,o,i),e!==null&&(Rn(e,t,i,r),Rc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=si(t),o=vr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ii(t,o,i),e!==null&&(Rn(e,t,i,r),Rc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=si(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ii(t,i,r),e!==null&&(Rn(e,t,r,n),Rc(e,t,r))}};function ey(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!La(n,r)||!La(i,o):!0}function vE(t,e,n){var r=!1,i=gi,o=e.contextType;return typeof o=="object"&&o!==null?o=pn(o):(i=qt(e)?Wi:Rt.current,r=e.contextTypes,o=(r=r!=null)?ns(t,i):gi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ty(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qu.enqueueReplaceState(e,e.state,null)}function Sf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=pn(o):(o=qt(e)?Wi:Rt.current,i.context=ns(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Tf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qu.enqueueReplaceState(i,i.state,null),au(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ss(t,e){try{var n="",r=e;do n+=ZI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function If(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bC=typeof WeakMap=="function"?WeakMap:Map;function yE(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hu||(hu=!0,Mf=r),If(t,e)},n}function _E(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){If(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){If(t,e),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ny(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jC.bind(null,t,e,n),e.then(t,t))}function ry(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ii(n,e,1))),n.lanes|=1),t)}var CC=kr.ReactCurrentOwner,Wt=!1;function Nt(t,e,n,r){e.child=t===null?Kw(e,null,n,r):is(e,t.child,n,r)}function oy(t,e,n,r,i){n=n.render;var o=e.ref;return Go(e,i),r=nm(t,e,n,r,o,i),n=rm(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xr(t,e,i)):(Le&&n&&Wp(e),e.flags|=1,Nt(t,e,r,i),e.child)}function sy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!fm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,wE(t,e,o,r,i)):(t=Mc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(s,r)&&t.ref===e.ref)return xr(t,e,i)}return e.flags|=1,t=ai(o,r),t.ref=e.ref,t.return=e,e.child=t}function wE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(La(o,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,xr(t,e,i)}return bf(t,e,n,r,i)}function EE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Uo,Qt),Qt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Uo,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Re(Uo,Qt),Qt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Re(Uo,Qt),Qt|=r;return Nt(t,e,i,n),e.child}function xE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bf(t,e,n,r,i){var o=qt(n)?Wi:Rt.current;return o=ns(e,o),Go(e,i),n=nm(t,e,n,r,o,i),r=rm(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xr(t,e,i)):(Le&&r&&Wp(e),e.flags|=1,Nt(t,e,n,i),e.child)}function ay(t,e,n,r,i){if(qt(n)){var o=!0;nu(e)}else o=!1;if(Go(e,i),e.stateNode===null)Nc(t,e),vE(e,n,r),Sf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=qt(n)?Wi:Rt.current,u=ns(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&ty(e,s,r,u),zr=!1;var g=e.memoizedState;s.state=g,au(e,r,s,i),c=e.memoizedState,a!==r||g!==c||Ht.current||zr?(typeof d=="function"&&(Tf(e,n,d,r),c=e.memoizedState),(a=zr||ey(e,n,a,r,g,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Yw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Sn(e.type,a),s.props=u,f=e.pendingProps,g=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=qt(n)?Wi:Rt.current,c=ns(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||g!==c)&&ty(e,s,r,c),zr=!1,g=e.memoizedState,s.state=g,au(e,r,s,i);var S=e.memoizedState;a!==f||g!==S||Ht.current||zr?(typeof p=="function"&&(Tf(e,n,p,r),S=e.memoizedState),(u=zr||ey(e,n,u,r,g,S,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),s.props=r,s.state=S,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Cf(t,e,n,r,o,i)}function Cf(t,e,n,r,i,o){xE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&qv(e,n,!1),xr(t,e,o);r=e.stateNode,CC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=is(e,t.child,null,o),e.child=is(e,null,a,o)):Nt(t,e,a,o),e.memoizedState=r.state,i&&qv(e,n,!0),e.child}function TE(t){var e=t.stateNode;e.pendingContext?Hv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hv(t,e.context,!1),Jp(t,e.containerInfo)}function ly(t,e,n,r,i){return rs(),qp(i),e.flags|=256,Nt(t,e,n,r),e.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function Rf(t){return{baseLanes:t,cachePool:null,transitions:null}}function SE(t,e,n){var r=e.pendingProps,i=je.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(je,i&1),t===null)return Ef(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Qu(s,r,0,null),t=Bi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Rf(n),e.memoizedState=Af,t):sm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ai(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ai(a,o):(o=Bi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Rf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Af,r}return o=t.child,t=o.sibling,r=ai(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sm(t,e){return e=Qu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ic(t,e,n,r){return r!==null&&qp(r),is(e,t.child,null,n),t=sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=mh(Error(B(422))),ic(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qu({mode:"visible",children:r.children},i,0,null),o=Bi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&is(e,t.child,null,s),e.child.memoizedState=Rf(s),e.memoizedState=Af,o);if(!(e.mode&1))return ic(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=mh(o,r,void 0),ic(t,e,s,r)}if(a=(s&t.childLanes)!==0,Wt||a){if(r=st,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Er(t,i),Rn(r,t,i,-1))}return hm(),r=mh(Error(B(421))),ic(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Xt=ri(i.nextSibling),Zt=e,Le=!0,bn=null,t!==null&&(an[ln++]=dr,an[ln++]=hr,an[ln++]=Hi,dr=t.id,hr=t.overflow,Hi=e),e=sm(e,r.children),e.flags|=4096,e)}function cy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xf(t.return,e,n)}function gh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function IE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Nt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,n,e);else if(t.tag===19)cy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gh(e,!0,n,null,o);break;case"together":gh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RC(t,e,n){switch(e.tag){case 3:TE(e),rs();break;case 5:Xw(e);break;case 1:qt(e.type)&&nu(e);break;case 4:Jp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(ou,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?SE(t,e,n):(Re(je,je.current&1),t=xr(t,e,n),t!==null?t.sibling:null);Re(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,EE(t,e,n)}return xr(t,e,n)}var bE,Pf,CE,AE;bE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pf=function(){};CE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$i(Wn.current);var o=null;switch(n){case"input":i=Xh(t,i),r=Xh(t,r),o=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":i=ef(t,i),r=ef(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eu)}nf(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ra.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ra.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&De("scroll",t),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};AE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ea(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PC(t,e,n){var r=e.pendingProps;switch(Hp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return qt(e.type)&&tu(),Tt(e),null;case 3:return r=e.stateNode,os(),Me(Ht),Me(Rt),em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&($f(bn),bn=null))),Pf(t,e),Tt(e),null;case 5:Zp(e);var i=$i(Ua.current);if(n=e.type,t!==null&&e.stateNode!=null)CE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Tt(e),null}if(t=$i(Wn.current),nc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Un]=e,r[Fa]=o,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<la.length;i++)De(la[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":yv(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":wv(r,o),De("invalid",r)}nf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&tc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&tc(r.textContent,a,t),i=["children",""+a]):Ra.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&De("scroll",r)}switch(n){case"input":Gl(r),_v(r,o,!0);break;case"textarea":Gl(r),Ev(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=eu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Un]=e,t[Fa]=r,bE(t,e,!1,!1),e.stateNode=t;e:{switch(s=rf(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<la.length;i++)De(la[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":yv(t,r),i=Xh(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),De("invalid",t);break;case"textarea":wv(t,r),i=ef(t,r),De("invalid",t);break;default:i=r}nf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?ow(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rw(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pa(t,c):typeof c=="number"&&Pa(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ra.hasOwnProperty(o)?c!=null&&o==="onScroll"&&De("scroll",t):c!=null&&Pp(t,o,c,s))}switch(n){case"input":Gl(t),_v(t,r,!1);break;case"textarea":Gl(t),Ev(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zo(t,!!r.multiple,o,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=eu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)AE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=$i(Ua.current),$i(Wn.current),nc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(o=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:tc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return Tt(e),null;case 13:if(Me(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&Xt!==null&&e.mode&1&&!(e.flags&128))qw(),rs(),e.flags|=98560,o=!1;else if(o=nc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Un]=e}else rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),o=!1}else bn!==null&&($f(bn),bn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?nt===0&&(nt=3):hm())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return os(),Pf(t,e),t===null&&Va(e.stateNode.containerInfo),Tt(e),null;case 10:return Qp(e.type._context),Tt(e),null;case 17:return qt(e.type)&&tu(),Tt(e),null;case 19:if(Me(je),o=e.memoizedState,o===null)return Tt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ea(o,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=lu(t),s!==null){for(e.flags|=128,ea(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(je,je.current&1|2),e.child}t=t.sibling}o.tail!==null&&Qe()>as&&(e.flags|=128,r=!0,ea(o,!1),e.lanes=4194304)}else{if(!r)if(t=lu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ea(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Le)return Tt(e),null}else 2*Qe()-o.renderingStartTime>as&&n!==1073741824&&(e.flags|=128,r=!0,ea(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qe(),e.sibling=null,n=je.current,Re(je,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return dm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function kC(t,e){switch(Hp(e),e.tag){case 1:return qt(e.type)&&tu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return os(),Me(Ht),Me(Rt),em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zp(e),null;case 13:if(Me(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(je),null;case 4:return os(),null;case 10:return Qp(e.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var oc=!1,bt=!1,NC=typeof WeakSet=="function"?WeakSet:Set,Y=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function kf(t,e,n){try{n()}catch(r){qe(t,e,r)}}var uy=!1;function DC(t,e){if(pf=Xc,t=Dw(),zp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)g=f,f=p;for(;;){if(f===t)break t;if(g===n&&++u===i&&(a=s),g===o&&++d===r&&(c=s),(p=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mf={focusedElem:t,selectionRange:n},Xc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,C=S.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Sn(e.type,w),C);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){qe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return S=uy,uy=!1,S}function _a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&kf(e,n,o)}i=i.next}while(i!==r)}}function Gu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RE(t){var e=t.alternate;e!==null&&(t.alternate=null,RE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Fa],delete e[yf],delete e[mC],delete e[gC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PE(t){return t.tag===5||t.tag===3||t.tag===4}function dy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eu));else if(r!==4&&(t=t.child,t!==null))for(Df(t,e,n),t=t.sibling;t!==null;)Df(t,e,n),t=t.sibling}function Of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Of(t,e,n),t=t.sibling;t!==null;)Of(t,e,n),t=t.sibling}var dt=null,In=!1;function Vr(t,e,n){for(n=n.child;n!==null;)kE(t,e,n),n=n.sibling}function kE(t,e,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Fu,n)}catch{}switch(n.tag){case 5:bt||jo(n,e);case 6:var r=dt,i=In;dt=null,Vr(t,e,n),dt=r,In=i,dt!==null&&(In?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(In?(t=dt,n=n.stateNode,t.nodeType===8?ch(t.parentNode,n):t.nodeType===1&&ch(t,n),Oa(t)):ch(dt,n.stateNode));break;case 4:r=dt,i=In,dt=n.stateNode.containerInfo,In=!0,Vr(t,e,n),dt=r,In=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&kf(n,e,s),i=i.next}while(i!==r)}Vr(t,e,n);break;case 1:if(!bt&&(jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Vr(t,e,n),bt=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function hy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NC),e.forEach(function(r){var i=BC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,In=!1;break e;case 3:dt=a.stateNode.containerInfo,In=!0;break e;case 4:dt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(dt===null)throw Error(B(160));kE(o,s,i),dt=null,In=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NE(e,t),e=e.sibling}function NE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),$n(t),r&4){try{_a(3,t,t.return),Gu(3,t)}catch(w){qe(t,t.return,w)}try{_a(5,t,t.return)}catch(w){qe(t,t.return,w)}}break;case 1:En(e,t),$n(t),r&512&&n!==null&&jo(n,n.return);break;case 5:if(En(e,t),$n(t),r&512&&n!==null&&jo(n,n.return),t.flags&32){var i=t.stateNode;try{Pa(i,"")}catch(w){qe(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ew(i,o),rf(a,s);var u=rf(a,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?ow(i,f):d==="dangerouslySetInnerHTML"?rw(i,f):d==="children"?Pa(i,f):Pp(i,d,f,u)}switch(a){case"input":Jh(i,o);break;case"textarea":tw(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?zo(i,!!o.multiple,p,!1):g!==!!o.multiple&&(o.defaultValue!=null?zo(i,!!o.multiple,o.defaultValue,!0):zo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fa]=o}catch(w){qe(t,t.return,w)}}break;case 6:if(En(e,t),$n(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){qe(t,t.return,w)}}break;case 3:if(En(e,t),$n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(e.containerInfo)}catch(w){qe(t,t.return,w)}break;case 4:En(e,t),$n(t);break;case 13:En(e,t),$n(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cm=Qe())),r&4&&hy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,En(e,t),bt=u):En(e,t),$n(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(g=Y,p=g.child,g.tag){case 0:case 11:case 14:case 15:_a(4,g,g.return);break;case 1:jo(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(w){qe(r,n,w)}}break;case 5:jo(g,g.return);break;case 22:if(g.memoizedState!==null){py(f);continue}}p!==null?(p.return=g,Y=p):py(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=iw("display",s))}catch(w){qe(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){qe(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(e,t),$n(t),r&4&&hy(t);break;case 21:break;default:En(e,t),$n(t)}}function $n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pa(i,""),r.flags&=-33);var o=dy(t);Of(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dy(t);Df(t,a,s);break;default:throw Error(B(161))}}catch(c){qe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OC(t,e,n){Y=t,DE(t)}function DE(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||oc;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||bt;a=oc;var u=bt;if(oc=s,(bt=c)&&!u)for(Y=i;Y!==null;)s=Y,c=s.child,s.tag===22&&s.memoizedState!==null?my(i):c!==null?(c.return=s,Y=c):my(i);for(;o!==null;)Y=o,DE(o),o=o.sibling;Y=i,oc=a,bt=u}fy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):fy(t)}}function fy(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Gu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Xv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}bt||e.flags&512&&Nf(e)}catch(g){qe(e,e.return,g)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function py(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function my(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gu(4,e)}catch(c){qe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){qe(e,i,c)}}var o=e.return;try{Nf(e)}catch(c){qe(e,o,c)}break;case 5:var s=e.return;try{Nf(e)}catch(c){qe(e,s,c)}}}catch(c){qe(e,e.return,c)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var MC=Math.ceil,du=kr.ReactCurrentDispatcher,am=kr.ReactCurrentOwner,fn=kr.ReactCurrentBatchConfig,we=0,st=null,Je=null,pt=0,Qt=0,Uo=Si(0),nt=0,Ha=null,Gi=0,Ku=0,lm=0,wa=null,Bt=null,cm=0,as=1/0,lr=null,hu=!1,Mf=null,oi=null,sc=!1,Xr=null,fu=0,Ea=0,Lf=null,Dc=-1,Oc=0;function Dt(){return we&6?Qe():Dc!==-1?Dc:Dc=Qe()}function si(t){return t.mode&1?we&2&&pt!==0?pt&-pt:yC.transition!==null?(Oc===0&&(Oc=vw()),Oc):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:Sw(t.type)),t):1}function Rn(t,e,n,r){if(50<Ea)throw Ea=0,Lf=null,Error(B(185));al(t,n,r),(!(we&2)||t!==st)&&(t===st&&(!(we&2)&&(Ku|=n),nt===4&&Hr(t,pt)),Gt(t,r),n===1&&we===0&&!(e.mode&1)&&(as=Qe()+500,Wu&&Ii()))}function Gt(t,e){var n=t.callbackNode;yb(t,e);var r=Yc(t,t===st?pt:0);if(r===0)n!==null&&Sv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sv(n),e===1)t.tag===0?vC(gy.bind(null,t)):zw(gy.bind(null,t)),fC(function(){!(we&6)&&Ii()}),n=null;else{switch(yw(r)){case 1:n=Mp;break;case 4:n=mw;break;case 16:n=Qc;break;case 536870912:n=gw;break;default:n=Qc}n=UE(n,OE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OE(t,e){if(Dc=-1,Oc=0,we&6)throw Error(B(327));var n=t.callbackNode;if(Ko()&&t.callbackNode!==n)return null;var r=Yc(t,t===st?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pu(t,r);else{e=r;var i=we;we|=2;var o=LE();(st!==t||pt!==e)&&(lr=null,as=Qe()+500,Ui(t,e));do try{$C();break}catch(a){ME(t,a)}while(1);Kp(),du.current=o,we=i,Je!==null?e=0:(st=null,pt=0,e=nt)}if(e!==0){if(e===2&&(i=cf(t),i!==0&&(r=i,e=Vf(t,i))),e===1)throw n=Ha,Ui(t,0),Hr(t,r),Gt(t,Qe()),n;if(e===6)Hr(t,r);else{if(i=t.current.alternate,!(r&30)&&!LC(i)&&(e=pu(t,r),e===2&&(o=cf(t),o!==0&&(r=o,e=Vf(t,o))),e===1))throw n=Ha,Ui(t,0),Hr(t,r),Gt(t,Qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Oi(t,Bt,lr);break;case 3:if(Hr(t,r),(r&130023424)===r&&(e=cm+500-Qe(),10<e)){if(Yc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vf(Oi.bind(null,t,Bt,lr),e);break}Oi(t,Bt,lr);break;case 4:if(Hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-An(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MC(r/1960))-r,10<r){t.timeoutHandle=vf(Oi.bind(null,t,Bt,lr),r);break}Oi(t,Bt,lr);break;case 5:Oi(t,Bt,lr);break;default:throw Error(B(329))}}}return Gt(t,Qe()),t.callbackNode===n?OE.bind(null,t):null}function Vf(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=pu(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&$f(e)),t}function $f(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function LC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~lm,e&=~Ku,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function gy(t){if(we&6)throw Error(B(327));Ko();var e=Yc(t,0);if(!(e&1))return Gt(t,Qe()),null;var n=pu(t,e);if(t.tag!==0&&n===2){var r=cf(t);r!==0&&(e=r,n=Vf(t,r))}if(n===1)throw n=Ha,Ui(t,0),Hr(t,e),Gt(t,Qe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,Bt,lr),Gt(t,Qe()),null}function um(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(as=Qe()+500,Wu&&Ii())}}function Ki(t){Xr!==null&&Xr.tag===0&&!(we&6)&&Ko();var e=we;we|=1;var n=fn.transition,r=Ie;try{if(fn.transition=null,Ie=1,t)return t()}finally{Ie=r,fn.transition=n,we=e,!(we&6)&&Ii()}}function dm(){Qt=Uo.current,Me(Uo)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hC(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Hp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tu();break;case 3:os(),Me(Ht),Me(Rt),em();break;case 5:Zp(r);break;case 4:os();break;case 13:Me(je);break;case 19:Me(je);break;case 10:Qp(r.type._context);break;case 22:case 23:dm()}n=n.return}if(st=t,Je=t=ai(t.current,null),pt=Qt=e,nt=0,Ha=null,lm=Ku=Gi=0,Bt=wa=null,Vi!==null){for(e=0;e<Vi.length;e++)if(n=Vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Vi=null}return t}function ME(t,e){do{var n=Je;try{if(Kp(),Pc.current=uu,cu){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cu=!1}if(qi=0,it=tt=Ue=null,ya=!1,Ba=0,am.current=null,n===null||n.return===null){nt=1,Ha=e,Je=null;break}e:{var o=t,s=n.return,a=n,c=e;if(e=pt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ry(s);if(p!==null){p.flags&=-257,iy(p,s,a,o,e),p.mode&1&&ny(o,u,e),e=p,c=u;var S=e.updateQueue;if(S===null){var w=new Set;w.add(c),e.updateQueue=w}else S.add(c);break e}else{if(!(e&1)){ny(o,u,e),hm();break e}c=Error(B(426))}}else if(Le&&a.mode&1){var C=ry(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),iy(C,s,a,o,e),qp(ss(c,a));break e}}o=c=ss(c,a),nt!==4&&(nt=2),wa===null?wa=[o]:wa.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=yE(o,c,e);Yv(o,_);break e;case 1:a=c;var v=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(oi===null||!oi.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=_E(o,a,e);Yv(o,k);break e}}o=o.return}while(o!==null)}$E(n)}catch(O){e=O,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(1)}function LE(){var t=du.current;return du.current=uu,t===null?uu:t}function hm(){(nt===0||nt===3||nt===2)&&(nt=4),st===null||!(Gi&268435455)&&!(Ku&268435455)||Hr(st,pt)}function pu(t,e){var n=we;we|=2;var r=LE();(st!==t||pt!==e)&&(lr=null,Ui(t,e));do try{VC();break}catch(i){ME(t,i)}while(1);if(Kp(),we=n,du.current=r,Je!==null)throw Error(B(261));return st=null,pt=0,nt}function VC(){for(;Je!==null;)VE(Je)}function $C(){for(;Je!==null&&!cb();)VE(Je)}function VE(t){var e=jE(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?$E(t):Je=e,am.current=null}function $E(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kC(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Je=null;return}}else if(n=PC(n,e,Qt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);nt===0&&(nt=5)}function Oi(t,e,n){var r=Ie,i=fn.transition;try{fn.transition=null,Ie=1,FC(t,e,n,r)}finally{fn.transition=i,Ie=r}return null}function FC(t,e,n,r){do Ko();while(Xr!==null);if(we&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(_b(t,o),t===st&&(Je=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sc||(sc=!0,UE(Qc,function(){return Ko(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fn.transition,fn.transition=null;var s=Ie;Ie=1;var a=we;we|=4,am.current=null,DC(t,n),NE(n,t),oC(mf),Xc=!!pf,mf=pf=null,t.current=n,OC(n),ub(),we=a,Ie=s,fn.transition=o}else t.current=n;if(sc&&(sc=!1,Xr=t,fu=i),o=t.pendingLanes,o===0&&(oi=null),fb(n.stateNode),Gt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hu)throw hu=!1,t=Mf,Mf=null,t;return fu&1&&t.tag!==0&&Ko(),o=t.pendingLanes,o&1?t===Lf?Ea++:(Ea=0,Lf=t):Ea=0,Ii(),null}function Ko(){if(Xr!==null){var t=yw(fu),e=fn.transition,n=Ie;try{if(fn.transition=null,Ie=16>t?16:t,Xr===null)var r=!1;else{if(t=Xr,Xr=null,fu=0,we&6)throw Error(B(331));var i=we;for(we|=4,Y=t.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:_a(8,d,o)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var g=d.sibling,p=d.return;if(RE(d),d===u){Y=null;break}if(g!==null){g.return=p,Y=g;break}Y=p}}}var S=o.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_a(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Y=_;break e}Y=o.return}}var v=t.current;for(Y=v;Y!==null;){s=Y;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,Y=E;else e:for(s=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gu(9,a)}}catch(O){qe(a,a.return,O)}if(a===s){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(we=i,Ii(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Fu,t)}catch{}r=!0}return r}finally{Ie=n,fn.transition=e}}return!1}function vy(t,e,n){e=ss(n,e),e=yE(t,e,1),t=ii(t,e,1),e=Dt(),t!==null&&(al(t,1,e),Gt(t,e))}function qe(t,e,n){if(t.tag===3)vy(t,t,n);else for(;e!==null;){if(e.tag===3){vy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){t=ss(n,t),t=_E(e,t,1),e=ii(e,t,1),t=Dt(),e!==null&&(al(e,1,t),Gt(e,t));break}}e=e.return}}function jC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(pt&n)===n&&(nt===4||nt===3&&(pt&130023424)===pt&&500>Qe()-cm?Ui(t,0):lm|=n),Gt(t,e)}function FE(t,e){e===0&&(t.mode&1?(e=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):e=1);var n=Dt();t=Er(t,e),t!==null&&(al(t,e,n),Gt(t,n))}function UC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FE(t,n)}function BC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),FE(t,n)}var jE;jE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,RC(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Le&&e.flags&1048576&&Ww(e,iu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nc(t,e),t=e.pendingProps;var i=ns(e,Rt.current);Go(e,n),i=nm(null,e,r,t,i,n);var o=rm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(o=!0,nu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xp(e),i.updater=qu,e.stateNode=i,i._reactInternals=e,Sf(e,r,t,n),e=Cf(null,e,r,!0,o,n)):(e.tag=0,Le&&o&&Wp(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WC(r),t=Sn(r,t),i){case 0:e=bf(null,e,r,t,n);break e;case 1:e=ay(null,e,r,t,n);break e;case 11:e=oy(null,e,r,t,n);break e;case 14:e=sy(null,e,r,Sn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),bf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),ay(t,e,r,i,n);case 3:e:{if(TE(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Yw(t,e),au(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ss(Error(B(423)),e),e=ly(t,e,r,n,i);break e}else if(r!==i){i=ss(Error(B(424)),e),e=ly(t,e,r,n,i);break e}else for(Xt=ri(e.stateNode.containerInfo.firstChild),Zt=e,Le=!0,bn=null,n=Kw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),r===i){e=xr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return Xw(e),t===null&&Ef(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,gf(r,i)?s=null:o!==null&&gf(r,o)&&(e.flags|=32),xE(t,e),Nt(t,e,s,n),e.child;case 6:return t===null&&Ef(e),null;case 13:return SE(t,e,n);case 4:return Jp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=is(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),oy(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Re(ou,r._currentValue),r._currentValue=s,o!==null)if(Pn(o.value,s)){if(o.children===i.children&&!Ht.current){e=xr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=vr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),xf(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),xf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Go(e,n),i=pn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),sy(t,e,r,i,n);case 15:return wE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Nc(t,e),e.tag=1,qt(r)?(t=!0,nu(e)):t=!1,Go(e,n),vE(e,r,i),Sf(e,r,i,n),Cf(null,e,r,!0,t,n);case 19:return IE(t,e,n);case 22:return EE(t,e,n)}throw Error(B(156,e.tag))};function UE(t,e){return pw(t,e)}function zC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new zC(t,e,n,r)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WC(t){if(typeof t=="function")return fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Np)return 11;if(t===Dp)return 14}return 2}function ai(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")fm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ko:return Bi(n.children,i,o,e);case kp:s=8,i|=8;break;case Gh:return t=hn(12,n,e,i|2),t.elementType=Gh,t.lanes=o,t;case Kh:return t=hn(13,n,e,i),t.elementType=Kh,t.lanes=o,t;case Qh:return t=hn(19,n,e,i),t.elementType=Qh,t.lanes=o,t;case X_:return Qu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q_:s=10;break e;case Y_:s=9;break e;case Np:s=11;break e;case Dp:s=14;break e;case Br:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=hn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Bi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Qu(t,e,n,r){return t=hn(22,t,r,e),t.elementType=X_,t.lanes=n,t.stateNode={isHidden:!1},t}function vh(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function yh(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jd(0),this.expirationTimes=Jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pm(t,e,n,r,i,o,s,a,c){return t=new HC(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(o),t}function qC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BE(t){if(!t)return gi;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(qt(n))return Bw(t,n,e)}return e}function zE(t,e,n,r,i,o,s,a,c){return t=pm(n,r,!0,t,i,o,s,a,c),t.context=BE(null),n=t.current,r=Dt(),i=si(n),o=vr(r,i),o.callback=e??null,ii(n,o,i),t.current.lanes=i,al(t,i,r),Gt(t,r),t}function Yu(t,e,n,r){var i=e.current,o=Dt(),s=si(i);return n=BE(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ii(i,e,s),t!==null&&(Rn(t,i,s,o),Rc(t,i,s)),s}function mu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mm(t,e){yy(t,e),(t=t.alternate)&&yy(t,e)}function GC(){return null}var WE=typeof reportError=="function"?reportError:function(t){console.error(t)};function gm(t){this._internalRoot=t}Xu.prototype.render=gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Yu(t,e,null,null)};Xu.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){Yu(null,t,null,null)}),e[wr]=null}};function Xu(t){this._internalRoot=t}Xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ew();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wr.length&&e!==0&&e<Wr[n].priority;n++);Wr.splice(n,0,t),n===0&&Tw(t)}};function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _y(){}function KC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=mu(s);o.call(u)}}var s=zE(e,r,t,0,null,!1,!1,"",_y);return t._reactRootContainer=s,t[wr]=s.current,Va(t.nodeType===8?t.parentNode:t),Ki(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=mu(c);a.call(u)}}var c=pm(t,0,!1,null,null,!1,!1,"",_y);return t._reactRootContainer=c,t[wr]=c.current,Va(t.nodeType===8?t.parentNode:t),Ki(function(){Yu(e,c,n,r)}),c}function Zu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=mu(s);a.call(c)}}Yu(e,s,t,i)}else s=KC(n,e,t,i,r);return mu(s)}_w=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=aa(e.pendingLanes);n!==0&&(Lp(e,n|1),Gt(e,Qe()),!(we&6)&&(as=Qe()+500,Ii()))}break;case 13:Ki(function(){var r=Er(t,1);if(r!==null){var i=Dt();Rn(r,t,1,i)}}),mm(t,1)}};Vp=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Dt();Rn(e,t,134217728,n)}mm(t,134217728)}};ww=function(t){if(t.tag===13){var e=si(t),n=Er(t,e);if(n!==null){var r=Dt();Rn(n,t,e,r)}mm(t,e)}};Ew=function(){return Ie};xw=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};sf=function(t,e,n){switch(e){case"input":if(Jh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zu(r);if(!i)throw Error(B(90));Z_(r),Jh(r,i)}}}break;case"textarea":tw(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};lw=um;cw=Ki;var QC={usingClientEntryPoint:!1,Events:[cl,Mo,zu,sw,aw,um]},ta={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YC={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hw(t),t===null?null:t.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||GC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{Fu=ac.inject(YC),zn=ac}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(e))throw Error(B(200));return qC(t,e,null,n)};nn.createRoot=function(t,e){if(!vm(t))throw Error(B(299));var n=!1,r="",i=WE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pm(t,1,!1,null,null,n,!1,r,i),t[wr]=e.current,Va(t.nodeType===8?t.parentNode:t),new gm(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=hw(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return Ki(t)};nn.hydrate=function(t,e,n){if(!Ju(e))throw Error(B(200));return Zu(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!vm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=WE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=zE(e,null,t,1,n??null,i,!1,o,s),t[wr]=e.current,Va(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xu(e)};nn.render=function(t,e,n){if(!Ju(e))throw Error(B(200));return Zu(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!Ju(t))throw Error(B(40));return t._reactRootContainer?(Ki(function(){Zu(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};nn.unstable_batchedUpdates=um;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ju(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Zu(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function HE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HE)}catch(t){console.error(t)}}HE(),H_.exports=nn;var so=H_.exports;const ym=D_(so);var wy=so;Hh.createRoot=wy.createRoot,Hh.hydrateRoot=wy.hydrateRoot;function Ey(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qE(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Ey(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Ey(t[i],null)}}}}function Nr(...t){return y.useCallback(qE(...t),t)}function _m(t){const e=JC(t),n=y.forwardRef((r,i)=>{const{children:o,...s}=r,a=y.Children.toArray(o),c=a.find(eA);if(c){const u=c.props.children,d=a.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return T.jsx(e,{...s,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return T.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var XC=_m("Slot");function JC(t){const e=y.forwardRef((n,r)=>{const{children:i,...o}=n;if(y.isValidElement(i)){const s=nA(i),a=tA(o,i.props);return i.type!==y.Fragment&&(a.ref=r?qE(r,s):s),y.cloneElement(i,a)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZC=Symbol("radix.slottable");function eA(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZC}function tA(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function nA(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function GE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function KE(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GE(t))&&(r&&(r+=" "),r+=e);return r}const xy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ty=KE,wm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ty(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const g=xy(d)||xy(f);return i[u][g]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:g,...p}=d;return Object.entries(p).every(S=>{let[w,C]=S;return Array.isArray(C)?C.includes({...o,...a}[w]):{...o,...a}[w]===C})?[...u,f,g]:u},[]);return Ty(t,s,c,n==null?void 0:n.class,n==null?void 0:n.className)};function rA(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=QE(e))&&(r&&(r+=" "),r+=n);return r}function QE(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=QE(t[r]))&&(n&&(n+=" "),n+=e);return n}var Em="-";function iA(t){var e=sA(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var c=a.split(Em);return c[0]===""&&c.length!==1&&c.shift(),YE(c,e)||oA(a)}function s(a,c){var u=n[a]||[];return c&&i[a]?[].concat(u,i[a]):u}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function YE(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?YE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(Em);return(s=e.validators.find(function(a){var c=a.validator;return c(o)}))==null?void 0:s.classGroupId}}var Sy=/^\[(.+)\]$/;function oA(t){if(Sy.test(t)){var e=Sy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function sA(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=lA(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];Ff(a,r,s,e)}),r}function Ff(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:Iy(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(aA(i)){Ff(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],c=s[1];Ff(c,Iy(e,a),n,r)})})}function Iy(t,e){var n=t;return e.split(Em).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function aA(t){return t.isThemeGetter}function lA(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var c=a[0],u=a[1];return[e+c,u]})):s});return[r,o]}):t}function cA(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var XE="!";function uA(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],c=0,u=0,d,f=0;f<s.length;f++){var g=s[f];if(c===0){if(g===r&&(n||s.slice(f,f+i)===e)){a.push(s.slice(u,f)),u=f+i;continue}if(g==="/"){d=f;continue}}g==="["?c++:g==="]"&&c--}var p=a.length===0?s:s.substring(u),S=p.startsWith(XE),w=S?p.substring(1):p,C=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:S,baseClassName:w,maybePostfixModifierPosition:C}}}function dA(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function hA(t){return{cache:cA(t.cacheSize),splitModifiers:uA(t),...iA(t)}}var fA=/\s+/;function pA(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(fA).map(function(s){var a=n(s),c=a.modifiers,u=a.hasImportantModifier,d=a.baseClassName,f=a.maybePostfixModifierPosition,g=r(f?d.substring(0,f):d),p=!!f;if(!g){if(!f)return{isTailwindClass:!1,originalClassName:s};if(g=r(d),!g)return{isTailwindClass:!1,originalClassName:s};p=!1}var S=dA(c).join(":"),w=u?S+XE:S;return{isTailwindClass:!0,modifierId:w,classGroupId:g,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,c=s.classGroupId,u=s.hasPostfixModifier,d=a+c;return o.has(d)?!1:(o.add(d),i(c,u).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function mA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(u){var d=e[0],f=e.slice(1),g=f.reduce(function(p,S){return S(p)},d());return r=hA(g),i=r.cache.get,o=r.cache.set,s=c,c(u)}function c(u){var d=i(u);if(d)return d;var f=pA(u,r);return o(u,f),f}return function(){return s(rA.apply(null,arguments))}}function Ne(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var JE=/^\[(?:([a-z-]+):)?(.+)\]$/i,gA=/^\d+\/\d+$/,vA=new Set(["px","full","screen"]),yA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_A=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wA=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function xn(t){return Fi(t)||vA.has(t)||gA.test(t)||jf(t)}function jf(t){return ao(t,"length",bA)}function EA(t){return ao(t,"size",ZE)}function xA(t){return ao(t,"position",ZE)}function TA(t){return ao(t,"url",CA)}function lc(t){return ao(t,"number",Fi)}function Fi(t){return!Number.isNaN(Number(t))}function SA(t){return t.endsWith("%")&&Fi(t.slice(0,-1))}function na(t){return by(t)||ao(t,"number",by)}function pe(t){return JE.test(t)}function ra(){return!0}function $r(t){return yA.test(t)}function IA(t){return ao(t,"",AA)}function ao(t,e,n){var r=JE.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function bA(t){return _A.test(t)}function ZE(){return!1}function CA(t){return t.startsWith("url(")}function by(t){return Number.isInteger(Number(t))}function AA(t){return wA.test(t)}function RA(){var t=Ne("colors"),e=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),i=Ne("borderColor"),o=Ne("borderRadius"),s=Ne("borderSpacing"),a=Ne("borderWidth"),c=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),f=Ne("invert"),g=Ne("gap"),p=Ne("gradientColorStops"),S=Ne("gradientColorStopPositions"),w=Ne("inset"),C=Ne("margin"),_=Ne("opacity"),v=Ne("padding"),E=Ne("saturate"),k=Ne("scale"),O=Ne("sepia"),L=Ne("skew"),I=Ne("space"),x=Ne("translate"),A=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",pe,e]},N=function(){return[pe,e]},P=function(){return["",xn]},J=function(){return["auto",Fi,pe]},oe=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},te=function(){return["solid","dashed","dotted","double","none"]},ne=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},$=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",pe]},q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ce=function(){return[Fi,lc]},G=function(){return[Fi,pe]};return{cacheSize:500,theme:{colors:[ra],spacing:[xn],blur:["none","",$r,pe],brightness:ce(),borderColor:[t],borderRadius:["none","","full",$r,pe],borderSpacing:N(),borderWidth:P(),contrast:ce(),grayscale:F(),hueRotate:G(),invert:F(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[SA,jf],inset:D(),margin:D(),opacity:ce(),padding:N(),saturate:ce(),scale:ce(),sepia:F(),skew:G(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[$r]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(oe(),[pe])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",na]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",na]}],"grid-cols":[{"grid-cols":[ra]}],"col-start-end":[{col:["auto",{span:["full",na]},pe]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[ra]}],"row-start-end":[{row:["auto",{span:[na]},pe]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat($())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat($(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat($(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",pe,e]}],"min-w":[{"min-w":["min","max","fit",pe,xn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[$r]},$r,pe]}],h:[{h:[pe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",pe,xn]}],"max-h":[{"max-h":[pe,e,"min","max","fit"]}],"font-size":[{text:["base",$r,jf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lc]}],"font-family":[{font:[ra]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Fi,lc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pe,xn]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(te(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",xn]}],"underline-offset":[{"underline-offset":["auto",pe,xn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(oe(),[xA])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(te(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(te())}],"outline-offset":[{"outline-offset":[pe,xn]}],"outline-w":[{outline:[xn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[xn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$r,IA]}],"shadow-color":[{shadow:[ra]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":ne()}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$r,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[na,pe]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xn,lc]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var PA=mA(RA);function ze(...t){return PA(KE(t))}const kA=wm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Cn=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?XC:"button";return T.jsx(s,{className:ze(kA({variant:e,size:n,className:t})),ref:o,...i})});Cn.displayName="Button";const un=y.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:ze("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));un.displayName="Card";const Qi=y.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:ze("flex flex-col space-y-1.5 p-6",t),...e}));Qi.displayName="CardHeader";const Yi=y.forwardRef(({className:t,...e},n)=>T.jsx("h3",{ref:n,className:ze("text-2xl font-semibold leading-none tracking-tight",t),...e}));Yi.displayName="CardTitle";const NA=y.forwardRef(({className:t,...e},n)=>T.jsx("p",{ref:n,className:ze("text-sm text-muted-foreground",t),...e}));NA.displayName="CardDescription";const dn=y.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:ze("p-6 pt-0",t),...e}));dn.displayName="CardContent";const DA=y.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:ze("flex items-center p-6 pt-0",t),...e}));DA.displayName="CardFooter";const Jr=y.forwardRef(({className:t,type:e,...n},r)=>T.jsx("input",{type:e,className:ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Jr.displayName="Input";var OA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],on=OA.reduce((t,e)=>{const n=_m(`Primitive.${e}`),r=y.forwardRef((i,o)=>{const{asChild:s,...a}=i,c=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function MA(t,e){t&&so.flushSync(()=>t.dispatchEvent(e))}var LA="Label",e1=y.forwardRef((t,e)=>T.jsx(on.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));e1.displayName=LA;var t1=e1;const VA=wm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cn=y.forwardRef(({className:t,...e},n)=>T.jsx(t1,{ref:n,className:ze(VA(),t),...e}));cn.displayName=t1.displayName;function Hn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $A(t,e){const n=y.createContext(e),r=o=>{const{children:s,...a}=o,c=y.useMemo(()=>a,Object.values(a));return T.jsx(n.Provider,{value:c,children:s})};r.displayName=t+"Provider";function i(o){const s=y.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function n1(t,e=[]){let n=[];function r(o,s){const a=y.createContext(s),c=n.length;n=[...n,s];const u=f=>{var _;const{scope:g,children:p,...S}=f,w=((_=g==null?void 0:g[t])==null?void 0:_[c])||a,C=y.useMemo(()=>S,Object.values(S));return T.jsx(w.Provider,{value:C,children:p})};u.displayName=o+"Provider";function d(f,g){var w;const p=((w=g==null?void 0:g[t])==null?void 0:w[c])||a,S=y.useContext(p);if(S)return S;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const i=()=>{const o=n.map(s=>y.createContext(s));return function(a){const c=(a==null?void 0:a[t])||o;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,FA(i,...e)]}function FA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var ls=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},jA=Cp[" useId ".trim().toString()]||(()=>{}),UA=0;function _h(t){const[e,n]=y.useState(jA());return ls(()=>{t||n(r=>r??String(UA++))},[t]),t||(e?`radix-${e}`:"")}var BA=Cp[" useInsertionEffect ".trim().toString()]||ls;function r1({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=zA({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var f;if(a){const g=WA(d)?d(t):d;g!==t&&((f=s.current)==null||f.call(s,g))}else o(d)},[a,t,o,s]);return[c,u]}function zA({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),i=y.useRef(n),o=y.useRef(e);return BA(()=>{o.current=e},[e]),y.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function WA(t){return typeof t=="function"}function qa(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function HA(t,e=globalThis==null?void 0:globalThis.document){const n=qa(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var qA="DismissableLayer",Uf="dismissableLayer.update",GA="dismissableLayer.pointerDownOutside",KA="dismissableLayer.focusOutside",Cy,i1=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),o1=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...c}=t,u=y.useContext(i1),[d,f]=y.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),S=Nr(e,I=>f(I)),w=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(C),v=d?w.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=_,O=XA(I=>{const x=I.target,A=[...u.branches].some(R=>R.contains(x));!k||A||(i==null||i(I),s==null||s(I),I.defaultPrevented||a==null||a())},g),L=JA(I=>{const x=I.target;[...u.branches].some(R=>R.contains(x))||(o==null||o(I),s==null||s(I),I.defaultPrevented||a==null||a())},g);return HA(I=>{v===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Cy=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ay(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Cy)}},[d,g,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ay())},[d,u]),y.useEffect(()=>{const I=()=>p({});return document.addEventListener(Uf,I),()=>document.removeEventListener(Uf,I)},[]),T.jsx(on.div,{...c,ref:S,style:{pointerEvents:E?k?"auto":"none":void 0,...t.style},onFocusCapture:Hn(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Hn(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Hn(t.onPointerDownCapture,O.onPointerDownCapture)})});o1.displayName=qA;var QA="DismissableLayerBranch",YA=y.forwardRef((t,e)=>{const n=y.useContext(i1),r=y.useRef(null),i=Nr(e,r);return y.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),T.jsx(on.div,{...t,ref:i})});YA.displayName=QA;function XA(t,e=globalThis==null?void 0:globalThis.document){const n=qa(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){s1(GA,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JA(t,e=globalThis==null?void 0:globalThis.document){const n=qa(t),r=y.useRef(!1);return y.useEffect(()=>{const i=o=>{o.target&&!r.current&&s1(KA,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ay(){const t=new CustomEvent(Uf);document.dispatchEvent(t)}function s1(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?MA(i,o):i.dispatchEvent(o)}var wh="focusScope.autoFocusOnMount",Eh="focusScope.autoFocusOnUnmount",Ry={bubbles:!1,cancelable:!0},ZA="FocusScope",a1=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,c]=y.useState(null),u=qa(i),d=qa(o),f=y.useRef(null),g=Nr(e,w=>c(w)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let w=function(E){if(p.paused||!a)return;const k=E.target;a.contains(k)?f.current=k:jr(f.current,{select:!0})},C=function(E){if(p.paused||!a)return;const k=E.relatedTarget;k!==null&&(a.contains(k)||jr(f.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const O of E)O.removedNodes.length>0&&jr(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),v.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){ky.add(p);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(wh,Ry);a.addEventListener(wh,u),a.dispatchEvent(_),_.defaultPrevented||(eR(oR(l1(a)),{select:!0}),document.activeElement===w&&jr(a))}return()=>{a.removeEventListener(wh,u),setTimeout(()=>{const _=new CustomEvent(Eh,Ry);a.addEventListener(Eh,d),a.dispatchEvent(_),_.defaultPrevented||jr(w??document.body,{select:!0}),a.removeEventListener(Eh,d),ky.remove(p)},0)}}},[a,u,d,p]);const S=y.useCallback(w=>{if(!n&&!r||p.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(C&&_){const v=w.currentTarget,[E,k]=tR(v);E&&k?!w.shiftKey&&_===k?(w.preventDefault(),n&&jr(E,{select:!0})):w.shiftKey&&_===E&&(w.preventDefault(),n&&jr(k,{select:!0})):_===v&&w.preventDefault()}},[n,r,p.paused]);return T.jsx(on.div,{tabIndex:-1,...s,ref:g,onKeyDown:S})});a1.displayName=ZA;function eR(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(jr(r,{select:e}),document.activeElement!==n)return}function tR(t){const e=l1(t),n=Py(e,t),r=Py(e.reverse(),t);return[n,r]}function l1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Py(t,e){for(const n of t)if(!nR(n,{upTo:e}))return n}function nR(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rR(t){return t instanceof HTMLInputElement&&"select"in t}function jr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&rR(t)&&e&&t.select()}}var ky=iR();function iR(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Ny(t,e),t.unshift(e)},remove(e){var n;t=Ny(t,e),(n=t[0])==null||n.resume()}}}function Ny(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function oR(t){return t.filter(e=>e.tagName!=="A")}var sR="Portal",c1=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=y.useState(!1);ls(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?ym.createPortal(T.jsx(on.div,{...r,ref:e}),s):null});c1.displayName=sR;function aR(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var dl=t=>{const{present:e,children:n}=t,r=lR(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),o=Nr(r.ref,cR(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:o}):null};dl.displayName="Presence";function lR(t){const[e,n]=y.useState(),r=y.useRef(null),i=y.useRef(t),o=y.useRef("none"),s=t?"mounted":"unmounted",[a,c]=aR(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=cc(r.current);o.current=a==="mounted"?u:"none"},[a]),ls(()=>{const u=r.current,d=i.current;if(d!==t){const g=o.current,p=cc(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ls(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const w=cc(r.current).includes(p.animationName);if(p.target===e&&w&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},g=p=>{p.target===e&&(o.current=cc(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function cc(t){return(t==null?void 0:t.animationName)||"none"}function cR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xh=0;function uR(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Dy()),document.body.insertAdjacentElement("beforeend",t[1]??Dy()),xh++,()=>{xh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),xh--}},[])}function Dy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var At=function(){return At=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},At.apply(this,arguments)};function Ts(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function u1(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var xa="right-scroll-bar-position",Ta="width-before-scroll-bar",dR="with-scroll-bars-hidden",hR="--removed-body-scroll-bar-size";function Th(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function fR(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var pR=typeof window<"u"?y.useLayoutEffect:y.useEffect,Oy=new WeakMap;function d1(t,e){var n=fR(e||null,function(r){return t.forEach(function(i){return Th(i,r)})});return pR(function(){var r=Oy.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Th(a,null)}),o.forEach(function(a){i.has(a)||Th(a,s)})}Oy.set(n,t)},[t]),n}function mR(t){return t}function gR(t,e){e===void 0&&(e=mR);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var c=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function h1(t){t===void 0&&(t={});var e=gR(null);return e.options=At({async:!0,ssr:!1},t),e}var f1=function(t){var e=t.sideCar,n=Ts(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,At({},n))};f1.isSideCarExport=!0;function p1(t,e){return t.useMedium(e),f1}var m1=h1(),Sh=function(){},ed=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Sh,onWheelCapture:Sh,onTouchMoveCapture:Sh}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,p=t.noRelative,S=t.noIsolation,w=t.inert,C=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,E=t.gapMode,k=Ts(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,L=d1([n,e]),I=At(At({},k),i);return y.createElement(y.Fragment,null,d&&y.createElement(O,{sideCar:m1,removeScrollBar:u,shards:f,noRelative:p,noIsolation:S,inert:w,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:E}),s?y.cloneElement(y.Children.only(a),At(At({},I),{ref:L})):y.createElement(v,At({},I,{className:c,ref:L}),a))});ed.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ed.classNames={fullWidth:Ta,zeroRight:xa};var My,vR=function(){if(My)return My;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vR();return e&&t.setAttribute("nonce",e),t}function _R(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function wR(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ER=function(){var t=0,e=null;return{add:function(n){t==0&&(e=yR())&&(_R(e,n),wR(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xR=function(){var t=ER();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xm=function(){var t=xR(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},TR={left:0,top:0,right:0,gap:0},Ih=function(t){return parseInt(t||"",10)||0},SR=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ih(n),Ih(r),Ih(i)]},IR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TR;var e=SR(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bR=xm(),Qo="data-scroll-locked",CR=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(dR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xa,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ta,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xa," .").concat(xa,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ta," .").concat(Ta,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(hR,": ").concat(a,`px;
  }
`)},Ly=function(){var t=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(t)?t:0},AR=function(){y.useEffect(function(){return document.body.setAttribute(Qo,(Ly()+1).toString()),function(){var t=Ly()-1;t<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,t.toString())}},[])},g1=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;AR();var o=y.useMemo(function(){return IR(i)},[i]);return y.createElement(bR,{styles:CR(o,!e,i,n?"":"!important")})},Bf=!1;if(typeof window<"u")try{var uc=Object.defineProperty({},"passive",{get:function(){return Bf=!0,!0}});window.addEventListener("test",uc,uc),window.removeEventListener("test",uc,uc)}catch{Bf=!1}var xo=Bf?{passive:!1}:!1,RR=function(t){return t.tagName==="TEXTAREA"},v1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!RR(t)&&n[e]==="visible")},PR=function(t){return v1(t,"overflowY")},kR=function(t){return v1(t,"overflowX")},Vy=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=y1(t,r);if(i){var o=_1(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},NR=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},DR=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},y1=function(t,e){return t==="v"?PR(e):kR(e)},_1=function(t,e){return t==="v"?NR(e):DR(e)},OR=function(t,e){return t==="h"&&e==="rtl"?-1:1},MR=function(t,e,n,r,i){var o=OR(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),u=!1,d=s>0,f=0,g=0;do{if(!a)break;var p=_1(t,a),S=p[0],w=p[1],C=p[2],_=w-C-o*S;(S||_)&&y1(t,a)&&(f+=_,g+=S);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(i&&Math.abs(f)<1||!i&&s>f)||!d&&(i&&Math.abs(g)<1||!i&&-s>g))&&(u=!0),u},dc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$y=function(t){return[t.deltaX,t.deltaY]},Fy=function(t){return t&&"current"in t?t.current:t},LR=function(t,e){return t[0]===e[0]&&t[1]===e[1]},VR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$R=0,To=[];function FR(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState($R++)[0],o=y.useState(xm)[0],s=y.useRef(t);y.useEffect(function(){s.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=u1([t.lockRef.current],(t.shards||[]).map(Fy),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!s.current.allowPinchZoom;var _=dc(w),v=n.current,E="deltaX"in w?w.deltaX:v[0]-_[0],k="deltaY"in w?w.deltaY:v[1]-_[1],O,L=w.target,I=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in w&&I==="h"&&L.type==="range")return!1;var x=Vy(I,L);if(!x)return!0;if(x?O=I:(O=I==="v"?"h":"v",x=Vy(I,L)),!x)return!1;if(!r.current&&"changedTouches"in w&&(E||k)&&(r.current=O),!O)return!0;var A=r.current||O;return MR(A,C,w,A==="h"?E:k,!0)},[]),c=y.useCallback(function(w){var C=w;if(!(!To.length||To[To.length-1]!==o)){var _="deltaY"in C?$y(C):dc(C),v=e.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&LR(O.delta,_)})[0];if(v&&v.should){C.cancelable&&C.preventDefault();return}if(!v){var E=(s.current.shards||[]).map(Fy).filter(Boolean).filter(function(O){return O.contains(C.target)}),k=E.length>0?a(C,E[0]):!s.current.noIsolation;k&&C.cancelable&&C.preventDefault()}}},[]),u=y.useCallback(function(w,C,_,v){var E={name:w,delta:C,target:_,should:v,shadowParent:jR(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),d=y.useCallback(function(w){n.current=dc(w),r.current=void 0},[]),f=y.useCallback(function(w){u(w.type,$y(w),w.target,a(w,t.lockRef.current))},[]),g=y.useCallback(function(w){u(w.type,dc(w),w.target,a(w,t.lockRef.current))},[]);y.useEffect(function(){return To.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,xo),document.addEventListener("touchmove",c,xo),document.addEventListener("touchstart",d,xo),function(){To=To.filter(function(w){return w!==o}),document.removeEventListener("wheel",c,xo),document.removeEventListener("touchmove",c,xo),document.removeEventListener("touchstart",d,xo)}},[]);var p=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(o,{styles:VR(i)}):null,p?y.createElement(g1,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function jR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const UR=p1(m1,FR);var w1=y.forwardRef(function(t,e){return y.createElement(ed,At({},t,{ref:e,sideCar:UR}))});w1.classNames=ed.classNames;const BR=w1;var zR=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},So=new WeakMap,hc=new WeakMap,fc={},bh=0,E1=function(t){return t&&(t.host||E1(t.parentNode))},WR=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=E1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},HR=function(t,e,n,r){var i=WR(e,Array.isArray(t)?t:[t]);fc[n]||(fc[n]=new WeakMap);var o=fc[n],s=[],a=new Set,c=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))d(g);else try{var p=g.getAttribute(r),S=p!==null&&p!=="false",w=(So.get(g)||0)+1,C=(o.get(g)||0)+1;So.set(g,w),o.set(g,C),s.push(g),w===1&&S&&hc.set(g,!0),C===1&&g.setAttribute(n,"true"),S||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return d(e),a.clear(),bh++,function(){s.forEach(function(f){var g=So.get(f)-1,p=o.get(f)-1;So.set(f,g),o.set(f,p),g||(hc.has(f)||f.removeAttribute(r),hc.delete(f)),p||f.removeAttribute(n)}),bh--,bh||(So=new WeakMap,So=new WeakMap,hc=new WeakMap,fc={})}},x1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||zR(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),HR(r,i,n,"aria-hidden")):function(){return null}},td="Dialog",[T1,n5]=n1(td),[qR,On]=T1(td),S1=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=y.useRef(null),c=y.useRef(null),[u,d]=r1({prop:r,defaultProp:i??!1,onChange:o,caller:td});return T.jsx(qR,{scope:e,triggerRef:a,contentRef:c,contentId:_h(),titleId:_h(),descriptionId:_h(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};S1.displayName=td;var I1="DialogTrigger",b1=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=On(I1,n),o=Nr(e,i.triggerRef);return T.jsx(on.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Im(i.open),...r,ref:o,onClick:Hn(t.onClick,i.onOpenToggle)})});b1.displayName=I1;var Tm="DialogPortal",[GR,C1]=T1(Tm,{forceMount:void 0}),A1=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=On(Tm,e);return T.jsx(GR,{scope:e,forceMount:n,children:y.Children.map(r,s=>T.jsx(dl,{present:n||o.open,children:T.jsx(c1,{asChild:!0,container:i,children:s})}))})};A1.displayName=Tm;var gu="DialogOverlay",R1=y.forwardRef((t,e)=>{const n=C1(gu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=On(gu,t.__scopeDialog);return o.modal?T.jsx(dl,{present:r||o.open,children:T.jsx(QR,{...i,ref:e})}):null});R1.displayName=gu;var KR=_m("DialogOverlay.RemoveScroll"),QR=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=On(gu,n);return T.jsx(BR,{as:KR,allowPinchZoom:!0,shards:[i.contentRef],children:T.jsx(on.div,{"data-state":Im(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Xi="DialogContent",P1=y.forwardRef((t,e)=>{const n=C1(Xi,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=On(Xi,t.__scopeDialog);return T.jsx(dl,{present:r||o.open,children:o.modal?T.jsx(YR,{...i,ref:e}):T.jsx(XR,{...i,ref:e})})});P1.displayName=Xi;var YR=y.forwardRef((t,e)=>{const n=On(Xi,t.__scopeDialog),r=y.useRef(null),i=Nr(e,n.contentRef,r);return y.useEffect(()=>{const o=r.current;if(o)return x1(o)},[]),T.jsx(k1,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Hn(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Hn(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Hn(t.onFocusOutside,o=>o.preventDefault())})}),XR=y.forwardRef((t,e)=>{const n=On(Xi,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return T.jsx(k1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),k1=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=On(Xi,n),c=y.useRef(null),u=Nr(e,c);return uR(),T.jsxs(T.Fragment,{children:[T.jsx(a1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:T.jsx(o1,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Im(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(JR,{titleId:a.titleId}),T.jsx(eP,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Sm="DialogTitle",N1=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=On(Sm,n);return T.jsx(on.h2,{id:i.titleId,...r,ref:e})});N1.displayName=Sm;var D1="DialogDescription",O1=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=On(D1,n);return T.jsx(on.p,{id:i.descriptionId,...r,ref:e})});O1.displayName=D1;var M1="DialogClose",L1=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=On(M1,n);return T.jsx(on.button,{type:"button",...r,ref:e,onClick:Hn(t.onClick,()=>i.onOpenChange(!1))})});L1.displayName=M1;function Im(t){return t?"open":"closed"}var V1="DialogTitleWarning",[r5,$1]=$A(V1,{contentName:Xi,titleName:Sm,docsSlug:"dialog"}),JR=({titleId:t})=>{const e=$1(V1),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ZR="DialogDescriptionWarning",eP=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$1(ZR).contentName}}.`;return y.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},tP=S1,nP=b1,rP=A1,F1=R1,j1=P1,U1=N1,B1=O1,iP=L1,oP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aP=(t,e)=>{const n=y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...c},u)=>y.createElement("svg",{ref:u,...oP,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${sP(t)}`,...c},[...e.map(([d,f])=>y.createElement(d,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var at=aP;const lP=at("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ga=at("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),cP=at("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),z1=at("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),W1=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),uP=at("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),dP=at("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ch=at("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),hP=at("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),jy=at("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),fP=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),zf=at("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),pP=at("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),mP=at("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),gP=at("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),vP=at("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vu=at("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),H1=at("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yP=tP,_P=nP,wP=rP,q1=y.forwardRef(({className:t,...e},n)=>T.jsx(F1,{ref:n,className:ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));q1.displayName=F1.displayName;const G1=y.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(wP,{children:[T.jsx(q1,{}),T.jsxs(j1,{ref:r,className:ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,T.jsxs(iP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[T.jsx(H1,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));G1.displayName=j1.displayName;const K1=({className:t,...e})=>T.jsx("div",{className:ze("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});K1.displayName="DialogHeader";const Q1=y.forwardRef(({className:t,...e},n)=>T.jsx(U1,{ref:n,className:ze("text-lg font-semibold leading-none tracking-tight",t),...e}));Q1.displayName=U1.displayName;const Y1=y.forwardRef(({className:t,...e},n)=>T.jsx(B1,{ref:n,className:ze("text-sm text-muted-foreground",t),...e}));Y1.displayName=B1.displayName;function Uy({groups:t,activeGroup:e,onSelectGroup:n,onCreateGroup:r,userId:i,onAddMember:o,onRemoveMember:s}){const[a,c]=y.useState(""),[u,d]=y.useState(""),[f,g]=y.useState(""),[p,S]=y.useState(""),[w,C]=y.useState(!1),_=E=>{E.preventDefault(),a.trim()&&(r({name:a.trim(),description:u.trim()||void 0}),c(""),d(""),C(!1))},v=E=>{E.preventDefault(),!(!f.trim()||!o)&&(o({name:f.trim(),email:p.trim()||void 0}),g(""),S(""))};return T.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 h-full flex flex-col",children:[T.jsxs("div",{className:"p-6 border-b border-gray-200",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:T.jsx(Ga,{className:"h-5 w-5 text-white"})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Expense Splitter"}),T.jsx("p",{className:"text-sm text-gray-600",children:"Split bills fairly among friends"})]})]}),T.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[T.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Your User ID:"}),T.jsx("p",{className:"text-xs font-mono text-gray-800 break-all",children:i||"Loading..."})]})]}),T.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx(cn,{className:"text-base font-medium",children:"Select Group"}),T.jsxs(yP,{open:w,onOpenChange:C,children:[T.jsx(_P,{asChild:!0,children:T.jsxs(Cn,{size:"sm",className:"bg-indigo-600 hover:bg-indigo-700",children:[T.jsx(fP,{className:"h-4 w-4 mr-1"}),"New Group"]})}),T.jsxs(G1,{children:[T.jsxs(K1,{children:[T.jsx(Q1,{children:"Create New Group"}),T.jsx(Y1,{children:"Create a new group to split expenses with your friends and family."})]}),T.jsxs("form",{onSubmit:_,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"group-name",children:"Group Name"}),T.jsx(Jr,{id:"group-name",value:a,onChange:E=>c(E.target.value),placeholder:"Enter group name",required:!0})]}),T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"group-desc",children:"Description (optional)"}),T.jsx(Jr,{id:"group-desc",value:u,onChange:E=>d(E.target.value),placeholder:"Describe your group"})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx(Cn,{type:"submit",className:"flex-1",children:"Create Group"}),T.jsx(Cn,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"})]})]})]})]})]}),T.jsxs("div",{className:"space-y-2",children:[t.map(E=>T.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all hover:bg-gray-50 ${(e==null?void 0:e.id)===E.id?"border-indigo-200 bg-indigo-50 ring-1 ring-indigo-200":"border-gray-200"}`,onClick:()=>n(E),children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:E.name}),E.description&&T.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E.description})]}),(e==null?void 0:e.id)===E.id&&T.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full ml-2"})]})},E.id)),t.length===0&&T.jsxs("div",{className:"text-center py-8 text-gray-500",children:[T.jsx(vu,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),T.jsx("p",{className:"text-sm",children:"No groups yet"}),T.jsx("p",{className:"text-xs",children:"Create your first group to get started"})]})]})]}),e&&T.jsxs(un,{children:[T.jsx(Qi,{className:"pb-3",children:T.jsxs(Yi,{className:"text-base flex items-center",children:[T.jsx(vu,{className:"h-4 w-4 mr-2"}),"Members"]})}),T.jsxs(dn,{className:"space-y-4",children:[T.jsxs("form",{onSubmit:v,className:"space-y-3",children:[T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"member-name",className:"text-sm",children:"Member Name"}),T.jsx(Jr,{id:"member-name",value:f,onChange:E=>g(E.target.value),placeholder:"Member name",className:"h-8",required:!0})]}),T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"member-email",className:"text-sm",children:"Email (optional)"}),T.jsx(Jr,{id:"member-email",type:"email",value:p,onChange:E=>S(E.target.value),placeholder:"Email (optional)",className:"h-8"})]}),T.jsx(Cn,{type:"submit",size:"sm",className:"w-full bg-indigo-600 hover:bg-indigo-700",children:"Add Member"})]}),T.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[e.members.map(E=>T.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded border border-green-200",children:[T.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.name}),T.jsx(Cn,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700 hover:bg-red-100",onClick:()=>s==null?void 0:s(E.id),children:T.jsx(H1,{className:"h-3 w-3"})})]},E.id)),e.members.length===0&&T.jsxs("div",{className:"text-center py-4 text-gray-500",children:[T.jsx(gP,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),T.jsx("p",{className:"text-xs",children:"No members yet"})]})]})]})]})]})]})}function Ce(){return Ce=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ce.apply(null,arguments)}function By(t,[e,n]){return Math.min(n,Math.max(e,t))}function ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function bm(t,e=[]){let n=[];function r(o,s){const a=y.createContext(s),c=n.length;n=[...n,s];function u(f){const{scope:g,children:p,...S}=f,w=(g==null?void 0:g[t][c])||a,C=y.useMemo(()=>S,Object.values(S));return y.createElement(w.Provider,{value:C},p)}function d(f,g){const p=(g==null?void 0:g[t][c])||a,S=y.useContext(p);if(S)return S;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const i=()=>{const o=n.map(s=>y.createContext(s));return function(a){const c=(a==null?void 0:a[t])||o;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,EP(i,...e)]}function EP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function xP(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function X1(...t){return e=>t.forEach(n=>xP(n,e))}function Pt(...t){return y.useCallback(X1(...t),t)}const Ka=y.forwardRef((t,e)=>{const{children:n,...r}=t,i=y.Children.toArray(n),o=i.find(SP);if(o){const s=o.props.children,a=i.map(c=>c===o?y.Children.count(s)>1?y.Children.only(null):y.isValidElement(s)?s.props.children:null:c);return y.createElement(Wf,Ce({},r,{ref:e}),y.isValidElement(s)?y.cloneElement(s,void 0,a):null)}return y.createElement(Wf,Ce({},r,{ref:e}),n)});Ka.displayName="Slot";const Wf=y.forwardRef((t,e)=>{const{children:n,...r}=t;return y.isValidElement(n)?y.cloneElement(n,{...IP(r,n.props),ref:e?X1(e,n.ref):n.ref}):y.Children.count(n)>1?y.Children.only(null):null});Wf.displayName="SlotClone";const TP=({children:t})=>y.createElement(y.Fragment,null,t);function SP(t){return y.isValidElement(t)&&t.type===TP}function IP(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function bP(t){const e=t+"CollectionProvider",[n,r]=bm(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:S,children:w}=p,C=z.useRef(null),_=z.useRef(new Map).current;return z.createElement(i,{scope:S,itemMap:_,collectionRef:C},w)},a=t+"CollectionSlot",c=z.forwardRef((p,S)=>{const{scope:w,children:C}=p,_=o(a,w),v=Pt(S,_.collectionRef);return z.createElement(Ka,{ref:v},C)}),u=t+"CollectionItemSlot",d="data-radix-collection-item",f=z.forwardRef((p,S)=>{const{scope:w,children:C,..._}=p,v=z.useRef(null),E=Pt(S,v),k=o(u,w);return z.useEffect(()=>(k.itemMap.set(v,{ref:v,..._}),()=>void k.itemMap.delete(v))),z.createElement(Ka,{[d]:"",ref:E},C)});function g(p){const S=o(t+"CollectionConsumer",p);return z.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const _=Array.from(C.querySelectorAll(`[${d}]`));return Array.from(S.itemMap.values()).sort((k,O)=>_.indexOf(k.ref.current)-_.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:s,Slot:c,ItemSlot:f},g,r]}const CP=y.createContext(void 0);function AP(t){const e=y.useContext(CP);return t||e||"ltr"}const RP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Vt=RP.reduce((t,e)=>{const n=y.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Ka:e;return y.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),y.createElement(a,Ce({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function PP(t,e){t&&so.flushSync(()=>t.dispatchEvent(e))}function Tr(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function kP(t,e=globalThis==null?void 0:globalThis.document){const n=Tr(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Hf="dismissableLayer.update",NP="dismissableLayer.pointerDownOutside",DP="dismissableLayer.focusOutside";let zy;const OP=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),MP=y.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...u}=t,d=y.useContext(OP),[f,g]=y.useState(null),p=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,S]=y.useState({}),w=Pt(e,x=>g(x)),C=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=C.indexOf(_),E=f?C.indexOf(f):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,O=E>=v,L=LP(x=>{const A=x.target,R=[...d.branches].some(D=>D.contains(A));!O||R||(o==null||o(x),a==null||a(x),x.defaultPrevented||c==null||c())},p),I=VP(x=>{const A=x.target;[...d.branches].some(D=>D.contains(A))||(s==null||s(x),a==null||a(x),x.defaultPrevented||c==null||c())},p);return kP(x=>{E===d.layers.size-1&&(i==null||i(x),!x.defaultPrevented&&c&&(x.preventDefault(),c()))},p),y.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zy=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Wy(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=zy)}},[f,p,r,d]),y.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Wy())},[f,d]),y.useEffect(()=>{const x=()=>S({});return document.addEventListener(Hf,x),()=>document.removeEventListener(Hf,x)},[]),y.createElement(Vt.div,Ce({},u,{ref:w,style:{pointerEvents:k?O?"auto":"none":void 0,...t.style},onFocusCapture:ot(t.onFocusCapture,I.onFocusCapture),onBlurCapture:ot(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:ot(t.onPointerDownCapture,L.onPointerDownCapture)}))});function LP(t,e=globalThis==null?void 0:globalThis.document){const n=Tr(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let d=function(){J1(NP,n,u,{discrete:!0})};var c=d;const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function VP(t,e=globalThis==null?void 0:globalThis.document){const n=Tr(t),r=y.useRef(!1);return y.useEffect(()=>{const i=o=>{o.target&&!r.current&&J1(DP,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wy(){const t=new CustomEvent(Hf);document.dispatchEvent(t)}function J1(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?PP(i,o):i.dispatchEvent(o)}let Ah=0;function $P(){y.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:Hy()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:Hy()),Ah++,()=>{Ah===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ah--}},[])}function Hy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Rh="focusScope.autoFocusOnMount",Ph="focusScope.autoFocusOnUnmount",qy={bubbles:!1,cancelable:!0},FP=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,c]=y.useState(null),u=Tr(i),d=Tr(o),f=y.useRef(null),g=Pt(e,w=>c(w)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(L){if(p.paused||!a)return;const I=L.target;a.contains(I)?f.current=I:Ur(f.current,{select:!0})},E=function(L){if(p.paused||!a)return;const I=L.relatedTarget;I!==null&&(a.contains(I)||Ur(f.current,{select:!0}))},k=function(L){const I=document.activeElement;for(const x of L)x.removedNodes.length>0&&(a!=null&&a.contains(I)||Ur(a))};var w=v,C=E,_=k;document.addEventListener("focusin",v),document.addEventListener("focusout",E);const O=new MutationObserver(k);return a&&O.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),O.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){Ky.add(p);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(Rh,qy);a.addEventListener(Rh,u),a.dispatchEvent(_),_.defaultPrevented||(jP(HP(Z1(a)),{select:!0}),document.activeElement===w&&Ur(a))}return()=>{a.removeEventListener(Rh,u),setTimeout(()=>{const _=new CustomEvent(Ph,qy);a.addEventListener(Ph,d),a.dispatchEvent(_),_.defaultPrevented||Ur(w??document.body,{select:!0}),a.removeEventListener(Ph,d),Ky.remove(p)},0)}}},[a,u,d,p]);const S=y.useCallback(w=>{if(!n&&!r||p.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(C&&_){const v=w.currentTarget,[E,k]=UP(v);E&&k?!w.shiftKey&&_===k?(w.preventDefault(),n&&Ur(E,{select:!0})):w.shiftKey&&_===E&&(w.preventDefault(),n&&Ur(k,{select:!0})):_===v&&w.preventDefault()}},[n,r,p.paused]);return y.createElement(Vt.div,Ce({tabIndex:-1},s,{ref:g,onKeyDown:S}))});function jP(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ur(r,{select:e}),document.activeElement!==n)return}function UP(t){const e=Z1(t),n=Gy(e,t),r=Gy(e.reverse(),t);return[n,r]}function Z1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gy(t,e){for(const n of t)if(!BP(n,{upTo:e}))return n}function BP(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zP(t){return t instanceof HTMLInputElement&&"select"in t}function Ur(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zP(t)&&e&&t.select()}}const Ky=WP();function WP(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Qy(t,e),t.unshift(e)},remove(e){var n;t=Qy(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function Qy(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function HP(t){return t.filter(e=>e.tagName!=="A")}const gn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},qP=Cp["useId".toString()]||(()=>{});let GP=0;function ex(t){const[e,n]=y.useState(qP());return gn(()=>{t||n(r=>r??String(GP++))},[t]),t||(e?`radix-${e}`:"")}const KP=["top","right","bottom","left"],vi=Math.min,Yt=Math.max,yu=Math.round,pc=Math.floor,qn=t=>({x:t,y:t}),QP={left:"right",right:"left",bottom:"top",top:"bottom"},YP={start:"end",end:"start"};function qf(t,e,n){return Yt(t,vi(e,n))}function Sr(t,e){return typeof t=="function"?t(e):t}function Ir(t){return t.split("-")[0]}function Ss(t){return t.split("-")[1]}function Cm(t){return t==="x"?"y":"x"}function Am(t){return t==="y"?"height":"width"}const XP=new Set(["top","bottom"]);function Bn(t){return XP.has(Ir(t))?"y":"x"}function Rm(t){return Cm(Bn(t))}function JP(t,e,n){n===void 0&&(n=!1);const r=Ss(t),i=Rm(t),o=Am(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=_u(s)),[s,_u(s)]}function ZP(t){const e=_u(t);return[Gf(t),e,Gf(e)]}function Gf(t){return t.replace(/start|end/g,e=>YP[e])}const Yy=["left","right"],Xy=["right","left"],ek=["top","bottom"],tk=["bottom","top"];function nk(t,e,n){switch(t){case"top":case"bottom":return n?e?Xy:Yy:e?Yy:Xy;case"left":case"right":return e?ek:tk;default:return[]}}function rk(t,e,n,r){const i=Ss(t);let o=nk(Ir(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Gf)))),o}function _u(t){return t.replace(/left|right|bottom|top/g,e=>QP[e])}function ik(t){return{top:0,right:0,bottom:0,left:0,...t}}function tx(t){return typeof t!="number"?ik(t):{top:t,right:t,bottom:t,left:t}}function wu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Jy(t,e,n){let{reference:r,floating:i}=t;const o=Bn(e),s=Rm(e),a=Am(s),c=Ir(e),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ss(e)){case"start":p[s]-=g*(n&&u?-1:1);break;case"end":p[s]+=g*(n&&u?-1:1);break}return p}const ok=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Jy(u,r,c),g=r,p={},S=0;for(let w=0;w<a.length;w++){const{name:C,fn:_}=a[w],{x:v,y:E,data:k,reset:O}=await _({x:d,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});d=v??d,f=E??f,p={...p,[C]:{...p[C],...k}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(u=O.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:f}=Jy(u,g,c)),w=-1)}return{x:d,y:f,placement:g,strategy:i,middlewareData:p}};async function Qa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=Sr(e,t),S=tx(p),C=a[g?f==="floating"?"reference":"floating":f],_=wu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),k=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},O=wu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:E,strategy:c}):v);return{top:(_.top-O.top+S.top)/k.y,bottom:(O.bottom-_.bottom+S.bottom)/k.y,left:(_.left-O.left+S.left)/k.x,right:(O.right-_.right+S.right)/k.x}}const sk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Sr(t,e)||{};if(u==null)return{};const f=tx(d),g={x:n,y:r},p=Rm(i),S=Am(p),w=await s.getDimensions(u),C=p==="y",_=C?"top":"left",v=C?"bottom":"right",E=C?"clientHeight":"clientWidth",k=o.reference[S]+o.reference[p]-g[p]-o.floating[S],O=g[p]-o.reference[p],L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let I=L?L[E]:0;(!I||!await(s.isElement==null?void 0:s.isElement(L)))&&(I=a.floating[E]||o.floating[S]);const x=k/2-O/2,A=I/2-w[S]/2-1,R=vi(f[_],A),D=vi(f[v],A),N=R,P=I-w[S]-D,J=I/2-w[S]/2+x,oe=qf(N,J,P),te=!c.arrow&&Ss(i)!=null&&J!==oe&&o.reference[S]/2-(J<N?R:D)-w[S]/2<0,ne=te?J<N?J-N:J-P:0;return{[p]:g[p]+ne,data:{[p]:oe,centerOffset:J-oe-ne,...te&&{alignmentOffset:ne}},reset:te}}}),ak=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...C}=Sr(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Ir(i),v=Bn(a),E=Ir(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=g||(E||!w?[_u(a)]:ZP(a)),L=S!=="none";!g&&L&&O.push(...rk(a,w,S,k));const I=[a,...O],x=await Qa(e,C),A=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&A.push(x[_]),f){const J=JP(i,s,k);A.push(x[J[0]],x[J[1]])}if(R=[...R,{placement:i,overflows:A}],!A.every(J=>J<=0)){var D,N;const J=(((D=o.flip)==null?void 0:D.index)||0)+1,oe=I[J];if(oe&&(!(f==="alignment"?v!==Bn(oe):!1)||R.every($=>$.overflows[0]>0&&Bn($.placement)===v)))return{data:{index:J,overflows:R},reset:{placement:oe}};let te=(N=R.filter(ne=>ne.overflows[0]<=0).sort((ne,$)=>ne.overflows[1]-$.overflows[1])[0])==null?void 0:N.placement;if(!te)switch(p){case"bestFit":{var P;const ne=(P=R.filter($=>{if(L){const F=Bn($.placement);return F===v||F==="y"}return!0}).map($=>[$.placement,$.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort(($,F)=>$[1]-F[1])[0])==null?void 0:P[0];ne&&(te=ne);break}case"initialPlacement":te=a;break}if(i!==te)return{reset:{placement:te}}}return{}}}};function Zy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function e0(t){return KP.some(e=>t[e]>=0)}const lk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Sr(t,e);switch(r){case"referenceHidden":{const o=await Qa(e,{...i,elementContext:"reference"}),s=Zy(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:e0(s)}}}case"escaped":{const o=await Qa(e,{...i,altBoundary:!0}),s=Zy(o,n.floating);return{data:{escapedOffsets:s,escaped:e0(s)}}}default:return{}}}}},nx=new Set(["left","top"]);async function ck(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ir(n),a=Ss(n),c=Bn(n)==="y",u=nx.has(s)?-1:1,d=o&&c?-1:1,f=Sr(e,t);let{mainAxis:g,crossAxis:p,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(p=a==="end"?S*-1:S),c?{x:p*d,y:g*u}:{x:g*u,y:p*d}}const uk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await ck(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},dk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:C=>{let{x:_,y:v}=C;return{x:_,y:v}}},...c}=Sr(t,e),u={x:n,y:r},d=await Qa(e,c),f=Bn(Ir(i)),g=Cm(f);let p=u[g],S=u[f];if(o){const C=g==="y"?"top":"left",_=g==="y"?"bottom":"right",v=p+d[C],E=p-d[_];p=qf(v,p,E)}if(s){const C=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=S+d[C],E=S-d[_];S=qf(v,S,E)}const w=a.fn({...e,[g]:p,[f]:S});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:o,[f]:s}}}}}},hk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Sr(t,e),d={x:n,y:r},f=Bn(i),g=Cm(f);let p=d[g],S=d[f];const w=Sr(a,e),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const E=g==="y"?"height":"width",k=o.reference[g]-o.floating[E]+C.mainAxis,O=o.reference[g]+o.reference[E]-C.mainAxis;p<k?p=k:p>O&&(p=O)}if(u){var _,v;const E=g==="y"?"width":"height",k=nx.has(Ir(i)),O=o.reference[f]-o.floating[E]+(k&&((_=s.offset)==null?void 0:_[f])||0)+(k?0:C.crossAxis),L=o.reference[f]+o.reference[E]+(k?0:((v=s.offset)==null?void 0:v[f])||0)-(k?C.crossAxis:0);S<O?S=O:S>L&&(S=L)}return{[g]:p,[f]:S}}}},fk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:c=()=>{},...u}=Sr(t,e),d=await Qa(e,u),f=Ir(i),g=Ss(i),p=Bn(i)==="y",{width:S,height:w}=o.floating;let C,_;f==="top"||f==="bottom"?(C=f,_=g===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,C=g==="end"?"top":"bottom");const v=w-d.top-d.bottom,E=S-d.left-d.right,k=vi(w-d[C],v),O=vi(S-d[_],E),L=!e.middlewareData.shift;let I=k,x=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),L&&!g){const R=Yt(d.left,0),D=Yt(d.right,0),N=Yt(d.top,0),P=Yt(d.bottom,0);p?x=S-2*(R!==0||D!==0?R+D:Yt(d.left,d.right)):I=w-2*(N!==0||P!==0?N+P:Yt(d.top,d.bottom))}await c({...e,availableWidth:x,availableHeight:I});const A=await s.getDimensions(a.floating);return S!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function nd(){return typeof window<"u"}function Is(t){return rx(t)?(t.nodeName||"").toLowerCase():"#document"}function en(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function er(t){var e;return(e=(rx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rx(t){return nd()?t instanceof Node||t instanceof en(t).Node:!1}function kn(t){return nd()?t instanceof Element||t instanceof en(t).Element:!1}function Jn(t){return nd()?t instanceof HTMLElement||t instanceof en(t).HTMLElement:!1}function t0(t){return!nd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof en(t).ShadowRoot}const pk=new Set(["inline","contents"]);function hl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Nn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!pk.has(i)}const mk=new Set(["table","td","th"]);function gk(t){return mk.has(Is(t))}const vk=[":popover-open",":modal"];function rd(t){return vk.some(e=>{try{return t.matches(e)}catch{return!1}})}const yk=["transform","translate","scale","rotate","perspective"],_k=["transform","translate","scale","rotate","perspective","filter"],wk=["paint","layout","strict","content"];function Pm(t){const e=km(),n=kn(t)?Nn(t):t;return yk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||_k.some(r=>(n.willChange||"").includes(r))||wk.some(r=>(n.contain||"").includes(r))}function Ek(t){let e=yi(t);for(;Jn(e)&&!cs(e);){if(Pm(e))return e;if(rd(e))return null;e=yi(e)}return null}function km(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xk=new Set(["html","body","#document"]);function cs(t){return xk.has(Is(t))}function Nn(t){return en(t).getComputedStyle(t)}function id(t){return kn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yi(t){if(Is(t)==="html")return t;const e=t.assignedSlot||t.parentNode||t0(t)&&t.host||er(t);return t0(e)?e.host:e}function ix(t){const e=yi(t);return cs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jn(e)&&hl(e)?e:ix(e)}function Ya(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ix(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=en(i);if(o){const a=Kf(s);return e.concat(s,s.visualViewport||[],hl(i)?i:[],a&&n?Ya(a):[])}return e.concat(i,Ya(i,[],n))}function Kf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ox(t){const e=Nn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jn(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=yu(n)!==o||yu(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Nm(t){return kn(t)?t:t.contextElement}function Yo(t){const e=Nm(t);if(!Jn(e))return qn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=ox(e);let s=(o?yu(n.width):n.width)/r,a=(o?yu(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Tk=qn(0);function sx(t){const e=en(t);return!km()||!e.visualViewport?Tk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Sk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==en(t)?!1:e}function Ji(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Nm(t);let s=qn(1);e&&(r?kn(r)&&(s=Yo(r)):s=Yo(t));const a=Sk(o,n,r)?sx(o):qn(0);let c=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const g=en(o),p=r&&kn(r)?en(r):r;let S=g,w=Kf(S);for(;w&&r&&p!==S;){const C=Yo(w),_=w.getBoundingClientRect(),v=Nn(w),E=_.left+(w.clientLeft+parseFloat(v.paddingLeft))*C.x,k=_.top+(w.clientTop+parseFloat(v.paddingTop))*C.y;c*=C.x,u*=C.y,d*=C.x,f*=C.y,c+=E,u+=k,S=en(w),w=Kf(S)}}return wu({width:d,height:f,x:c,y:u})}function Dm(t,e){const n=id(t).scrollLeft;return e?e.left+n:Ji(er(t)).left+n}function ax(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Dm(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Ik(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=er(r),a=e?rd(e.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=qn(1);const d=qn(0),f=Jn(r);if((f||!f&&!o)&&((Is(r)!=="body"||hl(s))&&(c=id(r)),Jn(r))){const p=Ji(r);u=Yo(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const g=s&&!f&&!o?ax(s,c,!0):qn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-c.scrollTop*u.y+d.y+g.y}}function bk(t){return Array.from(t.getClientRects())}function Ck(t){const e=er(t),n=id(t),r=t.ownerDocument.body,i=Yt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Yt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Dm(t);const a=-n.scrollTop;return Nn(r).direction==="rtl"&&(s+=Yt(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Ak(t,e){const n=en(t),r=er(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const u=km();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}const Rk=new Set(["absolute","fixed"]);function Pk(t,e){const n=Ji(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Jn(t)?Yo(t):qn(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:s,height:a,x:c,y:u}}function n0(t,e,n){let r;if(e==="viewport")r=Ak(t,n);else if(e==="document")r=Ck(er(t));else if(kn(e))r=Pk(e,n);else{const i=sx(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wu(r)}function lx(t,e){const n=yi(t);return n===e||!kn(n)||cs(n)?!1:Nn(n).position==="fixed"||lx(n,e)}function kk(t,e){const n=e.get(t);if(n)return n;let r=Ya(t,[],!1).filter(a=>kn(a)&&Is(a)!=="body"),i=null;const o=Nn(t).position==="fixed";let s=o?yi(t):t;for(;kn(s)&&!cs(s);){const a=Nn(s),c=Pm(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&Rk.has(i.position)||hl(s)&&!c&&lx(t,s))?r=r.filter(d=>d!==s):i=a,s=yi(s)}return e.set(t,r),r}function Nk(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?rd(e)?[]:kk(e,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=n0(e,d,i);return u.top=Yt(f.top,u.top),u.right=vi(f.right,u.right),u.bottom=vi(f.bottom,u.bottom),u.left=Yt(f.left,u.left),u},n0(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Dk(t){const{width:e,height:n}=ox(t);return{width:e,height:n}}function Ok(t,e,n){const r=Jn(e),i=er(e),o=n==="fixed",s=Ji(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=qn(0);function u(){c.x=Dm(i)}if(r||!r&&!o)if((Is(e)!=="body"||hl(i))&&(a=id(e)),r){const p=Ji(e,!0,o,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();o&&!r&&i&&u();const d=i&&!r&&!o?ax(i,a):qn(0),f=s.left+a.scrollLeft-c.x-d.x,g=s.top+a.scrollTop-c.y-d.y;return{x:f,y:g,width:s.width,height:s.height}}function kh(t){return Nn(t).position==="static"}function r0(t,e){if(!Jn(t)||Nn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return er(t)===n&&(n=n.ownerDocument.body),n}function cx(t,e){const n=en(t);if(rd(t))return n;if(!Jn(t)){let i=yi(t);for(;i&&!cs(i);){if(kn(i)&&!kh(i))return i;i=yi(i)}return n}let r=r0(t,e);for(;r&&gk(r)&&kh(r);)r=r0(r,e);return r&&cs(r)&&kh(r)&&!Pm(r)?n:r||Ek(t)||n}const Mk=async function(t){const e=this.getOffsetParent||cx,n=this.getDimensions,r=await n(t.floating);return{reference:Ok(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lk(t){return Nn(t).direction==="rtl"}const Vk={convertOffsetParentRelativeRectToViewportRelativeRect:Ik,getDocumentElement:er,getClippingRect:Nk,getOffsetParent:cx,getElementRects:Mk,getClientRects:bk,getDimensions:Dk,getScale:Yo,isElement:kn,isRTL:Lk};function ux(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $k(t,e){let n=null,r;const i=er(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:p}=u;if(a||e(),!g||!p)return;const S=pc(f),w=pc(i.clientWidth-(d+g)),C=pc(i.clientHeight-(f+p)),_=pc(d),E={rootMargin:-S+"px "+-w+"px "+-C+"px "+-_+"px",threshold:Yt(0,vi(1,c))||1};let k=!0;function O(L){const I=L[0].intersectionRatio;if(I!==c){if(!k)return s();I?s(!1,I):r=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!ux(u,t.getBoundingClientRect())&&s(),k=!1}try{n=new IntersectionObserver(O,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,E)}n.observe(t)}return s(!0),o}function Fk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Nm(t),d=i||o?[...u?Ya(u):[],...Ya(e)]:[];d.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=u&&a?$k(u,n):null;let g=-1,p=null;s&&(p=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let S,w=c?Ji(t):null;c&&C();function C(){const _=Ji(t);w&&!ux(w,_)&&n(),w=_,S=requestAnimationFrame(C)}return n(),()=>{var _;d.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,c&&cancelAnimationFrame(S)}}const jk=uk,Uk=dk,Bk=ak,zk=fk,Wk=lk,i0=sk,Hk=hk,qk=(t,e,n)=>{const r=new Map,i={platform:Vk,...n},o={...i.platform,_c:r};return ok(t,e,{...i,platform:o})};var Gk=typeof document<"u",Kk=function(){},Lc=Gk?y.useLayoutEffect:Kk;function Eu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Eu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Eu(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function dx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function o0(t,e){const n=dx(t);return Math.round(e*n)/n}function Nh(t){const e=y.useRef(t);return Lc(()=>{e.current=t}),e}function Qk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=y.useState(r);Eu(g,r)||p(r);const[S,w]=y.useState(null),[C,_]=y.useState(null),v=y.useCallback($=>{$!==L.current&&(L.current=$,w($))},[]),E=y.useCallback($=>{$!==I.current&&(I.current=$,_($))},[]),k=o||S,O=s||C,L=y.useRef(null),I=y.useRef(null),x=y.useRef(d),A=c!=null,R=Nh(c),D=Nh(i),N=Nh(u),P=y.useCallback(()=>{if(!L.current||!I.current)return;const $={placement:e,strategy:n,middleware:g};D.current&&($.platform=D.current),qk(L.current,I.current,$).then(F=>{const q={...F,isPositioned:N.current!==!1};J.current&&!Eu(x.current,q)&&(x.current=q,so.flushSync(()=>{f(q)}))})},[g,e,n,D,N]);Lc(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const J=y.useRef(!1);Lc(()=>(J.current=!0,()=>{J.current=!1}),[]),Lc(()=>{if(k&&(L.current=k),O&&(I.current=O),k&&O){if(R.current)return R.current(k,O,P);P()}},[k,O,P,R,A]);const oe=y.useMemo(()=>({reference:L,floating:I,setReference:v,setFloating:E}),[v,E]),te=y.useMemo(()=>({reference:k,floating:O}),[k,O]),ne=y.useMemo(()=>{const $={position:n,left:0,top:0};if(!te.floating)return $;const F=o0(te.floating,d.x),q=o0(te.floating,d.y);return a?{...$,transform:"translate("+F+"px, "+q+"px)",...dx(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:q}},[n,a,te.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:P,refs:oe,elements:te,floatingStyles:ne}),[d,P,oe,te,ne])}const Yk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?i0({element:r.current,padding:i}).fn(n):{}:r?i0({element:r,padding:i}).fn(n):{}}}},Xk=(t,e)=>({...jk(t),options:[t,e]}),Jk=(t,e)=>({...Uk(t),options:[t,e]}),Zk=(t,e)=>({...Hk(t),options:[t,e]}),eN=(t,e)=>({...Bk(t),options:[t,e]}),tN=(t,e)=>({...zk(t),options:[t,e]}),nN=(t,e)=>({...Wk(t),options:[t,e]}),rN=(t,e)=>({...Yk(t),options:[t,e]});function iN(t){const[e,n]=y.useState(void 0);return gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const hx="Popper",[fx,px]=bm(hx),[oN,mx]=fx(hx),sN=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return y.createElement(oN,{scope:e,anchor:r,onAnchorChange:i},n)},aN="PopperAnchor",lN=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=mx(aN,n),s=y.useRef(null),a=Pt(e,s);return y.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:y.createElement(Vt.div,Ce({},i,{ref:a}))}),gx="PopperContent",[cN,i5]=fx(gx),uN=y.forwardRef((t,e)=>{var n,r,i,o,s,a,c,u;const{__scopePopper:d,side:f="bottom",sideOffset:g=0,align:p="center",alignOffset:S=0,arrowPadding:w=0,collisionBoundary:C=[],collisionPadding:_=0,sticky:v="partial",hideWhenDetached:E=!1,avoidCollisions:k=!0,onPlaced:O,...L}=t,I=mx(gx,d),[x,A]=y.useState(null),R=Pt(e,Ge=>A(Ge)),[D,N]=y.useState(null),P=iN(D),J=(n=P==null?void 0:P.width)!==null&&n!==void 0?n:0,oe=(r=P==null?void 0:P.height)!==null&&r!==void 0?r:0,te=f+(p!=="center"?"-"+p:""),ne=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},$=Array.isArray(C)?C:[C],F=$.length>0,q={padding:ne,boundary:$.filter(dN),altBoundary:F},{refs:ce,floatingStyles:G,placement:K,isPositioned:se,middlewareData:he}=Qk({strategy:"fixed",placement:te,whileElementsMounted:Fk,elements:{reference:I.anchor},middleware:[Xk({mainAxis:g+oe,alignmentAxis:S}),k&&Jk({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Zk():void 0,...q}),k&&eN({...q}),tN({...q,apply:({elements:Ge,rects:vn,availableWidth:yn,availableHeight:Mn})=>{const{width:Ci,height:po}=vn.reference,Ln=Ge.floating.style;Ln.setProperty("--radix-popper-available-width",`${yn}px`),Ln.setProperty("--radix-popper-available-height",`${Mn}px`),Ln.setProperty("--radix-popper-anchor-width",`${Ci}px`),Ln.setProperty("--radix-popper-anchor-height",`${po}px`)}}),D&&rN({element:D,padding:w}),hN({arrowWidth:J,arrowHeight:oe}),E&&nN({strategy:"referenceHidden"})]}),[Pe,H]=vx(K),ye=Tr(O);gn(()=>{se&&(ye==null||ye())},[se,ye]);const Ve=(i=he.arrow)===null||i===void 0?void 0:i.x,ge=(o=he.arrow)===null||o===void 0?void 0:o.y,ue=((s=he.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[fe,Ye]=y.useState();return gn(()=>{x&&Ye(window.getComputedStyle(x).zIndex)},[x]),y.createElement("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:se?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(a=he.transformOrigin)===null||a===void 0?void 0:a.x,(c=he.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:t.dir},y.createElement(cN,{scope:d,placedSide:Pe,onArrowChange:N,arrowX:Ve,arrowY:ge,shouldHideArrow:ue},y.createElement(Vt.div,Ce({"data-side":Pe,"data-align":H},L,{ref:R,style:{...L.style,animation:se?void 0:"none",opacity:(u=he.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function dN(t){return t!==null}const hN=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:c,middlewareData:u}=e,f=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,g=f?0:t.arrowWidth,p=f?0:t.arrowHeight,[S,w]=vx(a),C={start:"0%",center:"50%",end:"100%"}[w],_=((r=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+g/2,v=((o=(s=u.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+p/2;let E="",k="";return S==="bottom"?(E=f?C:`${_}px`,k=`${-p}px`):S==="top"?(E=f?C:`${_}px`,k=`${c.floating.height+p}px`):S==="right"?(E=`${-p}px`,k=f?C:`${v}px`):S==="left"&&(E=`${c.floating.width+p}px`,k=f?C:`${v}px`),{data:{x:E,y:k}}}});function vx(t){const[e,n="center"]=t.split("-");return[e,n]}const fN=sN,pN=lN,mN=uN,gN=y.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?ym.createPortal(y.createElement(Vt.div,Ce({},i,{ref:e})),r):null});function s0({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=vN({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Tr(n),c=y.useCallback(u=>{if(o){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[o,t,i,a]);return[s,c]}function vN({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),o=Tr(e);return y.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function yN(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const _N=y.forwardRef((t,e)=>y.createElement(Vt.span,Ce({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var yx=h1(),Dh=function(){},od=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Dh,onWheelCapture:Dh,onTouchMoveCapture:Dh}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,p=t.noIsolation,S=t.inert,w=t.allowPinchZoom,C=t.as,_=C===void 0?"div":C,v=Ts(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=g,k=d1([n,e]),O=At(At({},v),i);return y.createElement(y.Fragment,null,d&&y.createElement(E,{sideCar:yx,removeScrollBar:u,shards:f,noIsolation:p,inert:S,setCallbacks:o,allowPinchZoom:!!w,lockRef:n}),s?y.cloneElement(y.Children.only(a),At(At({},O),{ref:k})):y.createElement(_,At({},O,{className:c,ref:k}),a))});od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};od.classNames={fullWidth:Ta,zeroRight:xa};var Qf=!1;if(typeof window<"u")try{var mc=Object.defineProperty({},"passive",{get:function(){return Qf=!0,!0}});window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{Qf=!1}var Io=Qf?{passive:!1}:!1,wN=function(t){return t.tagName==="TEXTAREA"},_x=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wN(t)&&n[e]==="visible")},EN=function(t){return _x(t,"overflowY")},xN=function(t){return _x(t,"overflowX")},a0=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=wx(t,n);if(r){var i=Ex(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},TN=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},SN=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wx=function(t,e){return t==="v"?EN(e):xN(e)},Ex=function(t,e){return t==="v"?TN(e):SN(e)},IN=function(t,e){return t==="h"&&e==="rtl"?-1:1},bN=function(t,e,n,r,i){var o=IN(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),u=!1,d=s>0,f=0,g=0;do{var p=Ex(t,a),S=p[0],w=p[1],C=p[2],_=w-C-o*S;(S||_)&&wx(t,a)&&(f+=_,g+=S),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(i&&f===0||!i&&s>f)||!d&&(i&&g===0||!i&&-s>g))&&(u=!0),u},gc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},l0=function(t){return[t.deltaX,t.deltaY]},c0=function(t){return t&&"current"in t?t.current:t},CN=function(t,e){return t[0]===e[0]&&t[1]===e[1]},AN=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},RN=0,bo=[];function PN(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(RN++)[0],o=y.useState(function(){return xm()})[0],s=y.useRef(t);y.useEffect(function(){s.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=u1([t.lockRef.current],(t.shards||[]).map(c0),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(w,C){if("touches"in w&&w.touches.length===2)return!s.current.allowPinchZoom;var _=gc(w),v=n.current,E="deltaX"in w?w.deltaX:v[0]-_[0],k="deltaY"in w?w.deltaY:v[1]-_[1],O,L=w.target,I=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in w&&I==="h"&&L.type==="range")return!1;var x=a0(I,L);if(!x)return!0;if(x?O=I:(O=I==="v"?"h":"v",x=a0(I,L)),!x)return!1;if(!r.current&&"changedTouches"in w&&(E||k)&&(r.current=O),!O)return!0;var A=r.current||O;return bN(A,C,w,A==="h"?E:k,!0)},[]),c=y.useCallback(function(w){var C=w;if(!(!bo.length||bo[bo.length-1]!==o)){var _="deltaY"in C?l0(C):gc(C),v=e.current.filter(function(O){return O.name===C.type&&O.target===C.target&&CN(O.delta,_)})[0];if(v&&v.should){C.cancelable&&C.preventDefault();return}if(!v){var E=(s.current.shards||[]).map(c0).filter(Boolean).filter(function(O){return O.contains(C.target)}),k=E.length>0?a(C,E[0]):!s.current.noIsolation;k&&C.cancelable&&C.preventDefault()}}},[]),u=y.useCallback(function(w,C,_,v){var E={name:w,delta:C,target:_,should:v};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),d=y.useCallback(function(w){n.current=gc(w),r.current=void 0},[]),f=y.useCallback(function(w){u(w.type,l0(w),w.target,a(w,t.lockRef.current))},[]),g=y.useCallback(function(w){u(w.type,gc(w),w.target,a(w,t.lockRef.current))},[]);y.useEffect(function(){return bo.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Io),document.addEventListener("touchmove",c,Io),document.addEventListener("touchstart",d,Io),function(){bo=bo.filter(function(w){return w!==o}),document.removeEventListener("wheel",c,Io),document.removeEventListener("touchmove",c,Io),document.removeEventListener("touchstart",d,Io)}},[]);var p=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(o,{styles:AN(i)}):null,p?y.createElement(g1,{gapMode:"margin"}):null)}const kN=p1(yx,PN);var xx=y.forwardRef(function(t,e){return y.createElement(od,At({},t,{ref:e,sideCar:kN}))});xx.classNames=od.classNames;const NN=xx,DN=[" ","Enter","ArrowUp","ArrowDown"],ON=[" ","Enter"],sd="Select",[ad,ld,MN]=bP(sd),[bs,o5]=bm(sd,[MN,px]),Om=px(),[LN,lo]=bs(sd),[VN,$N]=bs(sd),FN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:p}=t,S=Om(e),[w,C]=y.useState(null),[_,v]=y.useState(null),[E,k]=y.useState(!1),O=AP(u),[L=!1,I]=s0({prop:r,defaultProp:i,onChange:o}),[x,A]=s0({prop:s,defaultProp:a,onChange:c}),R=y.useRef(null),D=w?!!w.closest("form"):!0,[N,P]=y.useState(new Set),J=Array.from(N).map(oe=>oe.props.value).join(";");return y.createElement(fN,S,y.createElement(LN,{required:p,scope:e,trigger:w,onTriggerChange:C,valueNode:_,onValueNodeChange:v,valueNodeHasChildren:E,onValueNodeHasChildrenChange:k,contentId:ex(),value:x,onValueChange:A,open:L,onOpenChange:I,dir:O,triggerPointerDownPosRef:R,disabled:g},y.createElement(ad.Provider,{scope:e},y.createElement(VN,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(oe=>{P(te=>new Set(te).add(oe))},[]),onNativeOptionRemove:y.useCallback(oe=>{P(te=>{const ne=new Set(te);return ne.delete(oe),ne})},[])},n)),D?y.createElement(bx,{key:J,"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:x,onChange:oe=>A(oe.target.value),disabled:g},x===void 0?y.createElement("option",{value:""}):null,Array.from(N)):null))},jN="SelectTrigger",UN=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Om(n),s=lo(jN,n),a=s.disabled||r,c=Pt(e,s.onTriggerChange),u=ld(n),[d,f,g]=Cx(S=>{const w=u().filter(v=>!v.disabled),C=w.find(v=>v.value===s.value),_=Ax(w,S,C);_!==void 0&&s.onValueChange(_.value)}),p=()=>{a||(s.onOpenChange(!0),g())};return y.createElement(pN,Ce({asChild:!0},o),y.createElement(Vt.button,Ce({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":s.value===void 0?"":void 0},i,{ref:c,onClick:ot(i.onClick,S=>{S.currentTarget.focus()}),onPointerDown:ot(i.onPointerDown,S=>{const w=S.target;w.hasPointerCapture(S.pointerId)&&w.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&(p(),s.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)},S.preventDefault())}),onKeyDown:ot(i.onKeyDown,S=>{const w=d.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&f(S.key),!(w&&S.key===" ")&&DN.includes(S.key)&&(p(),S.preventDefault())})})))}),BN="SelectValue",zN=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s,...a}=t,c=lo(BN,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Pt(e,c.onValueNodeChange);return gn(()=>{u(d)},[u,d]),y.createElement(Vt.span,Ce({},a,{ref:f,style:{pointerEvents:"none"}}),c.value===void 0&&s!==void 0?s:o)}),WN=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return y.createElement(Vt.span,Ce({"aria-hidden":!0},i,{ref:e}),r||"")}),HN=t=>y.createElement(gN,Ce({asChild:!0},t)),us="SelectContent",qN=y.forwardRef((t,e)=>{const n=lo(us,t.__scopeSelect),[r,i]=y.useState();if(gn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?so.createPortal(y.createElement(Tx,{scope:t.__scopeSelect},y.createElement(ad.Slot,{scope:t.__scopeSelect},y.createElement("div",null,t.children))),o):null}return y.createElement(GN,Ce({},t,{ref:e}))}),cr=10,[Tx,co]=bs(us),GN=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:S,hideWhenDetached:w,avoidCollisions:C,..._}=t,v=lo(us,n),[E,k]=y.useState(null),[O,L]=y.useState(null),I=Pt(e,H=>k(H)),[x,A]=y.useState(null),[R,D]=y.useState(null),N=ld(n),[P,J]=y.useState(!1),oe=y.useRef(!1);y.useEffect(()=>{if(E)return x1(E)},[E]),$P();const te=y.useCallback(H=>{const[ye,...Ve]=N().map(fe=>fe.ref.current),[ge]=Ve.slice(-1),ue=document.activeElement;for(const fe of H)if(fe===ue||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===ye&&O&&(O.scrollTop=0),fe===ge&&O&&(O.scrollTop=O.scrollHeight),fe==null||fe.focus(),document.activeElement!==ue))return},[N,O]),ne=y.useCallback(()=>te([x,E]),[te,x,E]);y.useEffect(()=>{P&&ne()},[P,ne]);const{onOpenChange:$,triggerPointerDownPosRef:F}=v;y.useEffect(()=>{if(E){let H={x:0,y:0};const ye=ge=>{var ue,fe,Ye,Ge;H={x:Math.abs(Math.round(ge.pageX)-((ue=(fe=F.current)===null||fe===void 0?void 0:fe.x)!==null&&ue!==void 0?ue:0)),y:Math.abs(Math.round(ge.pageY)-((Ye=(Ge=F.current)===null||Ge===void 0?void 0:Ge.y)!==null&&Ye!==void 0?Ye:0))}},Ve=ge=>{H.x<=10&&H.y<=10?ge.preventDefault():E.contains(ge.target)||$(!1),document.removeEventListener("pointermove",ye),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[E,$,F]),y.useEffect(()=>{const H=()=>$(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[$]);const[q,ce]=Cx(H=>{const ye=N().filter(ue=>!ue.disabled),Ve=ye.find(ue=>ue.ref.current===document.activeElement),ge=Ax(ye,H,Ve);ge&&setTimeout(()=>ge.ref.current.focus())}),G=y.useCallback((H,ye,Ve)=>{const ge=!oe.current&&!Ve;(v.value!==void 0&&v.value===ye||ge)&&(A(H),ge&&(oe.current=!0))},[v.value]),K=y.useCallback(()=>E==null?void 0:E.focus(),[E]),se=y.useCallback((H,ye,Ve)=>{const ge=!oe.current&&!Ve;(v.value!==void 0&&v.value===ye||ge)&&D(H)},[v.value]),he=r==="popper"?u0:KN,Pe=he===u0?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:S,hideWhenDetached:w,avoidCollisions:C}:{};return y.createElement(Tx,{scope:n,content:E,viewport:O,onViewportChange:L,itemRefCallback:G,selectedItem:x,onItemLeave:K,itemTextRefCallback:se,focusSelectedItem:ne,selectedItemText:R,position:r,isPositioned:P,searchRef:q},y.createElement(NN,{as:Ka,allowPinchZoom:!0},y.createElement(FP,{asChild:!0,trapped:v.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:ot(i,H=>{var ye;(ye=v.trigger)===null||ye===void 0||ye.focus({preventScroll:!0}),H.preventDefault()})},y.createElement(MP,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>v.onOpenChange(!1)},y.createElement(he,Ce({role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:H=>H.preventDefault()},_,Pe,{onPlaced:()=>J(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ot(_.onKeyDown,H=>{const ye=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ye&&H.key.length===1&&ce(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ge=N().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ue=H.target,fe=ge.indexOf(ue);ge=ge.slice(fe+1)}setTimeout(()=>te(ge)),H.preventDefault()}})}))))))}),KN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=lo(us,n),s=co(us,n),[a,c]=y.useState(null),[u,d]=y.useState(null),f=Pt(e,I=>d(I)),g=ld(n),p=y.useRef(!1),S=y.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:_,focusSelectedItem:v}=s,E=y.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&w&&C&&_){const I=o.trigger.getBoundingClientRect(),x=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(o.dir!=="rtl"){const ue=R.left-x.left,fe=A.left-ue,Ye=I.left-fe,Ge=I.width+Ye,vn=Math.max(Ge,x.width),yn=window.innerWidth-cr,Mn=By(fe,[cr,yn-vn]);a.style.minWidth=Ge+"px",a.style.left=Mn+"px"}else{const ue=x.right-R.right,fe=window.innerWidth-A.right-ue,Ye=window.innerWidth-I.right-fe,Ge=I.width+Ye,vn=Math.max(Ge,x.width),yn=window.innerWidth-cr,Mn=By(fe,[cr,yn-vn]);a.style.minWidth=Ge+"px",a.style.right=Mn+"px"}const D=g(),N=window.innerHeight-cr*2,P=w.scrollHeight,J=window.getComputedStyle(u),oe=parseInt(J.borderTopWidth,10),te=parseInt(J.paddingTop,10),ne=parseInt(J.borderBottomWidth,10),$=parseInt(J.paddingBottom,10),F=oe+te+P+$+ne,q=Math.min(C.offsetHeight*5,F),ce=window.getComputedStyle(w),G=parseInt(ce.paddingTop,10),K=parseInt(ce.paddingBottom,10),se=I.top+I.height/2-cr,he=N-se,Pe=C.offsetHeight/2,H=C.offsetTop+Pe,ye=oe+te+H,Ve=F-ye;if(ye<=se){const ue=C===D[D.length-1].ref.current;a.style.bottom="0px";const fe=u.clientHeight-w.offsetTop-w.offsetHeight,Ye=Math.max(he,Pe+(ue?K:0)+fe+ne),Ge=ye+Ye;a.style.height=Ge+"px"}else{const ue=C===D[0].ref.current;a.style.top="0px";const Ye=Math.max(se,oe+w.offsetTop+(ue?G:0)+Pe)+Ve;a.style.height=Ye+"px",w.scrollTop=ye-se+w.offsetTop}a.style.margin=`${cr}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[g,o.trigger,o.valueNode,a,u,w,C,_,o.dir,r]);gn(()=>E(),[E]);const[k,O]=y.useState();gn(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const L=y.useCallback(I=>{I&&S.current===!0&&(E(),v==null||v(),S.current=!1)},[E,v]);return y.createElement(QN,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:L},y.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k}},y.createElement(Vt.div,Ce({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),u0=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=cr,...o}=t,s=Om(n);return y.createElement(mN,Ce({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[QN,Mm]=bs(us,{}),d0="SelectViewport",YN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=co(d0,n),o=Mm(d0,n),s=Pt(e,i.onViewportChange),a=y.useRef(0);return y.createElement(y.Fragment,null,y.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),y.createElement(ad.Slot,{scope:n},y.createElement(Vt.div,Ce({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:ot(r.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const g=Math.abs(a.current-u.scrollTop);if(g>0){const p=window.innerHeight-cr*2,S=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),C=Math.max(S,w);if(C<p){const _=C+g,v=Math.min(p,_),E=_-v;d.style.height=v+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}a.current=u.scrollTop})}))))}),XN="SelectGroup";bs(XN);const Yf="SelectItem",[JN,Sx]=bs(Yf),ZN=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=lo(Yf,n),c=co(Yf,n),u=a.value===r,[d,f]=y.useState(o??""),[g,p]=y.useState(!1),S=Pt(e,_=>{var v;return(v=c.itemRefCallback)===null||v===void 0?void 0:v.call(c,_,r,i)}),w=ex(),C=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};return y.createElement(JN,{scope:n,value:r,disabled:i,textId:w,isSelected:u,onItemTextChange:y.useCallback(_=>{f(v=>{var E;return v||((E=_==null?void 0:_.textContent)!==null&&E!==void 0?E:"").trim()})},[])},y.createElement(ad.ItemSlot,{scope:n,value:r,disabled:i,textValue:d},y.createElement(Vt.div,Ce({role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:S,onFocus:ot(s.onFocus,()=>p(!0)),onBlur:ot(s.onBlur,()=>p(!1)),onPointerUp:ot(s.onPointerUp,C),onPointerMove:ot(s.onPointerMove,_=>{if(i){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}else _.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ot(s.onPointerLeave,_=>{if(_.currentTarget===document.activeElement){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}}),onKeyDown:ot(s.onKeyDown,_=>{var v;((v=c.searchRef)===null||v===void 0?void 0:v.current)!==""&&_.key===" "||(ON.includes(_.key)&&C(),_.key===" "&&_.preventDefault())})}))))}),vc="SelectItemText",e2=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=lo(vc,n),a=co(vc,n),c=Sx(vc,n),u=$N(vc,n),[d,f]=y.useState(null),g=Pt(e,_=>f(_),c.onItemTextChange,_=>{var v;return(v=a.itemTextRefCallback)===null||v===void 0?void 0:v.call(a,_,c.value,c.disabled)}),p=d==null?void 0:d.textContent,S=y.useMemo(()=>y.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},p),[c.disabled,c.value,p]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=u;return gn(()=>(w(S),()=>C(S)),[w,C,S]),y.createElement(y.Fragment,null,y.createElement(Vt.span,Ce({id:c.textId},o,{ref:g})),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?so.createPortal(o.children,s.valueNode):null)}),t2="SelectItemIndicator",n2=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Sx(t2,n).isSelected?y.createElement(Vt.span,Ce({"aria-hidden":!0},r,{ref:e})):null}),h0="SelectScrollUpButton",r2=y.forwardRef((t,e)=>{const n=co(h0,t.__scopeSelect),r=Mm(h0,t.__scopeSelect),[i,o]=y.useState(!1),s=Pt(e,r.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const d=c.scrollTop>0;o(d)};var a=u;const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?y.createElement(Ix,Ce({},t,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}})):null}),f0="SelectScrollDownButton",i2=y.forwardRef((t,e)=>{const n=co(f0,t.__scopeSelect),r=Mm(f0,t.__scopeSelect),[i,o]=y.useState(!1),s=Pt(e,r.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;o(f)};var a=u;const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?y.createElement(Ix,Ce({},t,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}})):null}),Ix=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=co("SelectScrollButton",n),s=y.useRef(null),a=ld(n),c=y.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),gn(()=>{var u;const d=a().find(f=>f.ref.current===document.activeElement);d==null||(u=d.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[a]),y.createElement(Vt.div,Ce({"aria-hidden":!0},i,{ref:e,style:{flexShrink:0,...i.style},onPointerDown:ot(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:ot(i.onPointerMove,()=>{var u;(u=o.onItemLeave)===null||u===void 0||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:ot(i.onPointerLeave,()=>{c()})}))}),bx=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=y.useRef(null),o=Pt(e,i),s=yN(n);return y.useEffect(()=>{const a=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[s,n]),y.createElement(_N,{asChild:!0},y.createElement("select",Ce({},r,{ref:o,defaultValue:n})))});bx.displayName="BubbleSelect";function Cx(t){const e=Tr(t),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(s=>{const a=n.current+s;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function Ax(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=o2(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function o2(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const s2=FN,a2=UN,l2=zN,c2=WN,u2=HN,d2=qN,h2=YN,f2=ZN,p2=e2,m2=n2,g2=r2,v2=i2;function p0({...t}){return T.jsx(s2,{"data-slot":"select",...t})}function m0({...t}){return T.jsx(l2,{"data-slot":"select-value",...t})}function g0({className:t,children:e,...n}){return T.jsxs(a2,{className:ze("flex h-10 w-full items-center justify-between rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,T.jsx(c2,{asChild:!0,children:T.jsx(W1,{className:"h-4 w-4 opacity-50"})})]})}function v0({className:t,children:e,position:n="popper",...r}){return T.jsx(u2,{children:T.jsxs(d2,{className:ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[T.jsx(y2,{}),T.jsx(h2,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),T.jsx(_2,{})]})})}function Ni({className:t,children:e,...n}){return T.jsxs(f2,{className:ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(m2,{children:T.jsx(z1,{className:"h-4 w-4"})})}),T.jsx(p2,{children:e})]})}function y2({className:t,...e}){return T.jsx(g2,{className:ze("flex cursor-default items-center justify-center py-1",t),...e,children:T.jsx(uP,{className:"h-4 w-4"})})}function _2({className:t,...e}){return T.jsx(v2,{className:ze("flex cursor-default items-center justify-center py-1",t),...e,children:T.jsx(W1,{className:"h-4 w-4"})})}function w2(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function E2(t){const[e,n]=y.useState(void 0);return ls(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var cd="Checkbox",[x2,s5]=n1(cd),[T2,Lm]=x2(cd);function S2(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[g,p]=r1({prop:n,defaultProp:i??!1,onChange:c,caller:cd}),[S,w]=y.useState(null),[C,_]=y.useState(null),v=y.useRef(!1),E=S?!!s||!!S.closest("form"):!0,k={checked:g,disabled:o,setChecked:p,control:S,setControl:w,name:a,form:s,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:li(i)?!1:i,isFormControl:E,bubbleInput:C,setBubbleInput:_};return T.jsx(T2,{scope:e,...k,children:I2(f)?f(k):r})}var Rx="CheckboxTrigger",Px=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:p,bubbleInput:S}=Lm(Rx,t),w=Nr(i,d),C=y.useRef(c);return y.useEffect(()=>{const _=o==null?void 0:o.form;if(_){const v=()=>f(C.current);return _.addEventListener("reset",v),()=>_.removeEventListener("reset",v)}},[o,f]),T.jsx(on.button,{type:"button",role:"checkbox","aria-checked":li(c)?"mixed":c,"aria-required":u,"data-state":Mx(c),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:w,onKeyDown:Hn(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Hn(n,_=>{f(v=>li(v)?!0:!v),S&&p&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})})});Px.displayName=Rx;var Vm=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c,onCheckedChange:u,form:d,...f}=t;return T.jsx(S2,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>T.jsxs(T.Fragment,{children:[T.jsx(Px,{...f,ref:e,__scopeCheckbox:n}),g&&T.jsx(Ox,{__scopeCheckbox:n})]})})});Vm.displayName=cd;var kx="CheckboxIndicator",Nx=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=Lm(kx,n);return T.jsx(dl,{present:r||li(o.checked)||o.checked===!0,children:T.jsx(on.span,{"data-state":Mx(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Nx.displayName=kx;var Dx="CheckboxBubbleInput",Ox=y.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:p}=Lm(Dx,t),S=Nr(n,p),w=w2(o),C=E2(r);y.useEffect(()=>{const v=g;if(!v)return;const E=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(E,"checked").set,L=!i.current;if(w!==o&&O){const I=new Event("click",{bubbles:L});v.indeterminate=li(o),O.call(v,li(o)?!1:o),v.dispatchEvent(I)}},[g,w,o,i]);const _=y.useRef(li(o)?!1:o);return T.jsx(on.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??_.current,required:a,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:S,style:{...e.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ox.displayName=Dx;function I2(t){return typeof t=="function"}function li(t){return t==="indeterminate"}function Mx(t){return li(t)?"indeterminate":t?"checked":"unchecked"}const Lx=y.forwardRef(({className:t,...e},n)=>T.jsx(Vm,{ref:n,className:ze("peer h-4 w-4 shrink-0 rounded-sm border border-gray-300 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-indigo-600 data-[state=checked]:text-white data-[state=checked]:border-indigo-600",t),...e,children:T.jsx(Nx,{className:ze("flex items-center justify-center text-current"),children:T.jsx(z1,{className:"h-4 w-4"})})}));Lx.displayName=Vm.displayName;function b2({members:t,onAddExpense:e}){const[n,r]=y.useState(""),[i,o]=y.useState(""),[s,a]=y.useState(new Date().toISOString().split("T")[0]),[c,u]=y.useState(""),[d,f]=y.useState(""),[g,p]=y.useState([]),S=_=>{_.preventDefault(),!(!n.trim()||!i||!c||g.length===0)&&(e({description:n.trim(),amount:parseFloat(i),date:s,paidBy:c,category:d||void 0,splitWith:g}),r(""),o(""),a(new Date().toISOString().split("T")[0]),u(""),f(""),p([]))},w=()=>{r(""),o(""),a(new Date().toISOString().split("T")[0]),u(""),f(""),p([])},C=(_,v)=>{p(v?[...g,_]:g.filter(E=>E!==_))};return t.length===0?T.jsxs(un,{children:[T.jsx(Qi,{children:T.jsxs(Yi,{className:"flex items-center",children:[T.jsx(jy,{className:"h-5 w-5 text-indigo-600 mr-2"}),"Add Expense"]})}),T.jsx(dn,{children:T.jsxs("div",{className:"text-center py-8 text-gray-500",children:[T.jsx("p",{className:"text-sm",children:"Add members first"}),T.jsx("p",{className:"text-xs",children:"You need at least one member to add expenses"})]})})]}):T.jsxs(un,{children:[T.jsx(Qi,{children:T.jsxs(Yi,{className:"flex items-center",children:[T.jsx(jy,{className:"h-5 w-5 text-indigo-600 mr-2"}),"Add Expense"]})}),T.jsx(dn,{children:T.jsxs("form",{onSubmit:S,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"description",children:"Description"}),T.jsx(Jr,{id:"description",value:n,onChange:_=>r(_.target.value),placeholder:"What was this expense for?",required:!0})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"amount",children:"Amount ()"}),T.jsx(Jr,{id:"amount",type:"number",step:"0.01",value:i,onChange:_=>o(_.target.value),placeholder:"0.00",required:!0})]}),T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"date",children:"Date"}),T.jsx(Jr,{id:"date",type:"date",value:s,onChange:_=>a(_.target.value),required:!0})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"paid-by",children:"Paid By"}),T.jsxs(p0,{value:c,onValueChange:u,required:!0,children:[T.jsx(g0,{children:T.jsx(m0,{placeholder:"Select who paid"})}),T.jsx(v0,{children:t.map(_=>T.jsx(Ni,{value:_.id,children:_.name},_.id))})]})]}),T.jsxs("div",{children:[T.jsx(cn,{htmlFor:"category",children:"Category"}),T.jsxs(p0,{value:d,onValueChange:f,children:[T.jsx(g0,{children:T.jsx(m0,{placeholder:"Select category..."})}),T.jsxs(v0,{children:[T.jsx(Ni,{value:"Food",children:" Food"}),T.jsx(Ni,{value:"Accommodation",children:" Accommodation"}),T.jsx(Ni,{value:"Transportation",children:" Transportation"}),T.jsx(Ni,{value:"Entertainment",children:" Entertainment"}),T.jsx(Ni,{value:"Utilities",children:" Utilities"}),T.jsx(Ni,{value:"Other",children:" Other"})]})]})]})]}),T.jsxs("div",{children:[T.jsx(cn,{children:"Split With"}),T.jsx("div",{className:"grid grid-cols-2 gap-2 p-3 border border-gray-200 rounded-lg bg-gray-50 max-h-32 overflow-y-auto mt-2",children:t.map(_=>T.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[T.jsx(Lx,{checked:g.includes(_.id),onCheckedChange:v=>C(_.id,v)}),T.jsx("span",{className:"text-sm text-gray-700",children:_.name})]},_.id))})]}),T.jsxs("div",{className:"flex gap-3 pt-2",children:[T.jsx(Cn,{type:"submit",className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:"Add Expense"}),T.jsx(Cn,{type:"button",variant:"outline",onClick:w,className:"flex-1",children:"Clear Form"})]})]})})]})}const C2=wm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function A2({className:t,variant:e,...n}){return T.jsx("div",{className:ze(C2({variant:e}),t),...n})}function R2({expenses:t,members:e,onDeleteExpense:n}){const r=a=>{const c=e.find(u=>u.id===a);return c?c.name:"Unknown"},i=a=>new Date(a).toLocaleDateString("en-IN"),o=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),s=t.slice().reverse().slice(0,10);return T.jsxs(un,{children:[T.jsx(Qi,{children:T.jsxs(Yi,{className:"flex items-center",children:[T.jsx(zf,{className:"h-5 w-5 text-indigo-600 mr-2"}),"Expense Directory"]})}),T.jsxs(dn,{children:[T.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.length>0?s.map(a=>T.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("h3",{className:"font-medium text-gray-900",children:a.description}),T.jsx(Cn,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>n(a.id),title:"Delete Expense",children:T.jsx(pP,{className:"h-3 w-3"})})]}),T.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[T.jsxs("span",{className:"flex items-center",children:[T.jsx(vP,{className:"h-4 w-4 mr-1"}),r(a.paidBy)]}),T.jsxs("span",{className:"flex items-center font-semibold text-green-600",children:[T.jsx(dP,{className:"h-4 w-4 mr-1"}),o(a.amount)]}),T.jsxs("span",{className:"flex items-center",children:[T.jsx(cP,{className:"h-4 w-4 mr-1"}),i(a.date)]})]}),T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[T.jsxs("span",{children:["Split with: ",a.splitWith.map(c=>r(c)).join(", ")]}),a.category&&T.jsx(A2,{variant:"secondary",className:"text-xs",children:a.category})]})]})})},a.id)):T.jsxs("div",{className:"text-center py-8 text-gray-500",children:[T.jsx(zf,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),T.jsx("p",{className:"text-sm",children:"No expenses yet. Add your first expense to get started!"})]})}),t.length>10&&T.jsx("div",{className:"mt-4 text-center",children:T.jsxs(Cn,{variant:"ghost",className:"text-indigo-600 hover:text-indigo-800",children:["View All ",t.length," Expenses"]})})]})]})}function P2({members:t,expenses:e}){const n=()=>{const o={};return t.forEach(s=>{o[s.id]=0}),e.forEach(s=>{const a=s.paidBy,c=s.splitWith||[],u=s.amount/c.length;o[a]+=s.amount,c.forEach(d=>{o[d]-=u})}),t.map(s=>({id:s.id,name:s.name,balance:o[s.id]||0})).sort((s,a)=>a.balance-s.balance)},r=o=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.abs(o)),i=n();return T.jsxs(un,{children:[T.jsx(Qi,{children:T.jsxs(Yi,{className:"flex items-center",children:[T.jsx(Ga,{className:"h-5 w-5 text-indigo-600 mr-2"}),"Balances"]})}),T.jsx(dn,{children:T.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.length>0?i.map(o=>T.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-3",children:T.jsx("span",{className:"text-sm font-medium text-gray-700",children:o.name.charAt(0).toUpperCase()})}),T.jsx("span",{className:"font-medium text-gray-900",children:o.name})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("span",{className:`font-bold ${o.balance>=0?"text-green-600":"text-red-600"}`,children:r(o.balance)}),T.jsx("p",{className:"text-xs text-gray-500",children:o.balance>=0?"gets back":"owes"})]})]},o.id)):T.jsxs("div",{className:"text-center py-8 text-gray-500",children:[T.jsx(Ga,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),T.jsx("p",{className:"text-sm",children:"No balances yet"}),T.jsx("p",{className:"text-xs",children:"Add expenses to see balances"})]})})})]})}function k2({members:t,expenses:e}){const n=()=>{const c={};return t.forEach(u=>{c[u.id]=0}),e.forEach(u=>{const d=u.paidBy,f=u.splitWith||[],g=u.amount/f.length;c[d]+=u.amount,f.forEach(p=>{c[p]-=g})}),t.map(u=>({id:u.id,name:u.name,balance:c[u.id]||0}))},r=c=>{const u=[],d=c.filter(C=>C.balance>0).sort((C,_)=>_.balance-C.balance),f=c.filter(C=>C.balance<0).sort((C,_)=>C.balance-_.balance),g=d.map(C=>({...C})),p=f.map(C=>({...C}));let S=0,w=0;for(;S<g.length&&w<p.length;){const C=g[S],_=p[w],v=Math.min(C.balance,Math.abs(_.balance));v>.01&&u.push({from:_.name,to:C.name,amount:v}),C.balance-=v,_.balance+=v,Math.abs(C.balance)<.01&&S++,Math.abs(_.balance)<.01&&w++}return u},i=c=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(c),o=n(),s=r(o),a=o.every(c=>Math.abs(c.balance)<.01);return T.jsxs(un,{children:[T.jsx(Qi,{children:T.jsxs(Yi,{className:"flex items-center",children:[T.jsx(Ch,{className:"h-5 w-5 text-indigo-600 mr-2"}),"Suggested Settlements"]})}),T.jsx(dn,{children:T.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a?T.jsxs("div",{className:"text-center py-8 text-gray-500",children:[T.jsx(Ch,{className:"h-12 w-12 mx-auto mb-3 text-green-300"}),T.jsx("p",{className:"text-sm text-green-600 font-medium",children:"All settled up! "}),T.jsx("p",{className:"text-xs text-gray-500",children:"Everyone's balances are even"})]}):s.length>0?s.map((c,u)=>T.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(lP,{className:"h-4 w-4 text-blue-600 mr-2"}),T.jsxs("span",{className:"text-sm text-gray-700",children:[T.jsx("span",{className:"font-medium",children:c.from})," pays"," ",T.jsx("span",{className:"font-medium",children:c.to})]})]}),T.jsx("span",{className:"font-bold text-blue-600",children:i(c.amount)})]})},u)):T.jsxs("div",{className:"text-center py-8 text-gray-500",children:[T.jsx(Ch,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),T.jsx("p",{className:"text-sm",children:"No settlements needed"}),T.jsx("p",{className:"text-xs",children:"Add expenses to see settlements"})]})})})]})}var N2=t=>{switch(t){case"success":return M2;case"info":return V2;case"warning":return L2;case"error":return $2;default:return null}},D2=Array(12).fill(0),O2=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},D2.map((n,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),M2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),L2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),V2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),j2=()=>{let[t,e]=z.useState(document.hidden);return z.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Xf=1,U2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Xf++,o=this.toasts.find(a=>a.id===i),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:s,title:n}):a):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,o,s=r.then(async c=>{if(o=["resolve",c],z.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(z2(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,u)=>s.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Xf++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ut=new U2,B2=(t,e)=>{let n=(e==null?void 0:e.id)||Xf++;return Ut.addToast({title:t,...e,id:n}),n},z2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",W2=B2,H2=()=>Ut.toasts,q2=()=>Ut.getActiveToasts(),Fn=Object.assign(W2,{success:Ut.success,info:Ut.info,warning:Ut.warning,error:Ut.error,custom:Ut.custom,message:Ut.message,promise:Ut.promise,dismiss:Ut.dismiss,loading:Ut.loading},{getHistory:H2,getToasts:q2});function G2(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}G2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yc(t){return t.label!==void 0}var K2=3,Q2="32px",Y2="16px",y0=4e3,X2=356,J2=14,Z2=20,eD=200;function Tn(...t){return t.filter(Boolean).join(" ")}function tD(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var nD=t=>{var e,n,r,i,o,s,a,c,u,d,f;let{invert:g,toast:p,unstyled:S,interacting:w,setHeights:C,visibleToasts:_,heights:v,index:E,toasts:k,expanded:O,removeToast:L,defaultRichColors:I,closeButton:x,style:A,cancelButtonStyle:R,actionButtonStyle:D,className:N="",descriptionClassName:P="",duration:J,position:oe,gap:te,loadingIcon:ne,expandByDefault:$,classNames:F,icons:q,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:G}=t,[K,se]=z.useState(null),[he,Pe]=z.useState(null),[H,ye]=z.useState(!1),[Ve,ge]=z.useState(!1),[ue,fe]=z.useState(!1),[Ye,Ge]=z.useState(!1),[vn,yn]=z.useState(!1),[Mn,Ci]=z.useState(0),[po,Ln]=z.useState(0),tr=z.useRef(p.duration||J||y0),Ds=z.useRef(null),nr=z.useRef(null),Os=E===0,Ms=E+1<=_,_t=p.type,$e=p.dismissible!==!1,lt=p.className||"",mo=p.descriptionClassName||"",Ai=z.useMemo(()=>v.findIndex(ee=>ee.toastId===p.id)||0,[v,p.id]),Al=z.useMemo(()=>{var ee;return(ee=p.closeButton)!=null?ee:x},[p.closeButton,x]),Rl=z.useMemo(()=>p.duration||J||y0,[p.duration,J]),rr=z.useRef(0),ir=z.useRef(0),Ls=z.useRef(0),Vn=z.useRef(null),[Dd,Od]=oe.split("-"),go=z.useMemo(()=>v.reduce((ee,Te,Se)=>Se>=Ai?ee:ee+Te.height,0),[v,Ai]),Vs=j2(),Pl=p.invert||g,or=_t==="loading";ir.current=z.useMemo(()=>Ai*te+go,[Ai,go]),z.useEffect(()=>{tr.current=Rl},[Rl]),z.useEffect(()=>{ye(!0)},[]),z.useEffect(()=>{let ee=nr.current;if(ee){let Te=ee.getBoundingClientRect().height;return Ln(Te),C(Se=>[{toastId:p.id,height:Te,position:p.position},...Se]),()=>C(Se=>Se.filter($t=>$t.toastId!==p.id))}},[C,p.id]),z.useLayoutEffect(()=>{if(!H)return;let ee=nr.current,Te=ee.style.height;ee.style.height="auto";let Se=ee.getBoundingClientRect().height;ee.style.height=Te,Ln(Se),C($t=>$t.find(ct=>ct.toastId===p.id)?$t.map(ct=>ct.toastId===p.id?{...ct,height:Se}:ct):[{toastId:p.id,height:Se,position:p.position},...$t])},[H,p.title,p.description,C,p.id]);let sn=z.useCallback(()=>{ge(!0),Ci(ir.current),C(ee=>ee.filter(Te=>Te.toastId!==p.id)),setTimeout(()=>{L(p)},eD)},[p,L,C,ir]);z.useEffect(()=>{if(p.promise&&_t==="loading"||p.duration===1/0||p.type==="loading")return;let ee;return O||w||G&&Vs?(()=>{if(Ls.current<rr.current){let Te=new Date().getTime()-rr.current;tr.current=tr.current-Te}Ls.current=new Date().getTime()})():tr.current!==1/0&&(rr.current=new Date().getTime(),ee=setTimeout(()=>{var Te;(Te=p.onAutoClose)==null||Te.call(p,p),sn()},tr.current)),()=>clearTimeout(ee)},[O,w,p,_t,G,Vs,sn]),z.useEffect(()=>{p.delete&&sn()},[sn,p.delete]);function $s(){var ee,Te,Se;return q!=null&&q.loading?z.createElement("div",{className:Tn(F==null?void 0:F.loader,(ee=p==null?void 0:p.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":_t==="loading"},q.loading):ne?z.createElement("div",{className:Tn(F==null?void 0:F.loader,(Te=p==null?void 0:p.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":_t==="loading"},ne):z.createElement(O2,{className:Tn(F==null?void 0:F.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader),visible:_t==="loading"})}return z.createElement("li",{tabIndex:0,ref:nr,className:Tn(N,lt,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[_t],(n=p==null?void 0:p.classNames)==null?void 0:n[_t]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:I,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":H,"data-promise":!!p.promise,"data-swiped":vn,"data-removed":Ve,"data-visible":Ms,"data-y-position":Dd,"data-x-position":Od,"data-index":E,"data-front":Os,"data-swiping":ue,"data-dismissible":$e,"data-type":_t,"data-invert":Pl,"data-swipe-out":Ye,"data-swipe-direction":he,"data-expanded":!!(O||$&&H),style:{"--index":E,"--toasts-before":E,"--z-index":k.length-E,"--offset":`${Ve?Mn:ir.current}px`,"--initial-height":$?"auto":`${po}px`,...A,...p.style},onDragEnd:()=>{fe(!1),se(null),Vn.current=null},onPointerDown:ee=>{or||!$e||(Ds.current=new Date,Ci(ir.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(fe(!0),Vn.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,Te,Se,$t;if(Ye||!$e)return;Vn.current=null;let ct=Number(((ee=nr.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_n=Number(((Te=nr.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fe=new Date().getTime()-((Se=Ds.current)==null?void 0:Se.getTime()),Ft=K==="x"?ct:_n,jt=Math.abs(Ft)/Fe;if(Math.abs(Ft)>=Z2||jt>.11){Ci(ir.current),($t=p.onDismiss)==null||$t.call(p,p),Pe(K==="x"?ct>0?"right":"left":_n>0?"down":"up"),sn(),Ge(!0),yn(!1);return}fe(!1),se(null)},onPointerMove:ee=>{var Te,Se,$t,ct;if(!Vn.current||!$e||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;let _n=ee.clientY-Vn.current.y,Fe=ee.clientX-Vn.current.x,Ft=(Se=t.swipeDirections)!=null?Se:tD(oe);!K&&(Math.abs(Fe)>1||Math.abs(_n)>1)&&se(Math.abs(Fe)>Math.abs(_n)?"x":"y");let jt={x:0,y:0};K==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&_n<0||Ft.includes("bottom")&&_n>0)&&(jt.y=_n):K==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&Fe<0||Ft.includes("right")&&Fe>0)&&(jt.x=Fe),(Math.abs(jt.x)>0||Math.abs(jt.y)>0)&&yn(!0),($t=nr.current)==null||$t.style.setProperty("--swipe-amount-x",`${jt.x}px`),(ct=nr.current)==null||ct.style.setProperty("--swipe-amount-y",`${jt.y}px`)}},Al&&!p.jsx?z.createElement("button",{"aria-label":ce,"data-disabled":or,"data-close-button":!0,onClick:or||!$e?()=>{}:()=>{var ee;sn(),(ee=p.onDismiss)==null||ee.call(p,p)},className:Tn(F==null?void 0:F.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(o=q==null?void 0:q.close)!=null?o:F2):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:z.createElement(z.Fragment,null,_t||p.icon||p.promise?z.createElement("div",{"data-icon":"",className:Tn(F==null?void 0:F.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||$s():null,p.type!=="loading"?p.icon||(q==null?void 0:q[_t])||N2(_t):null):null,z.createElement("div",{"data-content":"",className:Tn(F==null?void 0:F.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},z.createElement("div",{"data-title":"",className:Tn(F==null?void 0:F.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?z.createElement("div",{"data-description":"",className:Tn(P,mo,F==null?void 0:F.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&yc(p.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:ee=>{var Te,Se;yc(p.cancel)&&$e&&((Se=(Te=p.cancel).onClick)==null||Se.call(Te,ee),sn())},className:Tn(F==null?void 0:F.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&yc(p.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:ee=>{var Te,Se;yc(p.action)&&((Se=(Te=p.action).onClick)==null||Se.call(Te,ee),!ee.defaultPrevented&&sn())},className:Tn(F==null?void 0:F.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function _0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function rD(t,e){let n={};return[t,e].forEach((r,i)=>{let o=i===1,s=o?"--mobile-offset":"--offset",a=o?Y2:Q2;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${s}-${u}`]=a:n[`${s}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var iD=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:s,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:g,style:p,visibleToasts:S=K2,toastOptions:w,dir:C=_0(),gap:_=J2,loadingIcon:v,icons:E,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:O}=t,[L,I]=z.useState([]),x=z.useMemo(()=>Array.from(new Set([r].concat(L.filter(G=>G.position).map(G=>G.position)))),[L,r]),[A,R]=z.useState([]),[D,N]=z.useState(!1),[P,J]=z.useState(!1),[oe,te]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=z.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=z.useRef(null),q=z.useRef(!1),ce=z.useCallback(G=>{I(K=>{var se;return(se=K.find(he=>he.id===G.id))!=null&&se.delete||Ut.dismiss(G.id),K.filter(({id:he})=>he!==G.id)})},[]);return z.useEffect(()=>Ut.subscribe(G=>{if(G.dismiss){I(K=>K.map(se=>se.id===G.id?{...se,delete:!0}:se));return}setTimeout(()=>{ym.flushSync(()=>{I(K=>{let se=K.findIndex(he=>he.id===G.id);return se!==-1?[...K.slice(0,se),{...K[se],...G},...K.slice(se+1)]:[G,...K]})})})}),[]),z.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:K})=>{te(K?"dark":"light")})}catch{G.addListener(({matches:se})=>{try{te(se?"dark":"light")}catch(he){console.error(he)}})}},[d]),z.useEffect(()=>{L.length<=1&&N(!1)},[L]),z.useEffect(()=>{let G=K=>{var se,he;i.every(Pe=>K[Pe]||K.code===Pe)&&(N(!0),(se=ne.current)==null||se.focus()),K.code==="Escape"&&(document.activeElement===ne.current||(he=ne.current)!=null&&he.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),z.useEffect(()=>{if(ne.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,q.current=!1)}},[ne.current]),z.createElement("section",{ref:e,"aria-label":`${k} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((G,K)=>{var se;let[he,Pe]=G.split("-");return L.length?z.createElement("ol",{key:G,dir:C==="auto"?_0():C,tabIndex:-1,ref:ne,className:a,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":he,"data-lifted":D&&L.length>1&&!o,"data-x-position":Pe,style:{"--front-toast-height":`${((se=A[0])==null?void 0:se.height)||0}px`,"--width":`${X2}px`,"--gap":`${_}px`,...p,...rD(c,u)},onBlur:H=>{q.current&&!H.currentTarget.contains(H.relatedTarget)&&(q.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||q.current||(q.current=!0,F.current=H.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{P||N(!1)},onDragEnd:()=>N(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},L.filter(H=>!H.position&&K===0||H.position===G).map((H,ye)=>{var Ve,ge;return z.createElement(nD,{key:H.id,icons:E,index:ye,toast:H,defaultRichColors:f,duration:(Ve=w==null?void 0:w.duration)!=null?Ve:g,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ge=w==null?void 0:w.closeButton)!=null?ge:s,interacting:P,position:G,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:ce,toasts:L.filter(ue=>ue.position==H.position),heights:A.filter(ue=>ue.position==H.position),setHeights:R,expandByDefault:o,gap:_,loadingIcon:v,expanded:D,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let g=(a&15)<<2|u>>6,p=u&63;c||(p=64,s||(g=64)),r.push(n[d],n[f],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new sD;const g=o<<2|a>>4;if(r.push(g),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aD=function(t){const e=Vx(t);return $x.encodeByteArray(e,!0)},xu=function(t){return aD(t).replace(/\./g,"")},Fx=function(t){try{return $x.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=()=>lD().__FIREBASE_DEFAULTS__,uD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fx(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return cD()||uD()||dD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jx=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hD=t=>{const e=jx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ux=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},Bx=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[xu(JSON.stringify(n)),xu(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function gD(){var t;const e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _D(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wD(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ED(){return!gD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xD(){try{return typeof indexedDB=="object"}catch{return!1}}function TD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SD,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ID(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Dr(i,a,r)}}function ID(t,e){return t.replace(bD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bD=/\{\$([^}]+)}/g;function CD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(w0(o)&&w0(s)){if(!Tu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AD(t,e){const n=new RD(t,e);return n.subscribe.bind(n)}class RD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Oh),i.error===void 0&&(i.error=Oh),i.complete===void 0&&(i.complete=Oh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Oh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DD(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ND(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ND(t){return t===Mi?void 0:t}function DD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const MD={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},LD=ve.INFO,VD={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},$D=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=LD,this._logHandler=$D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const FD=(t,e)=>e.some(n=>t instanceof n);let E0,x0;function jD(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UD(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zx=new WeakMap,Jf=new WeakMap,Wx=new WeakMap,Mh=new WeakMap,Fm=new WeakMap;function BD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ci(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zx.set(n,t)}).catch(()=>{}),Fm.set(e,t),e}function zD(t){if(Jf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Jf.set(t,e)}let Zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WD(t){Zf=t(Zf)}function HD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lh(this),e,...n);return Wx.set(r,e.sort?e.sort():[e]),ci(r)}:UD().includes(t)?function(...e){return t.apply(Lh(this),e),ci(zx.get(this))}:function(...e){return ci(t.apply(Lh(this),e))}}function qD(t){return typeof t=="function"?HD(t):(t instanceof IDBTransaction&&zD(t),FD(t,jD())?new Proxy(t,Zf):t)}function ci(t){if(t instanceof IDBRequest)return BD(t);if(Mh.has(t))return Mh.get(t);const e=qD(t);return e!==t&&(Mh.set(t,e),Fm.set(e,t)),e}const Lh=t=>Fm.get(t);function GD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ci(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ci(s.result),c.oldVersion,c.newVersion,ci(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const KD=["get","getKey","getAll","getAllKeys","count"],QD=["put","add","delete","clear"],Vh=new Map;function T0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vh.get(e))return Vh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KD.includes(n)))return;const o=async function(s,...a){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Vh.set(e,o),o}WD(t=>({...t,get:(e,n,r)=>T0(e,n)||t.get(e,n,r),has:(e,n)=>!!T0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",S0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new $m("@firebase/app"),JD="@firebase/app-compat",ZD="@firebase/analytics-compat",eO="@firebase/analytics",tO="@firebase/app-check-compat",nO="@firebase/app-check",rO="@firebase/auth",iO="@firebase/auth-compat",oO="@firebase/database",sO="@firebase/data-connect",aO="@firebase/database-compat",lO="@firebase/functions",cO="@firebase/functions-compat",uO="@firebase/installations",dO="@firebase/installations-compat",hO="@firebase/messaging",fO="@firebase/messaging-compat",pO="@firebase/performance",mO="@firebase/performance-compat",gO="@firebase/remote-config",vO="@firebase/remote-config-compat",yO="@firebase/storage",_O="@firebase/storage-compat",wO="@firebase/firestore",EO="@firebase/vertexai-preview",xO="@firebase/firestore-compat",TO="firebase",SO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",IO={[ep]:"fire-core",[JD]:"fire-core-compat",[eO]:"fire-analytics",[ZD]:"fire-analytics-compat",[nO]:"fire-app-check",[tO]:"fire-app-check-compat",[rO]:"fire-auth",[iO]:"fire-auth-compat",[oO]:"fire-rtdb",[sO]:"fire-data-connect",[aO]:"fire-rtdb-compat",[lO]:"fire-fn",[cO]:"fire-fn-compat",[uO]:"fire-iid",[dO]:"fire-iid-compat",[hO]:"fire-fcm",[fO]:"fire-fcm-compat",[pO]:"fire-perf",[mO]:"fire-perf-compat",[gO]:"fire-rc",[vO]:"fire-rc-compat",[yO]:"fire-gcs",[_O]:"fire-gcs-compat",[wO]:"fire-fst",[xO]:"fire-fst-compat",[EO]:"fire-vertex","fire-js":"fire-js",[TO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,bO=new Map,np=new Map;function I0(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ds(t){const e=t.name;if(np.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of Su.values())I0(n,t);for(const n of bO.values())I0(n,t);return!0}function jm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new fl("app","Firebase",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=SO;function Hx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=Ux()),!n)throw ui.create("no-options");const o=Su.get(i);if(o){if(Tu(n,o.options)&&Tu(r,o.config))return o;throw ui.create("duplicate-app",{appName:i})}const s=new OD(i);for(const c of np.values())s.addComponent(c);const a=new AO(n,r,s);return Su.set(i,a),a}function qx(t=tp){const e=Su.get(t);if(!e&&t===tp&&Ux())return Hx();if(!e)throw ui.create("no-app",{appName:t});return e}function di(t,e,n){var r;let i=(r=IO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(a.join(" "));return}ds(new Zi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="firebase-heartbeat-database",PO=1,Xa="firebase-heartbeat-store";let $h=null;function Gx(){return $h||($h=GD(RO,PO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),$h}async function kO(t){try{const n=(await Gx()).transaction(Xa),r=await n.objectStore(Xa).get(Kx(t));return await n.done,r}catch(e){if(e instanceof Dr)br.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function b0(t,e){try{const r=(await Gx()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,Kx(t)),await r.done}catch(n){if(n instanceof Dr)br.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function Kx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=1024,DO=30*24*60*60*1e3;class OO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=C0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=DO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C0(),{heartbeatsToSend:r,unsentEntries:i}=MO(this._heartbeatsCache.heartbeats),o=xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return br.warn(n),""}}}function C0(){return new Date().toISOString().substring(0,10)}function MO(t,e=NO){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),A0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xD()?TD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function A0(t){return xu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){ds(new Zi("platform-logger",e=>new YD(e),"PRIVATE")),ds(new Zi("heartbeat",e=>new OO(e),"PRIVATE")),di(ep,S0,t),di(ep,S0,"esm2017"),di("fire-js","")}VO("");var $O="firebase",FO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di($O,FO,"app");function Qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jO=Qx,Yx=new fl("auth","Firebase",Qx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new $m("@firebase/auth");function UO(t,...e){Iu.logLevel<=ve.WARN&&Iu.warn(`Auth (${Cs}): ${t}`,...e)}function Vc(t,...e){Iu.logLevel<=ve.ERROR&&Iu.error(`Auth (${Cs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,...e){throw Um(t,...e)}function Gn(t,...e){return Um(t,...e)}function Xx(t,e,n){const r=Object.assign(Object.assign({},jO()),{[e]:n});return new fl("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return Xx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Yx.create(t,...e)}function re(t,e,...n){if(!t)throw Um(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vc(e),new Error(e)}function Ar(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BO(){return R0()==="http:"||R0()==="https:"}function R0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BO()||yD()||"connection"in navigator)?navigator.onLine:!0}function WO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=mD()||_D()}get(){return zO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t,e){Ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new ml(3e4,6e4);function dd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function As(t,e,n,r,i={}){return Zx(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=pl(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return vD()||(u.referrerPolicy="no-referrer"),Jx.fetch()(tT(t,t.config.apiHost,n,a),u)})}async function Zx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HO),e);try{const i=new GO(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw _c(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw _c(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw _c(t,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xx(t,d,u);Cr(t,d)}}catch(i){if(i instanceof Dr)throw i;Cr(t,"network-request-failed",{message:String(i)})}}async function eT(t,e,n,r,i={}){const o=await As(t,e,n,r,i);return"mfaPendingCredential"in o&&Cr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function tT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Bm(t.config,i):`${t.config.apiScheme}://${i}`}class GO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),qO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function nT(t,e){return As(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QO(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=zm(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Sa(Fh(i.auth_time)),issuedAtTime:Sa(Fh(i.iat)),expirationTime:Sa(Fh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fh(t){return Number(t)*1e3}function zm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fx(n);return i?JSON.parse(i):(Vc("Failed to decode base64 JWT payload"),null)}catch(i){return Vc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function P0(t){const e=zm(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&YO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sa(this.lastLoginAt),this.creationTime=Sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ja(t,nT(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rT(o.providerUserInfo):[],a=ZO(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function JO(t){const e=vt(t);await bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rT(t){return t.map(e=>{var{providerId:n}=e,r=Ts(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){const n=await Zx(t,{},async()=>{const r=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=tT(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jx.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tM(t,e){return As(t,"POST","/v2/accounts:revokeToken",dd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=P0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await eM(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xo;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ts(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QO(this,e)}reload(){return JO(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Ja(this,KO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:k,isAnonymous:O,providerData:L,stsTokenManager:I}=n;re(E&&I,e,"internal-error");const x=Xo.fromJSON(this.name,I);re(typeof E=="string",e,"internal-error"),Fr(f,e.name),Fr(g,e.name),re(typeof k=="boolean",e,"internal-error"),re(typeof O=="boolean",e,"internal-error"),Fr(p,e.name),Fr(S,e.name),Fr(w,e.name),Fr(C,e.name),Fr(_,e.name),Fr(v,e.name);const A=new mr({uid:E,auth:e,email:g,emailVerified:k,displayName:f,isAnonymous:O,photoURL:S,phoneNumber:p,tenantId:w,stsTokenManager:x,createdAt:_,lastLoginAt:v});return L&&Array.isArray(L)&&(A.providerData=L.map(R=>Object.assign({},R))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xo;i.updateFromServerResponse(n);const o=new mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bu(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?rT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Xo;a.updateFromIdToken(r);const c=new mr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ip(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;function gr(t){Ar(t instanceof Function,"Expected a class definition");let e=k0.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const N0=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=$c(this.userKey,i.apiKey,o),this.fullPersistenceKey=$c("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jo(gr(N0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||gr(N0);const s=$c(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const f=mr._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Jo(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Jo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(dT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oT(t=kt()){return/firefox\//i.test(t)}function sT(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(t=kt()){return/crios\//i.test(t)}function lT(t=kt()){return/iemobile/i.test(t)}function cT(t=kt()){return/android/i.test(t)}function uT(t=kt()){return/blackberry/i.test(t)}function dT(t=kt()){return/webos/i.test(t)}function Wm(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nM(t=kt()){var e;return Wm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rM(){return wD()&&document.documentMode===10}function hT(t=kt()){return Wm(t)||cT(t)||dT(t)||uT(t)||/windows phone/i.test(t)||lT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e=[]){let n;switch(t){case"Browser":n=D0(kt());break;case"Worker":n=`${D0(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e={}){return As(t,"GET","/v2/passwordPolicy",dd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=6;class aM{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:sM,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new iM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nT(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(hi(this));const n=e?vt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oM(this),n=new aM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hd(t){return vt(t)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=AD(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cM(t){Hm=t}function uM(t){return Hm.loadJS(t)}function dM(){return Hm.gapiScript}function hM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){const n=jm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Tu(o,e??{}))return i;Cr(i,"already-initialized")}return n.initialize({options:e})}function pM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mM(t,e,n){const r=hd(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=pT(e),{host:s,port:a}=gM(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||vM()}function pT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gM(t){const e=pT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:M0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:M0(s)}}}function M0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e){return eT(t,"POST","/v1/accounts:signInWithIdp",dd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="http://localhost";class eo extends mT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ts(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new eo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zo(e,n)}buildRequest(){const e={requestUri:yM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends gT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends gl{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends gl{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends gl{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e){return eT(t,"POST","/v1/accounts:signUp",dd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await mr._fromIdTokenResponse(e,r,i),s=L0(r);return new _i({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=L0(r);return new _i({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function L0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t){var e;if(fr(t.app))return Promise.reject(hi(t));const n=hd(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new _i({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await _M(n,{returnSecureToken:!0}),i=await _i._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Dr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cu(e,n,r,i)}}function vT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cu._fromErrorAndOperation(t,o,e,r):o})}async function EM(t,e,n=!1){const r=await Ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const o=await Ja(t,vT(r,i,e,t),n);re(o.idToken,r,"internal-error");const s=zm(o.idToken);re(s,r,"internal-error");const{sub:a}=s;return re(t.uid===a,r,"user-mismatch"),_i._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Cr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e,n=!1){if(fr(t.app))return Promise.reject(hi(t));const r="signIn",i=await vT(t,r,e),o=await _i._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function SM(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function IM(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function bM(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}const Au="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Au,"1"),this.storage.removeItem(Au),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=1e3,AM=10;class _T extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);rM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_T.type="LOCAL";const RM=_T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wT.type="SESSION";const ET=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),c=await PM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{const u=qm("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function NM(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function DM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MM(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebaseLocalStorageDb",LM=1,Ru="firebaseLocalStorage",ST="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([Ru],e?"readwrite":"readonly").objectStore(Ru)}function VM(){const t=indexedDB.deleteDatabase(TT);return new vl(t).toPromise()}function op(){const t=indexedDB.open(TT,LM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ru,{keyPath:ST})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ru)?e(r):(r.close(),await VM(),e(await op()))})})}async function V0(t,e,n){const r=pd(t,!0).put({[ST]:e,value:n});return new vl(r).toPromise()}async function $M(t,e){const n=pd(t,!1).get(e),r=await new vl(n).toPromise();return r===void 0?null:r.value}function $0(t,e){const n=pd(t,!0).delete(e);return new vl(n).toPromise()}const FM=800,jM=3;class IT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(MM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DM(),!this.activeServiceWorker)return;this.sender=new kM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await V0(e,Au,"1"),await $0(e,Au),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$M(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pd(i,!1).getAll();return new vl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IT.type="LOCAL";const UM=IT;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e){return e?gr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends mT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zM(t){return TM(t.auth,new Gm(t),t.bypassAuthState)}function WM(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),xM(n,new Gm(t),t.bypassAuthState)}async function HM(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),EM(n,new Gm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zM;case"linkViaPopup":case"linkViaRedirect":return HM;case"reauthViaPopup":case"reauthViaRedirect":return WM;default:Cr(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new ml(2e3,1e4);class Bo extends bT{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qM.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="pendingRedirect",Fc=new Map;class KM extends bT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const r=await QM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QM(t,e){const n=JM(e),r=XM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function YM(t,e){Fc.set(t._key(),e)}function XM(t){return gr(t._redirectPersistence)}function JM(t){return $c(GM,t.config.apiKey,t.name)}async function ZM(t,e,n=!1){if(fr(t.app))return Promise.reject(hi(t));const r=hd(t),i=BM(r,e),s=await new KM(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=10*60*1e3;class tL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eL&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(e))}saveEventToCache(e){this.cachedEventUids.add(F0(e)),this.lastProcessedEventTime=Date.now()}}function F0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e={}){return As(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oL=/^https?/;async function sL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rL(t);for(const n of e)try{if(aL(n))return}catch{}Cr(t,"unauthorized-domain")}function aL(t){const e=rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!oL.test(n))return!1;if(iL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new ml(3e4,6e4);function j0(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cL(t){return new Promise((e,n)=>{var r,i,o;function s(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),n(Gn(t,"network-request-failed"))},timeout:lL.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kn().gapi)===null||o===void 0)&&o.load)s();else{const a=hM("iframefcb");return Kn()[a]=()=>{gapi.load?s():n(Gn(t,"network-request-failed"))},uM(`${dM()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw jc=null,e})}let jc=null;function uL(t){return jc=jc||cL(t),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new ml(5e3,15e3),hL="__/auth/iframe",fL="emulator/auth/iframe",pL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gL(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bm(e,fL):`https://${t.config.authDomain}/${hL}`,r={apiKey:e.apiKey,appName:t.name,v:Cs},i=mL.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${pl(r).slice(1)}`}async function vL(t){const e=await uL(t),n=Kn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:gL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Gn(t,"network-request-failed"),a=Kn().setTimeout(()=>{o(s)},dL.get());function c(){Kn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_L=500,wL=600,EL="_blank",xL="http://localhost";class U0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TL(t,e,n,r=_L,i=wL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},yL),{width:r.toString(),height:i.toString(),top:o,left:s}),u=kt().toLowerCase();n&&(a=aT(u)?EL:n),oT(u)&&(e=e||xL,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[p,S])=>`${g}${p}=${S},`,"");if(nM(u)&&a!=="_self")return SL(e||"",a),new U0(null);const f=window.open(e||"",a,d);re(f,t,"popup-blocked");try{f.focus()}catch{}return new U0(f)}function SL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="__/auth/handler",bL="emulator/auth/handler",CL=encodeURIComponent("fac");async function B0(t,e,n,r,i,o){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cs,eventId:i};if(e instanceof gT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof gl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${CL}=${encodeURIComponent(c)}`:"";return`${AL(t)}?${pl(a).slice(1)}${u}`}function AL({config:t}){return t.emulator?Bm(t,bL):`https://${t.authDomain}/${IL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="webStorageSupport";class RL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=ZM,this._overrideRedirectResult=YM}async _openPopup(e,n,r,i){var o;Ar((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await B0(e,n,r,rp(),i);return TL(e,s,qm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await B0(e,n,r,rp(),i);return NM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vL(e),r=new tL(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jh,{type:jh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[jh];s!==void 0&&n(!!s),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||sT()||Wm()}}const PL=RL;var z0="@firebase/auth",W0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DL(t){ds(new Zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(t)},u=new lM(r,i,o,c);return pM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ds(new Zi("auth-internal",e=>{const n=hd(e.getProvider("auth").getImmediate());return(r=>new kL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(z0,W0,NL(t)),di(z0,W0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=5*60,ML=Bx("authIdTokenMaxAge")||OL;let H0=null;const LL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ML)return;const i=n==null?void 0:n.token;H0!==i&&(H0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VL(t=qx()){const e=jm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fM(t,{popupRedirectResolver:PL,persistence:[UM,RM,ET]}),r=Bx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=LL(o.toString());IM(n,s,()=>s(n.currentUser)),SM(n,a=>s(a))}}const i=jx("auth");return i&&mM(n,`http://${i}`),n}function $L(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Gn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",$L().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DL("Browser");var q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,AT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function A(){}A.prototype=x.prototype,I.D=x.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(R,D,N){for(var P=Array(arguments.length-2),J=2;J<arguments.length;J++)P[J-2]=arguments[J];return x.prototype[D].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,x,A){A||(A=0);var R=Array(16);if(typeof x=="string")for(var D=0;16>D;++D)R[D]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(D=0;16>D;++D)R[D]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=I.g[0],A=I.g[1],D=I.g[2];var N=I.g[3],P=x+(N^A&(D^N))+R[0]+3614090360&4294967295;x=A+(P<<7&4294967295|P>>>25),P=N+(D^x&(A^D))+R[1]+3905402710&4294967295,N=x+(P<<12&4294967295|P>>>20),P=D+(A^N&(x^A))+R[2]+606105819&4294967295,D=N+(P<<17&4294967295|P>>>15),P=A+(x^D&(N^x))+R[3]+3250441966&4294967295,A=D+(P<<22&4294967295|P>>>10),P=x+(N^A&(D^N))+R[4]+4118548399&4294967295,x=A+(P<<7&4294967295|P>>>25),P=N+(D^x&(A^D))+R[5]+1200080426&4294967295,N=x+(P<<12&4294967295|P>>>20),P=D+(A^N&(x^A))+R[6]+2821735955&4294967295,D=N+(P<<17&4294967295|P>>>15),P=A+(x^D&(N^x))+R[7]+4249261313&4294967295,A=D+(P<<22&4294967295|P>>>10),P=x+(N^A&(D^N))+R[8]+1770035416&4294967295,x=A+(P<<7&4294967295|P>>>25),P=N+(D^x&(A^D))+R[9]+2336552879&4294967295,N=x+(P<<12&4294967295|P>>>20),P=D+(A^N&(x^A))+R[10]+4294925233&4294967295,D=N+(P<<17&4294967295|P>>>15),P=A+(x^D&(N^x))+R[11]+2304563134&4294967295,A=D+(P<<22&4294967295|P>>>10),P=x+(N^A&(D^N))+R[12]+1804603682&4294967295,x=A+(P<<7&4294967295|P>>>25),P=N+(D^x&(A^D))+R[13]+4254626195&4294967295,N=x+(P<<12&4294967295|P>>>20),P=D+(A^N&(x^A))+R[14]+2792965006&4294967295,D=N+(P<<17&4294967295|P>>>15),P=A+(x^D&(N^x))+R[15]+1236535329&4294967295,A=D+(P<<22&4294967295|P>>>10),P=x+(D^N&(A^D))+R[1]+4129170786&4294967295,x=A+(P<<5&4294967295|P>>>27),P=N+(A^D&(x^A))+R[6]+3225465664&4294967295,N=x+(P<<9&4294967295|P>>>23),P=D+(x^A&(N^x))+R[11]+643717713&4294967295,D=N+(P<<14&4294967295|P>>>18),P=A+(N^x&(D^N))+R[0]+3921069994&4294967295,A=D+(P<<20&4294967295|P>>>12),P=x+(D^N&(A^D))+R[5]+3593408605&4294967295,x=A+(P<<5&4294967295|P>>>27),P=N+(A^D&(x^A))+R[10]+38016083&4294967295,N=x+(P<<9&4294967295|P>>>23),P=D+(x^A&(N^x))+R[15]+3634488961&4294967295,D=N+(P<<14&4294967295|P>>>18),P=A+(N^x&(D^N))+R[4]+3889429448&4294967295,A=D+(P<<20&4294967295|P>>>12),P=x+(D^N&(A^D))+R[9]+568446438&4294967295,x=A+(P<<5&4294967295|P>>>27),P=N+(A^D&(x^A))+R[14]+3275163606&4294967295,N=x+(P<<9&4294967295|P>>>23),P=D+(x^A&(N^x))+R[3]+4107603335&4294967295,D=N+(P<<14&4294967295|P>>>18),P=A+(N^x&(D^N))+R[8]+1163531501&4294967295,A=D+(P<<20&4294967295|P>>>12),P=x+(D^N&(A^D))+R[13]+2850285829&4294967295,x=A+(P<<5&4294967295|P>>>27),P=N+(A^D&(x^A))+R[2]+4243563512&4294967295,N=x+(P<<9&4294967295|P>>>23),P=D+(x^A&(N^x))+R[7]+1735328473&4294967295,D=N+(P<<14&4294967295|P>>>18),P=A+(N^x&(D^N))+R[12]+2368359562&4294967295,A=D+(P<<20&4294967295|P>>>12),P=x+(A^D^N)+R[5]+4294588738&4294967295,x=A+(P<<4&4294967295|P>>>28),P=N+(x^A^D)+R[8]+2272392833&4294967295,N=x+(P<<11&4294967295|P>>>21),P=D+(N^x^A)+R[11]+1839030562&4294967295,D=N+(P<<16&4294967295|P>>>16),P=A+(D^N^x)+R[14]+4259657740&4294967295,A=D+(P<<23&4294967295|P>>>9),P=x+(A^D^N)+R[1]+2763975236&4294967295,x=A+(P<<4&4294967295|P>>>28),P=N+(x^A^D)+R[4]+1272893353&4294967295,N=x+(P<<11&4294967295|P>>>21),P=D+(N^x^A)+R[7]+4139469664&4294967295,D=N+(P<<16&4294967295|P>>>16),P=A+(D^N^x)+R[10]+3200236656&4294967295,A=D+(P<<23&4294967295|P>>>9),P=x+(A^D^N)+R[13]+681279174&4294967295,x=A+(P<<4&4294967295|P>>>28),P=N+(x^A^D)+R[0]+3936430074&4294967295,N=x+(P<<11&4294967295|P>>>21),P=D+(N^x^A)+R[3]+3572445317&4294967295,D=N+(P<<16&4294967295|P>>>16),P=A+(D^N^x)+R[6]+76029189&4294967295,A=D+(P<<23&4294967295|P>>>9),P=x+(A^D^N)+R[9]+3654602809&4294967295,x=A+(P<<4&4294967295|P>>>28),P=N+(x^A^D)+R[12]+3873151461&4294967295,N=x+(P<<11&4294967295|P>>>21),P=D+(N^x^A)+R[15]+530742520&4294967295,D=N+(P<<16&4294967295|P>>>16),P=A+(D^N^x)+R[2]+3299628645&4294967295,A=D+(P<<23&4294967295|P>>>9),P=x+(D^(A|~N))+R[0]+4096336452&4294967295,x=A+(P<<6&4294967295|P>>>26),P=N+(A^(x|~D))+R[7]+1126891415&4294967295,N=x+(P<<10&4294967295|P>>>22),P=D+(x^(N|~A))+R[14]+2878612391&4294967295,D=N+(P<<15&4294967295|P>>>17),P=A+(N^(D|~x))+R[5]+4237533241&4294967295,A=D+(P<<21&4294967295|P>>>11),P=x+(D^(A|~N))+R[12]+1700485571&4294967295,x=A+(P<<6&4294967295|P>>>26),P=N+(A^(x|~D))+R[3]+2399980690&4294967295,N=x+(P<<10&4294967295|P>>>22),P=D+(x^(N|~A))+R[10]+4293915773&4294967295,D=N+(P<<15&4294967295|P>>>17),P=A+(N^(D|~x))+R[1]+2240044497&4294967295,A=D+(P<<21&4294967295|P>>>11),P=x+(D^(A|~N))+R[8]+1873313359&4294967295,x=A+(P<<6&4294967295|P>>>26),P=N+(A^(x|~D))+R[15]+4264355552&4294967295,N=x+(P<<10&4294967295|P>>>22),P=D+(x^(N|~A))+R[6]+2734768916&4294967295,D=N+(P<<15&4294967295|P>>>17),P=A+(N^(D|~x))+R[13]+1309151649&4294967295,A=D+(P<<21&4294967295|P>>>11),P=x+(D^(A|~N))+R[4]+4149444226&4294967295,x=A+(P<<6&4294967295|P>>>26),P=N+(A^(x|~D))+R[11]+3174756917&4294967295,N=x+(P<<10&4294967295|P>>>22),P=D+(x^(N|~A))+R[2]+718787259&4294967295,D=N+(P<<15&4294967295|P>>>17),P=A+(N^(D|~x))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var A=x-this.blockSize,R=this.B,D=this.h,N=0;N<x;){if(D==0)for(;N<=A;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<x;)if(R[D++]=I.charCodeAt(N++),D==this.blockSize){i(this,R),D=0;break}}else for(;N<x;)if(R[D++]=I[N++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var A=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.u(I),I=Array(16),x=A=0;4>x;++x)for(var R=0;32>R;R+=8)I[A++]=this.g[x]>>>R&255;return I};function o(I,x){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=x(I)}function s(I,x){this.h=x;for(var A=[],R=!0,D=I.length-1;0<=D;D--){var N=I[D]|0;R&&N==x||(A[D]=N,R=!1)}this.g=A}var a={};function c(I){return-128<=I&&128>I?o(I,function(x){return new s([x|0],0>x?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return C(u(-I));for(var x=[],A=1,R=0;I>=A;R++)x[R]=I/A|0,A*=4294967296;return new s(x,0)}function d(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return C(d(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(x,8)),R=f,D=0;D<I.length;D+=8){var N=Math.min(8,I.length-D),P=parseInt(I.substring(D,D+N),x);8>N?(N=u(Math.pow(x,N)),R=R.j(N).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var f=c(0),g=c(1),p=c(16777216);t=s.prototype,t.m=function(){if(w(this))return-C(this).m();for(var I=0,x=1,A=0;A<this.g.length;A++){var R=this.i(A);I+=(0<=R?R:4294967296+R)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(w(this))return"-"+C(this).toString(I);for(var x=u(Math.pow(I,6)),A=this,R="";;){var D=k(A,x).g;A=_(A,D.j(x));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=D,S(A))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=_(this,I),w(I)?-1:S(I)?0:1};function C(I){for(var x=I.g.length,A=[],R=0;R<x;R++)A[R]=~I.g[R];return new s(A,~I.h).add(g)}t.abs=function(){return w(this)?C(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],R=0,D=0;D<=x;D++){var N=R+(this.i(D)&65535)+(I.i(D)&65535),P=(N>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);R=P>>>16,N&=65535,P&=65535,A[D]=P<<16|N}return new s(A,A[A.length-1]&-2147483648?-1:0)};function _(I,x){return I.add(C(x))}t.j=function(I){if(S(this)||S(I))return f;if(w(this))return w(I)?C(this).j(C(I)):C(C(this).j(I));if(w(I))return C(this.j(C(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var x=this.g.length+I.g.length,A=[],R=0;R<2*x;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<I.g.length;D++){var N=this.i(R)>>>16,P=this.i(R)&65535,J=I.i(D)>>>16,oe=I.i(D)&65535;A[2*R+2*D]+=P*oe,v(A,2*R+2*D),A[2*R+2*D+1]+=N*oe,v(A,2*R+2*D+1),A[2*R+2*D+1]+=P*J,v(A,2*R+2*D+1),A[2*R+2*D+2]+=N*J,v(A,2*R+2*D+2)}for(R=0;R<x;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=x;R<2*x;R++)A[R]=0;return new s(A,0)};function v(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function E(I,x){this.g=I,this.h=x}function k(I,x){if(S(x))throw Error("division by zero");if(S(I))return new E(f,f);if(w(I))return x=k(C(I),x),new E(C(x.g),C(x.h));if(w(x))return x=k(I,C(x)),new E(C(x.g),x.h);if(30<I.g.length){if(w(I)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var A=g,R=x;0>=R.l(I);)A=O(A),R=O(R);var D=L(A,1),N=L(R,1);for(R=L(R,2),A=L(A,2);!S(R);){var P=N.add(R);0>=P.l(I)&&(D=D.add(A),N=P),R=L(R,1),A=L(A,1)}return x=_(I,D.j(x)),new E(D,x)}for(D=f;0<=I.l(x);){for(A=Math.max(1,Math.floor(I.m()/x.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=u(A),P=N.j(x);w(P)||0<P.l(I);)A-=R,N=u(A),P=N.j(x);S(N)&&(N=g),D=D.add(N),I=_(I,P)}return new E(D,I)}t.A=function(I){return k(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],R=0;R<x;R++)A[R]=this.i(R)&I.i(R);return new s(A,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],R=0;R<x;R++)A[R]=this.i(R)|I.i(R);return new s(A,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],R=0;R<x;R++)A[R]=this.i(R)^I.i(R);return new s(A,this.h^I.h)};function O(I){for(var x=I.g.length+1,A=[],R=0;R<x;R++)A[R]=I.i(R)<<1|I.i(R-1)>>>31;return new s(A,I.h)}function L(I,x){var A=x>>5;x%=32;for(var R=I.g.length-A,D=[],N=0;N<R;N++)D[N]=0<x?I.i(N+A)>>>x|I.i(N+A+1)<<32-x:I.i(N+A);return new s(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,zi=s}).apply(typeof q0<"u"?q0:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RT,ca,PT,Uc,sp,kT,NT,DT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var M=l[b];if(!(M in m))break e;m=m[M]}l=l[l.length-1],b=m[l],h=h(b),h!=b&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var m=0,b=!1,M={next:function(){if(!b&&m<l.length){var V=m++;return{value:h(V,l[V]),done:!1}}return b=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function g(l,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function p(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function S(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(b,M,V){for(var W=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)W[Ae-2]=arguments[Ae];return h.prototype[M].apply(b,W)}}function w(l){const h=l.length;if(0<h){const m=Array(h);for(let b=0;b<h;b++)m[b]=l[b];return m}return[]}function C(l,h){for(let m=1;m<arguments.length;m++){const b=arguments[m];if(c(b)){const M=l.length||0,V=b.length||0;l.length=M+V;for(let W=0;W<V;W++)l[M+W]=b[W]}else l.push(b)}}class _{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(l,h,m){for(const b in l)h.call(m,l[b],b,l)}function I(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function x(l){const h={};for(const m in l)h[m]=l[m];return h}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,h){let m,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(m in b)l[m]=b[m];for(let V=0;V<A.length;V++)m=A[V],Object.prototype.hasOwnProperty.call(b,m)&&(l[m]=b[m])}}function D(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function N(l){a.setTimeout(()=>{throw l},0)}function P(){var l=F;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class J{constructor(){this.h=this.g=null}add(h,m){const b=oe.get();b.set(h,m),this.h?this.h.next=b:this.g=b,this.h=b}}var oe=new _(()=>new te,l=>l.reset());class te{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,$=!1,F=new J,q=()=>{const l=a.Promise.resolve(void 0);ne=()=>{l.then(ce)}};var ce=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(m){N(m)}var h=oe;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}$=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function he(l,h){if(K.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(O){e:{try{k(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&he.aa.h.call(this)}}S(he,K);var Pe={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Ve(l,h,m,b,M){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!b,this.ha=M,this.key=++ye,this.da=this.fa=!1}function ge(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ue(l){this.src=l,this.g={},this.h=0}ue.prototype.add=function(l,h,m,b,M){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var W=Ye(l,h,b,M);return-1<W?(h=l[W],m||(h.fa=!1)):(h=new Ve(h,this.src,V,!!b,M),h.fa=m,l.push(h)),h};function fe(l,h){var m=h.type;if(m in l.g){var b=l.g[m],M=Array.prototype.indexOf.call(b,h,void 0),V;(V=0<=M)&&Array.prototype.splice.call(b,M,1),V&&(ge(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Ye(l,h,m,b){for(var M=0;M<l.length;++M){var V=l[M];if(!V.da&&V.listener==h&&V.capture==!!m&&V.ha==b)return M}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),vn={};function yn(l,h,m,b,M){if(b&&b.once)return po(l,h,m,b,M);if(Array.isArray(h)){for(var V=0;V<h.length;V++)yn(l,h[V],m,b,M);return null}return m=_t(m),l&&l[H]?l.K(h,m,u(b)?!!b.capture:!!b,M):Mn(l,h,m,!1,b,M)}function Mn(l,h,m,b,M,V){if(!h)throw Error("Invalid event type");var W=u(M)?!!M.capture:!!M,Ae=Os(l);if(Ae||(l[Ge]=Ae=new ue(l)),m=Ae.add(h,m,b,W,V),m.proxy)return m;if(b=Ci(),m.proxy=b,b.src=l,b.listener=m,l.addEventListener)se||(M=W),M===void 0&&(M=!1),l.addEventListener(h.toString(),b,M);else if(l.attachEvent)l.attachEvent(Ds(h.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ci(){function l(m){return h.call(l.src,l.listener,m)}const h=nr;return l}function po(l,h,m,b,M){if(Array.isArray(h)){for(var V=0;V<h.length;V++)po(l,h[V],m,b,M);return null}return m=_t(m),l&&l[H]?l.L(h,m,u(b)?!!b.capture:!!b,M):Mn(l,h,m,!0,b,M)}function Ln(l,h,m,b,M){if(Array.isArray(h))for(var V=0;V<h.length;V++)Ln(l,h[V],m,b,M);else b=u(b)?!!b.capture:!!b,m=_t(m),l&&l[H]?(l=l.i,h=String(h).toString(),h in l.g&&(V=l.g[h],m=Ye(V,m,b,M),-1<m&&(ge(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete l.g[h],l.h--)))):l&&(l=Os(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Ye(h,m,b,M)),(m=-1<l?h[l]:null)&&tr(m))}function tr(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[H])fe(h.i,l);else{var m=l.type,b=l.proxy;h.removeEventListener?h.removeEventListener(m,b,l.capture):h.detachEvent?h.detachEvent(Ds(m),b):h.addListener&&h.removeListener&&h.removeListener(b),(m=Os(h))?(fe(m,l),m.h==0&&(m.src=null,h[Ge]=null)):ge(l)}}}function Ds(l){return l in vn?vn[l]:vn[l]="on"+l}function nr(l,h){if(l.da)l=!0;else{h=new he(h,this);var m=l.listener,b=l.ha||l.src;l.fa&&tr(l),l=m.call(b,h)}return l}function Os(l){return l=l[Ge],l instanceof ue?l:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(l){return typeof l=="function"?l:(l[Ms]||(l[Ms]=function(h){return l.handleEvent(h)}),l[Ms])}function $e(){G.call(this),this.i=new ue(this),this.M=this,this.F=null}S($e,G),$e.prototype[H]=!0,$e.prototype.removeEventListener=function(l,h,m,b){Ln(this,l,h,m,b)};function lt(l,h){var m,b=l.F;if(b)for(m=[];b;b=b.F)m.push(b);if(l=l.M,b=h.type||h,typeof h=="string")h=new K(h,l);else if(h instanceof K)h.target=h.target||l;else{var M=h;h=new K(b,l),R(h,M)}if(M=!0,m)for(var V=m.length-1;0<=V;V--){var W=h.g=m[V];M=mo(W,b,!0,h)&&M}if(W=h.g=l,M=mo(W,b,!0,h)&&M,M=mo(W,b,!1,h)&&M,m)for(V=0;V<m.length;V++)W=h.g=m[V],M=mo(W,b,!1,h)&&M}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],b=0;b<m.length;b++)ge(m[b]);delete l.g[h],l.h--}}this.F=null},$e.prototype.K=function(l,h,m,b){return this.i.add(String(l),h,!1,m,b)},$e.prototype.L=function(l,h,m,b){return this.i.add(String(l),h,!0,m,b)};function mo(l,h,m,b){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,V=0;V<h.length;++V){var W=h[V];if(W&&!W.da&&W.capture==m){var Ae=W.listener,ut=W.ha||W.src;W.fa&&fe(l.i,W),M=Ae.call(ut,b)!==!1&&M}}return M&&!b.defaultPrevented}function Ai(l,h,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Al(l){l.g=Ai(()=>{l.g=null,l.i&&(l.i=!1,Al(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Rl extends G{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(l){G.call(this),this.h=l,this.g={}}S(rr,G);var ir=[];function Ls(l){L(l.g,function(h,m){this.g.hasOwnProperty(m)&&tr(h)},l),l.g={}}rr.prototype.N=function(){rr.aa.N.call(this),Ls(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=a.JSON.stringify,Dd=a.JSON.parse,Od=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function go(){}go.prototype.h=null;function Vs(l){return l.h||(l.h=l.i())}function Pl(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sn(){K.call(this,"d")}S(sn,K);function $s(){K.call(this,"c")}S($s,K);var ee={},Te=null;function Se(){return Te=Te||new $e}ee.La="serverreachability";function $t(l){K.call(this,ee.La,l)}S($t,K);function ct(l){const h=Se();lt(h,new $t(h))}ee.STAT_EVENT="statevent";function _n(l,h){K.call(this,ee.STAT_EVENT,l),this.stat=h}S(_n,K);function Fe(l){const h=Se();lt(h,new _n(h,l))}ee.Ma="timingevent";function Ft(l,h){K.call(this,ee.Ma,l),this.size=h}S(Ft,K);function jt(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Fs(){this.g=!0}Fs.prototype.xa=function(){this.g=!1};function nI(l,h,m,b,M,V){l.info(function(){if(l.g)if(V)for(var W="",Ae=V.split("&"),ut=0;ut<Ae.length;ut++){var Ee=Ae[ut].split("=");if(1<Ee.length){var wt=Ee[0];Ee=Ee[1];var Et=wt.split("_");W=2<=Et.length&&Et[1]=="type"?W+(wt+"="+Ee+"&"):W+(wt+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+h+`
`+m+`
`+W})}function rI(l,h,m,b,M,V,W){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+h+`
`+m+`
`+V+" "+W})}function vo(l,h,m,b){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+oI(l,m)+(b?" "+b:"")})}function iI(l,h){l.info(function(){return"TIMEOUT: "+h})}Fs.prototype.info=function(){};function oI(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var b=m[l];if(!(2>b.length)){var M=b[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return Vn(m)}catch{return h}}var kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Md;function Nl(){}S(Nl,go),Nl.prototype.g=function(){return new XMLHttpRequest},Nl.prototype.i=function(){return{}},Md=new Nl;function Or(l,h,m,b){this.j=l,this.i=h,this.l=m,this.R=b||1,this.U=new rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ag}function Ag(){this.i=null,this.g="",this.h=!1}var Rg={},Ld={};function Vd(l,h,m){l.L=1,l.v=Ll(sr(h)),l.m=m,l.P=!0,Pg(l,null)}function Pg(l,h){l.F=Date.now(),Dl(l),l.A=sr(l.v);var m=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),Wg(m.i,"t",b),l.C=0,m=l.j.J,l.h=new Ag,l.g=lv(l.j,m?h:null,!l.m),0<l.O&&(l.M=new Rl(g(l.Y,l,l.g),l.O)),h=l.U,m=l.g,b=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(ir[0]=M.toString()),M=ir);for(var V=0;V<M.length;V++){var W=yn(m,M[V],b||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ct(),nI(l.i,l.u,l.A,l.l,l.R,l.m)}Or.prototype.ca=function(l){l=l.target;const h=this.M;h&&ar(l)==3?h.j():this.Y(l)},Or.prototype.Y=function(l){try{if(l==this.g)e:{const Et=ar(this.g);var h=this.g.Ba();const wo=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Xg(this.g)))){this.J||Et!=4||h==7||(h==8||0>=wo?ct(3):ct(2)),$d(this);var m=this.g.Z();this.X=m;t:if(kg(this)){var b=Xg(this.g);l="";var M=b.length,V=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),js(this);var W="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(b[h],{stream:!(V&&h==M-1)});b.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,rI(this.i,this.u,this.A,this.l,this.R,Et,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,ut=this.g;if((Ae=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ae)){var Ee=Ae;break t}}Ee=null}if(m=Ee)vo(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,m);else{this.o=!1,this.s=3,Fe(12),Ri(this),js(this);break e}}if(this.P){m=!0;let wn;for(;!this.J&&this.C<W.length;)if(wn=sI(this,W),wn==Ld){Et==4&&(this.s=4,Fe(14),m=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Rg){this.s=4,Fe(15),vo(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else vo(this.i,this.l,wn,null),Fd(this,wn);if(kg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||W.length!=0||this.h.h||(this.s=1,Fe(16),m=!1),this.o=this.o&&m,!m)vo(this.i,this.l,W,"[Invalid Chunked Response]"),Ri(this),js(this);else if(0<W.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Hd(wt),wt.M=!0,Fe(11))}}else vo(this.i,this.l,W,null),Fd(this,W);Et==4&&Ri(this),this.o&&!this.J&&(Et==4?iv(this.j,this):(this.o=!1,Dl(this)))}else TI(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Fe(12)):(this.s=0,Fe(13)),Ri(this),js(this)}}}catch{}finally{}};function kg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function sI(l,h){var m=l.C,b=h.indexOf(`
`,m);return b==-1?Ld:(m=Number(h.substring(m,b)),isNaN(m)?Rg:(b+=1,b+m>h.length?Ld:(h=h.slice(b,b+m),l.C=b+m,h)))}Or.prototype.cancel=function(){this.J=!0,Ri(this)};function Dl(l){l.S=Date.now()+l.I,Ng(l,l.I)}function Ng(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=jt(g(l.ba,l),h)}function $d(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Or.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(iI(this.i,this.A),this.L!=2&&(ct(),Fe(17)),Ri(this),this.s=2,js(this)):Ng(this,this.S-l)};function js(l){l.j.G==0||l.J||iv(l.j,l)}function Ri(l){$d(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Ls(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Fd(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||jd(m.h,l))){if(!l.K&&jd(m.h,l)&&m.G==3){try{var b=m.Da.g.parse(h)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Bl(m),jl(m);else break e;Wd(m),Fe(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=jt(g(m.Za,m),6e3));if(1>=Mg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ki(m,11)}else if((l.K||m.g==l)&&Bl(m),!v(h))for(M=m.Da.g.parse(h),h=0;h<M.length;h++){let Ee=M[h];if(m.T=Ee[0],Ee=Ee[1],m.G==2)if(Ee[0]=="c"){m.K=Ee[1],m.ia=Ee[2];const wt=Ee[3];wt!=null&&(m.la=wt,m.j.info("VER="+m.la));const Et=Ee[4];Et!=null&&(m.Aa=Et,m.j.info("SVER="+m.Aa));const wo=Ee[5];wo!=null&&typeof wo=="number"&&0<wo&&(b=1.5*wo,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const wn=l.g;if(wn){const Wl=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var V=b.h;V.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ud(V,V.h),V.h=null))}if(b.D){const qd=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;qd&&(b.ya=qd,ke(b.I,b.D,qd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var W=l;if(b.qa=av(b,b.J?b.ia:null,b.W),W.K){Lg(b.h,W);var Ae=W,ut=b.L;ut&&(Ae.I=ut),Ae.B&&($d(Ae),Dl(Ae)),b.g=W}else nv(b);0<m.i.length&&Ul(m)}else Ee[0]!="stop"&&Ee[0]!="close"||ki(m,7);else m.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?ki(m,7):zd(m):Ee[0]!="noop"&&m.l&&m.l.ta(Ee),m.v=0)}}ct(4)}catch{}}var aI=class{constructor(l,h){this.g=l,this.map=h}};function Dg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Og(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Mg(l){return l.h?1:l.g?l.g.size:0}function jd(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ud(l,h){l.g?l.g.add(h):l.h=h}function Lg(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Dg.prototype.cancel=function(){if(this.i=Vg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return w(l.i)}function lI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],m=l.length,b=0;b<m;b++)h.push(l[b]);return h}h=[],m=0;for(b in l)h[m++]=l[b];return h}function cI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const b in l)h[m++]=b;return h}}}function $g(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=cI(l),b=lI(l),M=b.length,V=0;V<M;V++)h.call(void 0,b[V],m&&m[V],l)}var Fg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uI(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var b=l[m].indexOf("="),M=null;if(0<=b){var V=l[m].substring(0,b);M=l[m].substring(b+1)}else V=l[m];h(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Pi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Pi){this.h=l.h,Ol(this,l.j),this.o=l.o,this.g=l.g,Ml(this,l.s),this.l=l.l;var h=l.i,m=new zs;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),jg(this,m),this.m=l.m}else l&&(h=String(l).match(Fg))?(this.h=!1,Ol(this,h[1]||"",!0),this.o=Us(h[2]||""),this.g=Us(h[3]||"",!0),Ml(this,h[4]),this.l=Us(h[5]||"",!0),jg(this,h[6]||"",!0),this.m=Us(h[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}Pi.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Bs(h,Ug,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Bs(h,Ug,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Bs(m,m.charAt(0)=="/"?fI:hI,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Bs(m,mI)),l.join("")};function sr(l){return new Pi(l)}function Ol(l,h,m){l.j=m?Us(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ml(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function jg(l,h,m){h instanceof zs?(l.i=h,gI(l.i,l.h)):(m||(h=Bs(h,pI)),l.i=new zs(h,l.h))}function ke(l,h,m){l.i.set(h,m)}function Ll(l){return ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Us(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Bs(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,dI),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function dI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ug=/[#\/\?@]/g,hI=/[#\?:]/g,fI=/[#\?]/g,pI=/[#\?@]/g,mI=/#/g;function zs(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Mr(l){l.g||(l.g=new Map,l.h=0,l.i&&uI(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=zs.prototype,t.add=function(l,h){Mr(this),this.i=null,l=yo(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Bg(l,h){Mr(l),h=yo(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function zg(l,h){return Mr(l),h=yo(l,h),l.g.has(h)}t.forEach=function(l,h){Mr(this),this.g.forEach(function(m,b){m.forEach(function(M){l.call(h,M,b,this)},this)},this)},t.na=function(){Mr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let b=0;b<h.length;b++){const M=l[b];for(let V=0;V<M.length;V++)m.push(h[b])}return m},t.V=function(l){Mr(this);let h=[];if(typeof l=="string")zg(this,l)&&(h=h.concat(this.g.get(yo(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return Mr(this),this.i=null,l=yo(this,l),zg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Wg(l,h,m){Bg(l,h),0<m.length&&(l.i=null,l.g.set(yo(l,h),w(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var b=h[m];const V=encodeURIComponent(String(b)),W=this.V(b);for(b=0;b<W.length;b++){var M=V;W[b]!==""&&(M+="="+encodeURIComponent(String(W[b]))),l.push(M)}}return this.i=l.join("&")};function yo(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function gI(l,h){h&&!l.j&&(Mr(l),l.i=null,l.g.forEach(function(m,b){var M=b.toLowerCase();b!=M&&(Bg(this,b),Wg(this,M,m))},l)),l.j=h}function vI(l,h){const m=new Fs;if(a.Image){const b=new Image;b.onload=p(Lr,m,"TestLoadImage: loaded",!0,h,b),b.onerror=p(Lr,m,"TestLoadImage: error",!1,h,b),b.onabort=p(Lr,m,"TestLoadImage: abort",!1,h,b),b.ontimeout=p(Lr,m,"TestLoadImage: timeout",!1,h,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else h(!1)}function yI(l,h){const m=new Fs,b=new AbortController,M=setTimeout(()=>{b.abort(),Lr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:b.signal}).then(V=>{clearTimeout(M),V.ok?Lr(m,"TestPingServer: ok",!0,h):Lr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Lr(m,"TestPingServer: error",!1,h)})}function Lr(l,h,m,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(m)}catch{}}function _I(){this.g=new Od}function wI(l,h,m){const b=m||"";try{$g(l,function(M,V){let W=M;u(M)&&(W=Vn(M)),h.push(b+V+"="+encodeURIComponent(W))})}catch(M){throw h.push(b+"type="+encodeURIComponent("_badmap")),M}}function Vl(l){this.l=l.Ub||null,this.j=l.eb||!1}S(Vl,go),Vl.prototype.g=function(){return new $l(this.l,this.j)},Vl.prototype.i=function(l){return function(){return l}}({});function $l(l,h){$e.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S($l,$e),t=$l.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Hs(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ws(this):Hs(this),this.readyState==3&&Hg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ws(this))},t.Qa=function(l){this.g&&(this.response=l,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Hs(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Hs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qg(l){let h="";return L(l,function(m,b){h+=b,h+=":",h+=m,h+=`\r
`}),h}function Bd(l,h,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=qg(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):ke(l,h,m))}function He(l){$e.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(He,$e);var EI=/^https?$/i,xI=["POST","PUT"];t=He.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Md.g(),this.v=this.o?Vs(this.o):Vs(Md),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(V){Gg(this,V);return}if(l=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)m.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const V of b.keys())m.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xI,h,void 0))||b||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of m)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yg(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){Gg(this,V)}};function Gg(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Kg(l),Fl(l)}function Kg(l){l.A||(l.A=!0,lt(l,"complete"),lt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),Fl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fl(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qg(this):this.bb())},t.bb=function(){Qg(this)};function Qg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ar(l)!=4||l.Z()!=2)){if(l.u&&ar(l)==4)Ai(l.Ea,0,l);else if(lt(l,"readystatechange"),ar(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var b;if(b=W===0){var M=String(l.D).match(Fg)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),b=!EI.test(M?M.toLowerCase():"")}m=b}if(m)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var V=2<ar(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",Kg(l)}}finally{Fl(l)}}}}function Fl(l,h){if(l.g){Yg(l);const m=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||lt(l,"ready");try{m.onreadystatechange=b}catch{}}}function Yg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function ar(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Dd(h)}};function Xg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function TI(l){const h={};l=(l.g&&2<=ar(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(v(l[b]))continue;var m=D(l[b]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=h[M]||[];h[M]=V,V.push(m)}I(h,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function Jg(l){this.Aa=0,this.i=[],this.j=new Fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,l),this.cb=qs("retryDelaySeedMs",1e4,l),this.Wa=qs("forwardChannelMaxRetries",2,l),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Dg(l&&l.concurrentRequestLimit),this.Da=new _I,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jg.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,b){Fe(0),this.W=l,this.H=h||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=av(this,null,this.W),Ul(this)};function zd(l){if(Zg(l),l.G==3){var h=l.U++,m=sr(l.I);if(ke(m,"SID",l.K),ke(m,"RID",h),ke(m,"TYPE","terminate"),Gs(l,m),h=new Or(l,l.j,h),h.L=2,h.v=Ll(sr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=lv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Dl(h)}sv(l)}function jl(l){l.g&&(Hd(l),l.g.cancel(),l.g=null)}function Zg(l){jl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Bl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ul(l){if(!Og(l.h)&&!l.s){l.s=!0;var h=l.Ga;ne||q(),$||(ne(),$=!0),F.add(h,l),l.B=0}}function SI(l,h){return Mg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=jt(g(l.Ga,l,h),ov(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Or(this,this.j,l);let V=this.o;if(this.S&&(V?(V=x(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(h+=b,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=tv(this,M,h),m=sr(this.I),ke(m,"RID",l),ke(m,"CVER",22),this.D&&ke(m,"X-HTTP-Session-Id",this.D),Gs(this,m),V&&(this.O?h="headers="+encodeURIComponent(String(qg(V)))+"&"+h:this.m&&Bd(m,this.m,V)),Ud(this.h,M),this.Ua&&ke(m,"TYPE","init"),this.P?(ke(m,"$req",h),ke(m,"SID","null"),M.T=!0,Vd(M,m,null)):Vd(M,m,h),this.G=2}}else this.G==3&&(l?ev(this,l):this.i.length==0||Og(this.h)||ev(this))};function ev(l,h){var m;h?m=h.l:m=l.U++;const b=sr(l.I);ke(b,"SID",l.K),ke(b,"RID",m),ke(b,"AID",l.T),Gs(l,b),l.m&&l.o&&Bd(b,l.m,l.o),m=new Or(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=tv(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ud(l.h,m),Vd(m,b,h)}function Gs(l,h){l.H&&L(l.H,function(m,b){ke(h,b,m)}),l.l&&$g({},function(m,b){ke(h,b,m)})}function tv(l,h,m){m=Math.min(l.i.length,m);var b=l.l?g(l.l.Na,l.l,l):null;e:{var M=l.i;let V=-1;for(;;){const W=["count="+m];V==-1?0<m?(V=M[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let Ae=!0;for(let ut=0;ut<m;ut++){let Ee=M[ut].g;const wt=M[ut].map;if(Ee-=V,0>Ee)V=Math.max(0,M[ut].g-100),Ae=!1;else try{wI(wt,W,"req"+Ee+"_")}catch{b&&b(wt)}}if(Ae){b=W.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,b}function nv(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ne||q(),$||(ne(),$=!0),F.add(h,l),l.v=0}}function Wd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=jt(g(l.Fa,l),ov(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,rv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=jt(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fe(10),jl(this),rv(this))};function Hd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function rv(l){l.g=new Or(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=sr(l.qa);ke(h,"RID","rpc"),ke(h,"SID",l.K),ke(h,"AID",l.T),ke(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ke(h,"TO",l.ja),ke(h,"TYPE","xmlhttp"),Gs(l,h),l.m&&l.o&&Bd(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ll(sr(h)),m.m=null,m.P=!0,Pg(m,l)}t.Za=function(){this.C!=null&&(this.C=null,jl(this),Wd(this),Fe(19))};function Bl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function iv(l,h){var m=null;if(l.g==h){Bl(l),Hd(l),l.g=null;var b=2}else if(jd(l.h,h))m=h.D,Lg(l.h,h),b=1;else return;if(l.G!=0){if(h.o)if(b==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;b=Se(),lt(b,new Ft(b,m)),Ul(l)}else nv(l);else if(M=h.s,M==3||M==0&&0<h.X||!(b==1&&SI(l,h)||b==2&&Wd(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),M){case 1:ki(l,5);break;case 4:ki(l,10);break;case 3:ki(l,6);break;default:ki(l,2)}}}function ov(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function ki(l,h){if(l.j.info("Error code "+h),h==2){var m=g(l.fb,l),b=l.Xa;const M=!b;b=new Pi(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ol(b,"https"),Ll(b),M?vI(b.toString(),m):yI(b.toString(),m)}else Fe(2);l.G=0,l.l&&l.l.sa(h),sv(l),Zg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function sv(l){if(l.G=0,l.ka=[],l.l){const h=Vg(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function av(l,h,m){var b=m instanceof Pi?sr(m):new Pi(m);if(b.g!="")h&&(b.g=h+"."+b.g),Ml(b,b.s);else{var M=a.location;b=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var V=new Pi(null);b&&Ol(V,b),h&&(V.g=h),M&&Ml(V,M),m&&(V.l=m),b=V}return m=l.D,h=l.ya,m&&h&&ke(b,m,h),ke(b,"VER",l.la),Gs(l,b),b}function lv(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new He(new Vl({eb:m})):new He(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cv(){}t=cv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zl(){}zl.prototype.g=function(l,h){return new Kt(l,h)};function Kt(l,h){$e.call(this),this.g=new Jg(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!v(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new _o(this)}S(Kt,$e),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){zd(this.g)},Kt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Vn(l),l=m);h.i.push(new aI(h.Ya++,l)),h.G==3&&Ul(h)},Kt.prototype.N=function(){this.g.l=null,delete this.j,zd(this.g),delete this.g,Kt.aa.N.call(this)};function uv(l){sn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}S(uv,sn);function dv(){$s.call(this),this.status=1}S(dv,$s);function _o(l){this.g=l}S(_o,cv),_o.prototype.ua=function(){lt(this.g,"a")},_o.prototype.ta=function(l){lt(this.g,new uv(l))},_o.prototype.sa=function(l){lt(this.g,new dv)},_o.prototype.ra=function(){lt(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,DT=function(){return new zl},NT=function(){return Se()},kT=ee,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,Uc=kl,Cg.COMPLETE="complete",PT=Cg,Pl.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",$e.prototype.listen=$e.prototype.K,ca=Pl,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,RT=He}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new $m("@firebase/firestore");function ia(){return to.logLevel}function X(t,...e){if(to.logLevel<=ve.DEBUG){const n=e.map(Km);to.debug(`Firestore (${Rs}): ${t}`,...n)}}function Rr(t,...e){if(to.logLevel<=ve.ERROR){const n=e.map(Km);to.error(`Firestore (${Rs}): ${t}`,...n)}}function hs(t,...e){if(to.logLevel<=ve.WARN){const n=e.map(Km);to.warn(`Firestore (${Rs}): ${t}`,...n)}}function Km(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function be(t,e){t||ie()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class jL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UL{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new OT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new It(e)}}class BL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new BL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){be(this.o===void 0);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new WL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new et(0,0))}static max(){return new ae(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends Za{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const GL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Za{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return GL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Q(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Oe.fromString(e))}static fromName(e){return new Z(Oe.fromString(e).popFirst(5))}static empty(){return new Z(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Oe(e.slice()))}}function KL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new wi(i,Z.empty(),e)}function QL(t){return new wi(t.readTime,t.key,-1)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(ae.min(),Z.empty(),-1)}static max(){return new wi(ae.max(),Z.empty(),-1)}}function YL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==XL)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function ZL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qm.oe=-1;function md(t){return t==null}function Pu(t){return t===0&&1/t==-1/0}function eV(t){return typeof t=="number"&&Number.isInteger(t)&&!Pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=o??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(e){return new Q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new mt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VT("Invalid base64 string: "+o):o}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const tV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(be(!!t),typeof t=="string"){let e=0;const n=tV.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xm(t){const e=t.mapValue.fields.__previous_value__;return Ym(e)?Xm(e):e}function el(t){const e=Ei(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class tl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:iV(t)?9007199254740991:rV(t)?10:11:ie()}function Zn(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return el(t).isEqual(el(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ei(i.timestampValue),a=Ei(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return no(i.bytesValue).isEqual(no(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ke(i.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ke(i.integerValue)===Ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ke(i.doubleValue),a=Ke(o.doubleValue);return s===a?Pu(s)===Pu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return fs(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(K0(s)!==K0(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Zn(s[c],a[c])))return!1;return!0}(t,e);default:return ie()}}function nl(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function ps(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ke(o.integerValue||o.doubleValue),c=Ke(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Y0(t.timestampValue,e.timestampValue);case 4:return Y0(el(t),el(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=no(o),c=no(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=xe(a[u],c[u]);if(d!==0)return d}return xe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=xe(Ke(o.latitude),Ke(s.latitude));return a!==0?a:xe(Ke(o.longitude),Ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return X0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;const f=o.fields||{},g=s.fields||{},p=(a=f.value)===null||a===void 0?void 0:a.arrayValue,S=(c=g.value)===null||c===void 0?void 0:c.arrayValue,w=xe(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=S==null?void 0:S.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:X0(p,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===xc.mapValue&&s===xc.mapValue)return 0;if(o===xc.mapValue)return 1;if(s===xc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const g=xe(c[f],d[f]);if(g!==0)return g;const p=ps(a[c[f]],u[d[f]]);if(p!==0)return p}return xe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ie()}}function Y0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Ei(t),r=Ei(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function X0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ps(n[i],r[i]);if(o)return o}return xe(n.length,r.length)}function ms(t){return ap(t)}function ap(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return no(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ap(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ap(n.fields[s])}`;return i+"}"}(t.mapValue):ie()}function J0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lp(t){return!!t&&"integerValue"in t}function Jm(t){return!!t&&"arrayValue"in t}function Z0(t){return!!t&&"nullValue"in t}function e_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bc(t){return!!t&&"mapValue"in t}function rV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ia(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ia(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ia(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ia(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zt(Ia(this.value))}}function $T(t){const e=[];return uo(t.fields,(n,r)=>{const i=new ft([n]);if(Bc(r)){const o=$T(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,ae.min(),ae.min(),ae.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,ae.min(),ae.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ae.min(),ae.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.position=e,this.inclusive=n}}function t_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),n.key):r=ps(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function oV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class Ze extends FT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aV(e,n,r):n==="array-contains"?new uV(e,r):n==="in"?new dV(e,r):n==="not-in"?new hV(e,r):n==="array-contains-any"?new fV(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lV(e,r):new cV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ps(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends FT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dn(e,n)}matches(e){return jT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jT(t){return t.op==="and"}function UT(t){return sV(t)&&jT(t)}function sV(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function cp(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+ms(t.value);if(UT(t))return t.filters.map(e=>cp(e)).join(",");{const e=t.filters.map(n=>cp(n)).join(",");return`${t.op}(${e})`}}function BT(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BT(s,i.filters[a]),!0):!1}(t,e):void ie()}function zT(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${ms(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(zT).join(" ,")+"}"}(t):"Filter"}class aV extends Ze{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class lV extends Ze{constructor(e,n){super(e,"in",n),this.keys=WT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cV extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=WT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class uV extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&nl(n.arrayValue,this.value)}}class dV extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nl(this.value.arrayValue,n)}}class hV extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nl(this.value.arrayValue,n)}}class fV extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function r_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new pV(t,e,n,r,i,o,s)}function Zm(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ms(r)).join(",")),e.ue=n}return e.ue}function eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n_(t.startAt,e.startAt)&&n_(t.endAt,e.endAt)}function up(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mV(t,e,n,r,i,o,s,a){return new Ps(t,e,n,r,i,o,s,a)}function gd(t){return new Ps(t)}function i_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HT(t){return t.collectionGroup!==null}function ba(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mt(ft.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new rl(o,r))}),n.has(ft.keyField().canonicalString())||e.ce.push(new rl(ft.keyField(),r))}return e.ce}function Qn(t){const e=le(t);return e.le||(e.le=gV(e,ba(t))),e.le}function gV(t,e){if(t.limitType==="F")return r_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new rl(i.field,o)});const n=t.endAt?new ku(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ku(t.startAt.position,t.startAt.inclusive):null;return r_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dp(t,e){const n=t.filters.concat([e]);return new Ps(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hp(t,e,n){return new Ps(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return eg(Qn(t),Qn(e))&&t.limitType===e.limitType}function qT(t){return`${Zm(Qn(t))}|lt:${t.limitType}`}function Co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zT(i)).join(", ")}]`),md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ms(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ms(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function yd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ba(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){const u=t_(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,ba(r),i)||r.endAt&&!function(s,a,c){const u=t_(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,ba(r),i))}(t,e)}function vV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GT(t){return(e,n)=>{let r=!1;for(const i of ba(t)){const o=yV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yV(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ps(c,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return LT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new We(Z.comparator);function Pr(){return _V}const KT=new We(Z.comparator);function ua(...t){let e=KT;for(const n of t)e=e.insert(n.key,n);return e}function QT(t){let e=KT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Ca()}function YT(){return Ca()}function Ca(){return new ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const wV=new We(Z.comparator),EV=new mt(Z.comparator);function me(...t){let e=EV;for(const n of t)e=e.add(n);return e}const xV=new mt(xe);function TV(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pu(e)?"-0":e}}function XT(t){return{integerValue:""+t}}function SV(t,e){return eV(e)?XT(e):tg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function IV(t,e,n){return t instanceof Nu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ym(o)&&(o=Xm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof il?ZT(t,e):t instanceof ol?eS(t,e):function(i,o){const s=JT(i,o),a=o_(s)+o_(i.Pe);return lp(s)&&lp(i.Pe)?XT(a):tg(i.serializer,a)}(t,e)}function bV(t,e,n){return t instanceof il?ZT(t,e):t instanceof ol?eS(t,e):n}function JT(t,e){return t instanceof Du?function(r){return lp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nu extends _d{}class il extends _d{constructor(e){super(),this.elements=e}}function ZT(t,e){const n=tS(e);for(const r of t.elements)n.some(i=>Zn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ol extends _d{constructor(e){super(),this.elements=e}}function eS(t,e){let n=tS(e);for(const r of t.elements)n=n.filter(i=>!Zn(i,r));return{arrayValue:{values:n}}}class Du extends _d{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function o_(t){return Ke(t.integerValue||t.doubleValue)}function tS(t){return Jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof il&&i instanceof il||r instanceof ol&&i instanceof ol?fs(r.elements,i.elements,Zn):r instanceof Du&&i instanceof Du?Zn(r.Pe,i.Pe):r instanceof Nu&&i instanceof Nu}(t.transform,e.transform)}class AV{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function nS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iS(t.key,Yn.none()):new wl(t.key,t.data,Yn.none());{const n=t.data,r=zt.empty();let i=new mt(ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new bi(t.key,r,new Jt(i.toArray()),Yn.none())}}function RV(t,e,n){t instanceof wl?function(i,o,s){const a=i.value.clone(),c=a_(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(i,o,s){if(!zc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=a_(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(rS(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Aa(t,e,n,r){return t instanceof wl?function(o,s,a,c){if(!zc(o.precondition,s))return a;const u=o.value.clone(),d=l_(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bi?function(o,s,a,c){if(!zc(o.precondition,s))return a;const u=l_(o.fieldTransforms,c,s),d=s.data;return d.setAll(rS(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return zc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function PV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=JT(r.transform,i||null);o!=null&&(n===null&&(n=zt.empty()),n.set(r.field,o))}return n||null}function s_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fs(r,i,(o,s)=>CV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wl extends wd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bi extends wd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a_(t,e,n){const r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,bV(s,a,n[i]))}return r}function l_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,IV(o,s,e))}return r}class iS extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kV extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&RV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Aa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Aa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=nS(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(n,r)=>s_(n,r))&&fs(this.baseMutations,e.baseMutations,(n,r)=>s_(n,r))}}class ng{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return wV}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ng(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,_e;function MV(t){switch(t){default:return ie();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function oS(t){if(t===void 0)return Rr("GRPC error has no .code"),j.UNKNOWN;switch(t){case Xe.OK:return j.OK;case Xe.CANCELLED:return j.CANCELLED;case Xe.UNKNOWN:return j.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return j.INTERNAL;case Xe.UNAVAILABLE:return j.UNAVAILABLE;case Xe.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Xe.NOT_FOUND:return j.NOT_FOUND;case Xe.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Xe.ABORTED:return j.ABORTED;case Xe.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Xe.DATA_LOSS:return j.DATA_LOSS;default:return ie()}}(_e=Xe||(Xe={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new zi([4294967295,4294967295],0);function c_(t){const e=LV().encode(t),n=new AT;return n.update(e),new Uint8Array(n.digest())}function u_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zi([n,r],0),new zi([i,o],0)]}class rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new da(`Invalid padding: ${n}`);if(r<0)throw new da(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new da(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new da(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(zi.fromNumber(r)));return i.compare(VV)===1&&(i=new zi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=c_(e),[r,i]=u_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new rg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=c_(e),[r,i]=u_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ed(ae.min(),i,new We(xe),Pr(),me())}}class El{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new El(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class sS{constructor(e,n){this.targetId=e,this.me=n}}class aS{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d_{constructor(){this.fe=0,this.ge=f_(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new El(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=f_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $V{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=h_(),this.Qe=new We(xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(up(o))if(r===0){const s=new Z(o.path);this.Ue(n,s,Ct.newNoDocument(s,ae.min()))}else be(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=no(r).toUint8Array()}catch(c){if(c instanceof VT)return hs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new rg(s,i,o)}catch(c){return hs(c instanceof da?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&up(a.target)){const c=new Z(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Ct.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ed(e,n,this.Qe,this.ke,r);return this.ke=Pr(),this.qe=h_(),this.Qe=new We(xe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new d_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new d_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function h_(){return new We(Z.comparator)}function f_(){return new We(Z.comparator)}const FV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),jV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),UV=(()=>({and:"AND",or:"OR"}))();class BV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(t,e){return t.useProto3Json||md(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zV(t,e){return Ou(t,e.toTimestamp())}function Xn(t){return be(!!t),ae.fromTimestamp(function(n){const r=Ei(n);return new et(r.seconds,r.nanos)}(t))}function ig(t,e){return pp(t,e).canonicalString()}function pp(t,e){const n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cS(t){const e=Oe.fromString(t);return be(pS(e)),e}function mp(t,e){return ig(t.databaseId,e.path)}function Uh(t,e){const n=cS(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(dS(n))}function uS(t,e){return ig(t.databaseId,e)}function WV(t){const e=cS(t);return e.length===4?Oe.emptyPath():dS(e)}function gp(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dS(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function p_(t,e,n){return{name:mp(t,e),fields:n.value.mapValue.fields}}function HV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(be(d===void 0||typeof d=="string"),yt.fromBase64String(d||"")):(be(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?j.UNKNOWN:oS(u.code);return new Q(d,u.message||"")}(s);n=new aS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uh(t,r.document.name),o=Xn(r.document.updateTime),s=r.document.createTime?Xn(r.document.createTime):ae.min(),a=new zt({mapValue:{fields:r.document.fields}}),c=Ct.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Wc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uh(t,r.document),o=r.readTime?Xn(r.readTime):ae.min(),s=Ct.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Wc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uh(t,r.document),o=r.removedTargetIds||[];n=new Wc([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new OV(i,o),a=r.targetId;n=new sS(a,s)}}return n}function qV(t,e){let n;if(e instanceof wl)n={update:p_(t,e.key,e.value)};else if(e instanceof iS)n={delete:mp(t,e.key)};else if(e instanceof bi)n={update:p_(t,e.key,e.data),updateMask:t4(e.fieldMask)};else{if(!(e instanceof kV))return ie();n={verify:mp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof il)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ol)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Du)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),n}function GV(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Xn(i.updateTime):Xn(o);return s.isEqual(ae.min())&&(s=Xn(o)),new AV(s,i.transformResults||[])}(n,e))):[]}function KV(t,e){return{documents:[uS(t,e.path)]}}function QV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uS(t,i);const o=function(u){if(u.length!==0)return fS(Dn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Ao(g.field),direction:JV(g.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=fp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function YV(t){let e=WV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const g=hS(f);return g instanceof Dn&&UT(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(g=>function(S){return new rl(Ro(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,md(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){const g=!!f.before,p=f.values||[];return new ku(p,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,p=f.values||[];return new ku(p,g)}(n.endAt)),mV(e,i,s,o,a,"F",c,u)}function XV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ro(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ro(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ro(n.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ro(n.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Ro(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>hS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function JV(t){return FV[t]}function ZV(t){return jV[t]}function e4(t){return UV[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function Ro(t){return ft.fromServerFormat(t.fieldPath)}function fS(t){return t instanceof Ze?function(n){if(n.op==="=="){if(e_(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e_(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:ZV(n.op),value:n.value}}}(t):t instanceof Dn?function(n){const r=n.getFilters().map(i=>fS(i));return r.length===1?r[0]:{compositeFilter:{op:e4(n.op),filters:r}}}(t):ie()}function t4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r,i,o=ae.min(),s=ae.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.ct=e}}function r4(t){const e=YV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.un=new o4}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(wi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class o4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new gs(0)}static kn(){return new gs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.changes=new ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Aa(r.mutation,i,Jt.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ua();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Pr();const s=Ca(),a=function(){return Ca()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof bi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Aa(d.mutation,u,d.mutation.getFieldMask(),et.now())):s.set(u.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new a4(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ca();let i=new We((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Jt.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(i.get(a.batchId)||me()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=YT();d.forEach(g=>{if(!o.has(g)){const p=nS(n.get(g),r.get(g));p!==null&&f.set(g,p),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(ji());let a=-1,c=o;return s.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,me())).next(d=>({batchId:a,changes:QT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ua();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,c=>{const u=function(f,g){return new Ps(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Ct.newInvalidDocument(d)))});let a=ua();return s.forEach((c,u)=>{const d=o.get(c);d!==void 0&&Aa(d.mutation,u,Jt.empty(),et.now()),yd(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:r4(i.bundledQuery),readTime:Xn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.overlays=new We(Z.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ji();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ji(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new We((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ji(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ji(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new DV(n,r));let o=this.Ir.get(n);o===void 0&&(o=me(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Tr=new mt(rt.Er),this.dr=new mt(rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Z(new Oe([])),r=new rt(n,e),i=new rt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Z(new Oe([])),r=new rt(n,e),i=new rt(n,e+1);let o=me();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||xe(e.wr,n.wr)}static Ar(e,n){return xe(e.wr,n.wr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mt(rt.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new NV(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(xe);return n.forEach(i=>{const o=new rt(i,0),s=new rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Z.isDocumentKey(o)||(o=o.child(""));const s=new rt(new Z(o),0);let a=new mt(xe);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const o=new rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new rt(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.Mr=e,this.docs=function(){return new We(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ct.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pr();const s=n.path,a=new Z(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||YL(QL(d),r)<=0||(i.has(d.key)||yd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p4(this)}getSize(e){return U.resolve(this.size)}}class p4 extends s4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.persistence=e,this.Nr=new ks(n=>Zm(n),eg),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new og,this.targetCount=0,this.kr=gs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new gs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Qm(0),this.Kr=!1,this.Kr=!0,this.$r=new d4,this.referenceDelegate=e(this),this.Ur=new m4(this),this.indexManager=new i4,this.remoteDocumentCache=function(i){return new f4(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new n4(n),this.Gr=new c4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new h4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new v4(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class v4 extends JL{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Jr=new og,this.Yr=null}static Zr(e){return new sg(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=Z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ag(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ED()?8:ZL(kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new y4;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ia()<=ve.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(ia()<=ve.DEBUG&&X("QueryEngine","Query:",Co(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ia()<=ve.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):U.resolve())}Yi(e,n){if(i_(n))return U.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hp(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=me(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,a);return this.ns(n,u,s,c.readTime)?this.Yi(e,hp(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return i_(n)||i.isEqual(ae.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?U.resolve(null):(ia()<=ve.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Co(n)),this.rs(e,s,n,KL(i,-1)).next(a=>a))})}ts(e,n){let r=new mt(GT(e));return n.forEach((i,o)=>{yd(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ia()<=ve.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Co(n)),this.Ji.getDocumentsMatchingQuery(e,n,wi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new We(xe),this._s=new ks(o=>Zm(o),eg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function E4(t,e,n,r){return new w4(t,e,n,r)}async function mS(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=me();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function x4(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,g=f.keys();let p=U.resolve();return g.forEach(S=>{p=p.next(()=>d.getEntry(c,S)).next(w=>{const C=u.docVersions.get(S);be(C!==null),w.version.compareTo(C)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gS(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function T4(t,e){const n=le(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const g=i.get(f);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let p=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(yt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(w,C,_){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,p,d)&&a.push(n.Ur.updateTargetData(o,p))});let c=Pr(),u=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(S4(o,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(ae.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=i,o))}function S4(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pr();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function I4(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function b4(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Zr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function vp(t,e,n){const r=le(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!_l(s))throw s;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function m_(t,e,n){const r=le(t);let i=ae.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=le(c),g=f._s.get(d);return g!==void 0?U.resolve(f.os.get(g)):f.Ur.getTargetData(u,d)}(r,s,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:me())).next(a=>(C4(r,vV(e),a),{documents:a,Ts:o})))}function C4(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class g_{constructor(){this.activeTargetIds=TV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A4{constructor(){this.so=new g_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function Bh(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class N4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Bh(),c=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,c,u,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw hs("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=P4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Bh();return new Promise((s,a)=>{const c=new RT;c.setWithCredentials(!0),c.listenOnce(PT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Uc.NO_ERROR:const d=c.getResponseJson();X(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Uc.TIMEOUT:X(St,`RPC '${e}' ${o} timed out`),a(new Q(j.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const f=c.getStatus();if(X(St,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const S=function(C){const _=C.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(p.status);a(new Q(S,p.message))}else a(new Q(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Q(j.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{X(St,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);X(St,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Bh(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DT(),a=NT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");X(St,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=s.createWebChannel(d,c);let g=!1,p=!1;const S=new k4({Io:C=>{p?X(St,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(X(St,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),X(St,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},To:()=>f.close()}),w=(C,_,v)=>{C.listen(_,E=>{try{v(E)}catch(k){setTimeout(()=>{throw k},0)}})};return w(f,ca.EventType.OPEN,()=>{p||(X(St,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),w(f,ca.EventType.CLOSE,()=>{p||(p=!0,X(St,`RPC '${e}' stream ${i} transport closed`),S.So())}),w(f,ca.EventType.ERROR,C=>{p||(p=!0,hs(St,`RPC '${e}' stream ${i} transport errored:`,C),S.So(new Q(j.UNAVAILABLE,"The operation could not be completed")))}),w(f,ca.EventType.MESSAGE,C=>{var _;if(!p){const v=C.data[0];be(!!v);const E=v,k=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(k){X(St,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let L=function(A){const R=Xe[A];if(R!==void 0)return oS(R)}(O),I=k.message;L===void 0&&(L=j.INTERNAL,I="Unknown error status: "+O+" with message "+k.message),p=!0,S.So(new Q(L,I)),f.close()}else X(St,`RPC '${e}' stream ${i} received:`,v),S.bo(v)}}),w(a,kT.STAT_EVENT,C=>{C.stat===sp.PROXY?X(St,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===sp.NOPROXY&&X(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){return new BV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D4 extends yS{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=HV(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Xn(s.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=gp(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=up(c)?{documents:KV(o,c)}:{query:QV(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=lS(o,s.resumeToken);const u=fp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Ou(o,s.snapshotVersion.toTimestamp());const u=fp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=XV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=gp(this.serializer),n.removeTarget=e,this.a_(n)}}class O4 extends yS{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=GV(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=gp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,pp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(j.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,pp(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(j.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class L4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Rr(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{ho(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=le(c);u.L_.add(4),await xl(u),u.q_.set("Unknown"),u.L_.delete(4),await Td(u)}(this))})}),this.q_=new L4(r,i)}}async function Td(t){if(ho(t))for(const e of t.B_)await e(!0)}async function xl(t){for(const e of t.B_)await e(!1)}function _S(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),dg(n)?ug(n):Ns(n).r_()&&cg(n,e))}function lg(t,e){const n=le(t),r=Ns(n);n.N_.delete(e),r.r_()&&wS(n,e),n.N_.size===0&&(r.r_()?r.o_():ho(n)&&n.q_.set("Unknown"))}function cg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ns(t).A_(e)}function wS(t,e){t.Q_.xe(e),Ns(t).R_(e)}function ug(t){t.Q_=new $V({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ns(t).start(),t.q_.v_()}function dg(t){return ho(t)&&!Ns(t).n_()&&t.N_.size>0}function ho(t){return le(t).L_.size===0}function ES(t){t.Q_=void 0}async function $4(t){t.q_.set("Online")}async function F4(t){t.N_.forEach((e,n)=>{cg(t,e)})}async function j4(t,e){ES(t),dg(t)?(t.q_.M_(e),ug(t)):t.q_.set("Unknown")}async function U4(t,e,n){if(t.q_.set("Online"),e instanceof aS&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mu(t,r)}else if(e instanceof Wc?t.Q_.Ke(e):e instanceof sS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await gS(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),wS(o,c);const f=new Zr(d.target,c,u,d.sequenceNumber);cg(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Mu(t,r)}}async function Mu(t,e,n){if(!_l(e))throw e;t.L_.add(1),await xl(t),t.q_.set("Offline"),n||(n=()=>gS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Td(t)})}function xS(t,e){return e().catch(n=>Mu(t,n,e))}async function Sd(t){const e=le(t),n=xi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B4(e);)try{const i=await I4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,z4(e,i)}catch(i){await Mu(e,i)}TS(e)&&SS(e)}function B4(t){return ho(t)&&t.O_.length<10}function z4(t,e){t.O_.push(e);const n=xi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function TS(t){return ho(t)&&!xi(t).n_()&&t.O_.length>0}function SS(t){xi(t).start()}async function W4(t){xi(t).p_()}async function H4(t){const e=xi(t);for(const n of t.O_)e.m_(n.mutations)}async function q4(t,e,n){const r=t.O_.shift(),i=ng.from(r,e,n);await xS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sd(t)}async function G4(t,e){e&&xi(t).V_&&await async function(r,i){if(function(s){return MV(s)&&s!==j.ABORTED}(i.code)){const o=r.O_.shift();xi(r).s_(),await xS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sd(r)}}(t,e),TS(t)&&SS(t)}async function y_(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ho(n);n.L_.add(3),await xl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Td(n)}async function K4(t,e){const n=le(t);e?(n.L_.delete(2),await Td(n)):e||(n.L_.add(2),await xl(n),n.q_.set("Unknown"))}function Ns(t){return t.K_||(t.K_=function(n,r,i){const o=le(n);return o.w_(),new D4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$4.bind(null,t),Ro:F4.bind(null,t),mo:j4.bind(null,t),d_:U4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),dg(t)?ug(t):t.q_.set("Unknown")):(await t.K_.stop(),ES(t))})),t.K_}function xi(t){return t.U_||(t.U_=function(n,r,i){const o=le(n);return o.w_(),new O4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:W4.bind(null,t),mo:G4.bind(null,t),f_:H4.bind(null,t),g_:q4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sd(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new hg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),_l(t))return new Q(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ua(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new es(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof es)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new es;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.W_=new We(Z.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vs{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new vs(e,n,es.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Y4{constructor(){this.queries=w_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=le(n),o=i.queries;i.queries=w_(),o.forEach((s,a)=>{for(const c of a.j_)c.onError(r)})})(this,new Q(j.ABORTED,"Firestore shutting down"))}}function w_(){return new ks(t=>qT(t),vd)}async function IS(t,e){const n=le(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Q4,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=fg(s,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&pg(n)}async function bS(t,e){const n=le(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X4(t,e){const n=le(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&pg(n)}function J4(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function pg(t){t.Y_.forEach(e=>{e.next()})}var yp,E_;(E_=yp||(yp={})).ea="default",E_.Cache="cache";class CS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.key=e}}class RS{constructor(e){this.key=e}}class Z4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=GT(e),this.Ra=new es(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new __,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const g=i.get(d),p=yd(this.query,f)?f:null,S=!!g&&this.mutatedKeys.has(g.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let C=!1;g&&p?g.data.isEqual(p.data)?S!==w&&(r.track({type:3,doc:p}),C=!0):this.ga(g,p)||(r.track({type:2,doc:p}),C=!0,(c&&this.Aa(p,c)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),C=!0):g&&!p&&(r.track({type:1,doc:g}),C=!0,(c||u)&&(a=!0)),C&&(p?(s=s.add(p),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,f)=>function(p,S){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return w(p)-w(S)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new vs(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new RS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new AS(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class e${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t${constructor(e){this.key=e,this.va=!1}}class n${constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ks(a=>qT(a),vd),this.Ma=new Map,this.xa=new Set,this.Oa=new We(Z.comparator),this.Na=new Map,this.La=new og,this.Ba={},this.ka=new Map,this.qa=gs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function r$(t,e,n=!0){const r=MS(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await PS(r,e,n,!0),i}async function i$(t,e){const n=MS(t);await PS(n,e,!0,!1)}async function PS(t,e,n,r){const i=await b4(t.localStore,Qn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await o$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&_S(t.remoteStore,i),a}async function o$(t,e,n,r,i){t.Ka=(f,g,p)=>async function(w,C,_,v){let E=C.view.ma(_);E.ns&&(E=await m_(w.localStore,C.query,!1).then(({documents:I})=>C.view.ma(I,E)));const k=v&&v.targetChanges.get(C.targetId),O=v&&v.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(E,w.isPrimaryClient,k,O);return T_(w,C.targetId,L.wa),L.snapshot}(t,f,g,p);const o=await m_(t.localStore,e,!0),s=new Z4(e,o.Ts),a=s.ma(o.documents),c=El.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);T_(t,n,u.wa);const d=new e$(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function s$(t,e,n){const r=le(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!vd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lg(r.remoteStore,i.targetId),_p(r,i.targetId)}).catch(yl)):(_p(r,i.targetId),await vp(r.localStore,i.targetId,!0))}async function a$(t,e){const n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lg(n.remoteStore,r.targetId))}async function l$(t,e,n){const r=m$(t);try{const i=await function(s,a){const c=le(s),u=et.now(),d=a.reduce((p,S)=>p.add(S.key),me());let f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=Pr(),w=me();return c.cs.getEntries(p,d).next(C=>{S=C,S.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,S)).next(C=>{f=C;const _=[];for(const v of a){const E=PV(v,f.get(v.key).overlayedDocument);E!=null&&_.push(new bi(v.key,E,$T(E.value.mapValue),Yn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,_,a)}).next(C=>{g=C;const _=C.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(p,C.batchId,_)})}).then(()=>({batchId:g.batchId,changes:QT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new We(xe)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Tl(r,i.changes),await Sd(r.remoteStore)}catch(i){const o=fg(i,"Failed to persist write");n.reject(o)}}async function kS(t,e){const n=le(t);try{const r=await T4(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?be(s.va):i.removedDocuments.size>0&&(be(s.va),s.va=!1))}),await Tl(n,r,e)}catch(r){await yl(r)}}function x_(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=le(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const g of f.j_)g.Z_(a)&&(u=!0)}),u&&pg(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c$(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new We(Z.comparator);s=s.insert(o,Ct.newNoDocument(o,ae.min()));const a=me().add(o),c=new Ed(ae.min(),new Map,new We(xe),s,a);await kS(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),mg(r)}else await vp(r.localStore,e,!1).then(()=>_p(r,e,n)).catch(yl)}async function u$(t,e){const n=le(t),r=e.batch.batchId;try{const i=await x4(n.localStore,e);DS(n,r,null),NS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tl(n,i)}catch(i){await yl(i)}}async function d$(t,e,n){const r=le(t);try{const i=await function(s,a){const c=le(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(be(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);DS(r,e,n),NS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tl(r,i)}catch(i){await yl(i)}}function NS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function DS(t,e,n){const r=le(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _p(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||OS(t,r)})}function OS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(lg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),mg(t))}function T_(t,e,n){for(const r of n)r instanceof AS?(t.La.addReference(r.key,e),h$(t,r)):r instanceof RS?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||OS(t,r.key)):ie()}function h$(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),mg(t))}function mg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Z(Oe.fromString(e)),r=t.qa.next();t.Na.set(r,new t$(n)),t.Oa=t.Oa.insert(n,r),_S(t.remoteStore,new Zr(Qn(gd(n.path)),r,"TargetPurposeLimboResolution",Qm.oe))}}async function Tl(t,e,n){const r=le(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ag.Wi(c.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(c,u){const d=le(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,g=>U.forEach(g.$i,p=>d.persistence.referenceDelegate.addReference(f,g.targetId,p)).next(()=>U.forEach(g.Ui,p=>d.persistence.referenceDelegate.removeReference(f,g.targetId,p)))))}catch(f){if(!_l(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const p=d.os.get(g),S=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(S);d.os=d.os.insert(g,w)}}}(r.localStore,o))}async function f$(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await mS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new Q(j.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tl(n,r.hs)}}function p$(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function MS(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c$.bind(null,e),e.Ca.d_=X4.bind(null,e.eventManager),e.Ca.$a=J4.bind(null,e.eventManager),e}function m$(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d$.bind(null,e),e}class Lu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return E4(this.persistence,new _4,e.initialUser,this.serializer)}Ga(e){return new g4(sg.Zr,this.serializer)}Wa(e){return new A4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lu.provider={build:()=>new Lu};class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f$.bind(null,this.syncEngine),await K4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y4}()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),r=function(o){return new N4(o)}(e.databaseInfo);return function(o,s,a,c){return new M4(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new V4(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x_(this.syncEngine,n,0),function(){return v_.D()?new v_:new R4}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,d){const f=new n$(i,o,s,a,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=le(i);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await xl(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=MT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wh(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function S_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v$(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>y_(e.remoteStore,i)),t._onlineComponents=e}async function v$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;hs("Error using user provided cache. Falling back to memory cache: "+n),await Wh(t,new Lu)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Wh(t,new Lu);return t._offlineComponents}async function VS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await S_(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await S_(t,new wp))),t._onlineComponents}function y$(t){return VS(t).then(e=>e.syncEngine)}async function Ep(t){const e=await VS(t),n=e.eventManager;return n.onListen=r$.bind(null,e.syncEngine),n.onUnlisten=s$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a$.bind(null,e.syncEngine),n}function _$(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,c,u){const d=new LS({next:g=>{d.Za(),s.enqueueAndForget(()=>bS(o,f));const p=g.docs.has(a);!p&&g.fromCache?u.reject(new Q(j.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&c&&c.source==="server"?u.reject(new Q(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new CS(gd(a.path),d,{includeMetadataChanges:!0,_a:!0});return IS(o,f)}(await Ep(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e,n){if(!n)throw new Q(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w$(t,e,n,r){if(e===!0&&r===!0)throw new Q(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b_(t){if(!Z.isDocumentKey(t))throw new Q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C_(t){if(Z.isDocumentKey(t))throw new Q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(t);throw new Q(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FL;switch(r.type){case"firstParty":return new zL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=I_.get(n);r&&(X("ComponentProvider","Removing Datastore"),I_.delete(n),r.terminate())}(this),Promise.resolve()}}function E$(t,e,n,r={}){var i;const o=(t=yr(t,bd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=It.MOCK_USER;else{a=pD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new It(u)}t._authCredentials=new jL(new OT(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class pi extends fo{constructor(e,n,r){super(e,n,gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Z(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function jS(t,e,...n){if(t=vt(t),FS("collection","path",e),t instanceof bd){const r=Oe.fromString(e,...n);return C_(r),new pi(t,null,r)}{if(!(t instanceof Ot||t instanceof pi))throw new Q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return C_(r),new pi(t.firestore,null,r)}}function Cd(t,e,...n){if(t=vt(t),arguments.length===1&&(e=MT.newId()),FS("doc","path",e),t instanceof bd){const r=Oe.fromString(e,...n);return b_(r),new Ot(t,null,new Z(r))}{if(!(t instanceof Ot||t instanceof pi))throw new Q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return b_(r),new Ot(t.firestore,t instanceof pi?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vS(this,"async_queue_retry"),this.Vu=()=>{const r=zh();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new fi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_l(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=hg.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function P_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ys extends bd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function x$(t,e){const n=typeof t=="object"?t:qx(),r=typeof t=="string"?t:e||"(default)",i=jm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=hD("firestore");o&&E$(i,...o)}return i}function gg(t){if(t._terminated)throw new Q(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T$(t),t._firestoreClient}function T$(t){var e,n,r;const i=t._freezeSettings(),o=function(a,c,u,d){return new nV(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$S(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new g$(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(yt.fromBase64String(e))}catch(n){throw new Q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _s(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=/^__.*__$/;class I${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new wl(e,this.data,n,this.fieldTransforms)}}class US{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class wg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BS(this.Cu)&&S$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class b${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xd(e)}Qu(e,n,r,i=!1){return new wg({Cu:e,methodName:n,qu:r,path:ft.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new b$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function C$(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);xg("Data must be an object, but it was:",s,r);const a=zS(r,s);let c,u;if(o.merge)c=new Jt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const g=xp(e,f,n);if(!s.contains(g))throw new Q(j.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);HS(d,g)||d.push(g)}c=new Jt(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new I$(new zt(a),c,u)}class Rd extends vg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}function A$(t,e,n,r){const i=t.Qu(1,e,n);xg("Data must be an object, but it was:",i,r);const o=[],s=zt.empty();uo(r,(c,u)=>{const d=Tg(e,c,n);u=vt(u);const f=i.Nu(d);if(u instanceof Rd)o.push(d);else{const g=Sl(u,f);g!=null&&(o.push(d),s.set(d,g))}});const a=new Jt(o);return new US(s,a,i.fieldTransforms)}function R$(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[xp(e,r,n)],c=[i];if(o.length%2!=0)throw new Q(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(xp(e,o[g])),c.push(o[g+1]);const u=[],d=zt.empty();for(let g=a.length-1;g>=0;--g)if(!HS(u,a[g])){const p=a[g];let S=c[g];S=vt(S);const w=s.Nu(p);if(S instanceof Rd)u.push(p);else{const C=Sl(S,w);C!=null&&(u.push(p),d.set(p,C))}}const f=new Jt(u);return new US(d,f,s.fieldTransforms)}function P$(t,e,n,r=!1){return Sl(n,t.Qu(r?4:3,e))}function Sl(t,e){if(WS(t=vt(t)))return xg("Unsupported field value:",e,t),zS(t,e);if(t instanceof vg)return function(r,i){if(!BS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=Sl(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=et.fromDate(r);return{timestampValue:Ou(i.serializer,o)}}if(r instanceof et){const o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ou(i.serializer,o)}}if(r instanceof yg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _s)return{bytesValue:lS(i.serializer,r._byteString)};if(r instanceof Ot){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ig(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _g)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return tg(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Id(r)}`)}(t,e)}function zS(t,e){const n={};return LT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(r,i)=>{const o=Sl(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function WS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof yg||t instanceof _s||t instanceof Ot||t instanceof vg||t instanceof _g)}function xg(t,e,n){if(!WS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Id(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function xp(t,e,n){if((e=vt(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return Tg(t,e);throw Vu("Field path arguments must be of type string or ",t,!1,void 0,n)}const k$=new RegExp("[~\\*/\\[\\]]");function Tg(t,e,n){if(e.search(k$)>=0)throw Vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ad(...e.split("."))._internalPath}catch{throw Vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Q(j.INVALID_ARGUMENT,a+t+c)}function HS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N$ extends qS{data(){return super.data()}}function Pd(t,e){return typeof e=="string"?Tg(t,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class GS extends Sg{}function O$(t,e,...n){let r=[];e instanceof Sg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Ig).length,a=o.filter(c=>c instanceof kd).length;if(s>1||s>0&&a>0)throw new Q(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kd extends GS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kd(e,n,r)}_apply(e){const n=this._parse(e);return KS(e._query,n),new fo(e.firestore,e.converter,dp(e._query,n))}_parse(e){const n=Eg(e.firestore);return function(o,s,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){N_(f,d);const p=[];for(const S of f)p.push(k_(c,o,S));g={arrayValue:{values:p}}}else g=k_(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||N_(f,d),g=P$(a,s,f,d==="in"||d==="not-in");return Ze.create(u,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function M$(t,e,n){const r=e,i=Pd("where",t);return kd._create(i,r,n)}class Ig extends Sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ig(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)KS(s,c),s=dp(s,c)}(e._query,n),new fo(e.firestore,e.converter,dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends GS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bg(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new Q(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rl(o,s)}(e._query,this._field,this._direction);return new fo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Ps(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function L$(t,e="asc"){const n=e,r=Pd("orderBy",t);return bg._create(r,n)}function k_(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new Q(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HT(e)&&n.indexOf("/")!==-1)throw new Q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!Z.isDocumentKey(r))throw new Q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return J0(t,new Z(r))}if(n instanceof Ot)return J0(t,n._key);throw new Q(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function N_(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KS(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V${convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ke(s.doubleValue));return new _g(o)}convertGeoPoint(e){return new yg(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(el(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);be(pS(r));const i=new tl(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QS extends qS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hc extends QS{data(e={}){return super.data(e)}}class F${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hc(this._firestore,this._userDataWriter,r.key,r,new ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const c=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const c=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:j$(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function j$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t){t=yr(t,Ot);const e=yr(t.firestore,ys);return _$(gg(e),t._key).then(n=>ZS(e,t,n))}class YS extends V${constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function B$(t,e,n,...r){t=yr(t,Ot);const i=yr(t.firestore,ys),o=Eg(i);let s;return s=typeof(e=vt(e))=="string"||e instanceof Ad?R$(o,"updateDoc",t._key,e,n,r):A$(o,"updateDoc",t._key,e),JS(i,[s.toMutation(t._key,Yn.exists(!0))])}function z$(t,e){const n=yr(t.firestore,ys),r=Cd(t),i=$$(t.converter,e);return JS(n,[C$(Eg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function XS(t,...e){var n,r,i;t=vt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||P_(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(P_(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Ot)u=yr(t.firestore,ys),d=gd(t._key.path),c={next:f=>{e[s]&&e[s](ZS(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=yr(t,fo);u=yr(f.firestore,ys),d=f._query;const g=new YS(u);c={next:p=>{e[s]&&e[s](new F$(u,g,f,p))},error:e[s+1],complete:e[s+2]},D$(t._query)}return function(g,p,S,w){const C=new LS(w),_=new CS(p,C,S);return g.asyncQueue.enqueueAndForget(async()=>IS(await Ep(g),_)),()=>{C.Za(),g.asyncQueue.enqueueAndForget(async()=>bS(await Ep(g),_))}}(gg(u),d,a,c)}function JS(t,e){return function(r,i){const o=new fi;return r.asyncQueue.enqueueAndForget(async()=>l$(await y$(r),i,o)),o.promise}(gg(t),e)}function ZS(t,e,n){const r=n.docs.get(e._key),i=new YS(t);return new QS(t,i,e._key,r,new ha(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Rs=i})(Cs),ds(new Zi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ys(new UL(r.getProvider("auth-internal")),new HL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),di(G0,"4.7.3",e),di(G0,"4.7.3","esm2017")})();const W$={apiKey:"AIzaSyAse2I0D2TlfyXXzhoHTraG5R6QEphllVE",authDomain:"spliy-expense-app.firebaseapp.com",projectId:"spliy-expense-app",storageBucket:"spliy-expense-app.firebasestorage.app",messagingSenderId:"530776942195",appId:"1:530776942195:web:5838e23c250d5e721e2c06",measurementId:"G-9ZCE53653E"},eI=Hx(W$),tI=VL(eI),Il=x$(eI),H$=async()=>{try{return(await wM(tI)).user}catch(t){throw console.error("Error signing in anonymously:",t),t}},q$=t=>bM(tI,t),bl="groups",G$=async t=>{try{return(await z$(jS(Il,bl),{...t,memberIds:t.members.map(n=>n.id),createdAt:et.now().toDate().toISOString()})).id}catch(e){throw console.error("Error creating group:",e),e}},Nd=async(t,e)=>{try{const n=Cd(Il,bl,t);await B$(n,e)}catch(n){throw console.error("Error updating group:",n),n}},Cl=async t=>{try{const e=Cd(Il,bl,t),n=await U$(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting group:",e),e}},K$=(t,e)=>{const n=O$(jS(Il,bl),M$("memberIds","array-contains",t),L$("createdAt","desc"));return XS(n,r=>{const i=[];r.forEach(o=>{i.push({id:o.id,...o.data()})}),e(i)},r=>{console.error("Error in groups subscription:",r)})},Q$=(t,e)=>{const n=Cd(Il,bl,t);return XS(n,r=>{r.exists()?e({id:r.id,...r.data()}):e(null)},r=>{console.error("Error in group subscription:",r)})},Y$=async(t,e)=>{try{const n=await Cl(t);if(!n)throw new Error("Group not found");const r={id:Date.now().toString(),...e},i=[...n.members,r],o=[...n.memberIds,r.id];await Nd(t,{members:i,memberIds:o})}catch(n){throw console.error("Error adding member to group:",n),n}},X$=async(t,e)=>{try{const n=await Cl(t);if(!n)throw new Error("Group not found");const r=n.members.filter(o=>o.id!==e),i=n.memberIds.filter(o=>o!==e);await Nd(t,{members:r,memberIds:i})}catch(n){throw console.error("Error removing member from group:",n),n}},J$=async(t,e)=>{try{const n=await Cl(t);if(!n)throw new Error("Group not found");const r={id:Date.now().toString(),createdAt:new Date().toISOString(),...e},i=[...n.expenses,r];await Nd(t,{expenses:i})}catch(n){throw console.error("Error adding expense to group:",n),n}},Z$=async(t,e)=>{try{const n=await Cl(t);if(!n)throw new Error("Group not found");const r=n.expenses.filter(i=>i.id!==e);await Nd(t,{expenses:r})}catch(n){throw console.error("Error removing expense from group:",n),n}};function e5(){const[t,e]=y.useState([]),[n,r]=y.useState(null),[i,o]=y.useState(null),[s,a]=y.useState(!0),[c,u]=y.useState(null);y.useEffect(()=>q$(async E=>{if(E)o(E.uid),a(!1);else try{await H$()}catch(k){console.error("Authentication failed:",k),u("Failed to authenticate. Please refresh the page."),a(!1)}}),[]),y.useEffect(()=>i?K$(i,E=>{if(e(E),!n&&E.length>0&&r(E[0]),n){const k=E.find(O=>O.id===n.id);k?r(k):E.length>0?r(E[0]):r(null)}}):void 0,[i,n]),y.useEffect(()=>n?Q$(n.id,E=>{E&&r(E)}):void 0,[n]);const d=async v=>{if(i)try{const E={name:v.name,description:v.description,members:[{id:i,name:"You",email:""}],memberIds:[i],expenses:[],createdBy:i,createdAt:new Date().toISOString()},k=await G$(E);Fn.success("Group created successfully!");const O=await Cl(k);O&&r(O)}catch(E){console.error("Failed to create group:",E),Fn.error("Failed to create group. Please try again.")}},f=v=>{const E={...v,createdBy:i||""};r(E)},g=async v=>{if(n)try{await Y$(n.id,v),Fn.success("Member added successfully!")}catch(E){console.error("Failed to add member:",E),Fn.error("Failed to add member. Please try again.")}},p=async v=>{if(n)try{await X$(n.id,v),Fn.success("Member removed successfully!")}catch(E){console.error("Failed to remove member:",E),Fn.error("Failed to remove member. Please try again.")}},S=async v=>{if(n)try{await J$(n.id,v),Fn.success("Expense added successfully!")}catch(E){console.error("Failed to add expense:",E),Fn.error("Failed to add expense. Please try again.")}},w=async v=>{if(n)try{await Z$(n.id,v),Fn.success("Expense deleted successfully!")}catch(E){console.error("Failed to delete expense:",E),Fn.error("Failed to delete expense. Please try again.")}},C=()=>{if(!n)return{totalExpenses:0,memberCount:0,expenseCount:0,averageExpense:0};const v=n.expenses.reduce((L,I)=>L+I.amount,0),E=n.members.length,k=n.expenses.length,O=k>0?v/k:0;return{totalExpenses:v,memberCount:E,expenseCount:k,averageExpense:O}};if(s)return T.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:T.jsxs("div",{className:"text-center",children:[T.jsx(hP,{className:"h-12 w-12 animate-spin text-indigo-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"Loading your expense groups..."})]})});if(c)return T.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:T.jsx(un,{className:"max-w-md mx-auto",children:T.jsxs(dn,{className:"p-6 text-center",children:[T.jsx("div",{className:"text-red-500 mb-4",children:T.jsx(Ga,{className:"h-12 w-12 mx-auto"})}),T.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),T.jsx("p",{className:"text-gray-600 mb-4",children:c}),T.jsx(Cn,{onClick:()=>window.location.reload(),children:"Refresh Page"})]})})});const _=C();return n?T.jsxs("div",{className:"h-screen flex bg-gray-50",children:[T.jsx(Uy,{groups:t,activeGroup:n,onSelectGroup:f,onCreateGroup:d,userId:i||"",onAddMember:g,onRemoveMember:p}),T.jsxs("div",{className:"flex-1 overflow-hidden",children:[T.jsx("div",{className:"bg-white border-b border-gray-200 px-8 py-6",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),n.description&&T.jsx("p",{className:"text-gray-600 mt-1",children:n.description})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Total Expenses"}),T.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",_.totalExpenses.toLocaleString("en-IN")]})]})]})}),T.jsx("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[T.jsx(un,{children:T.jsx(dn,{className:"p-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:T.jsx(vu,{className:"h-4 w-4 text-blue-600"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Members"}),T.jsx("p",{className:"text-xl font-semibold text-gray-900",children:_.memberCount})]})]})})}),T.jsx(un,{children:T.jsx(dn,{className:"p-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:T.jsx(zf,{className:"h-4 w-4 text-green-600"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Expenses"}),T.jsx("p",{className:"text-xl font-semibold text-gray-900",children:_.expenseCount})]})]})})}),T.jsx(un,{children:T.jsx(dn,{className:"p-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:T.jsx(mP,{className:"h-4 w-4 text-purple-600"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Average"}),T.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:["",_.averageExpense.toLocaleString("en-IN",{maximumFractionDigits:0})]})]})]})})}),T.jsx(un,{children:T.jsx(dn,{className:"p-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center mr-3",children:T.jsx(Ga,{className:"h-4 w-4 text-yellow-600"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Balance"}),T.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Live"})]})]})})})]})}),T.jsx("div",{className:"p-8 overflow-y-auto h-[calc(100%-200px)]",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-6",children:[T.jsx(b2,{members:n.members,onAddExpense:S}),T.jsx(R2,{expenses:n.expenses,members:n.members,onDeleteExpense:w})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsx(P2,{members:n.members,expenses:n.expenses}),T.jsx(k2,{members:n.members,expenses:n.expenses})]})]})})]})]}):T.jsxs("div",{className:"h-screen flex bg-gray-50",children:[T.jsx(Uy,{groups:t,activeGroup:n,onSelectGroup:f,onCreateGroup:d,userId:i||""}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[T.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:T.jsx(vu,{className:"h-12 w-12 text-gray-400"})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to Expense Splitter"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Create or select a group to start splitting expenses with your friends."})]})})]})}const t5=({...t})=>T.jsx(iD,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-gray-950 group-[.toaster]:border-gray-200 group-[.toaster]:shadow-lg",description:"group-[.toast]:text-gray-500",actionButton:"group-[.toast]:bg-gray-900 group-[.toast]:text-gray-50",cancelButton:"group-[.toast]:bg-gray-100 group-[.toast]:text-gray-500"}},...t});Hh.createRoot(document.getElementById("root")).render(T.jsxs(z.StrictMode,{children:[T.jsx(e5,{}),T.jsx(t5,{position:"top-right"})]}));
